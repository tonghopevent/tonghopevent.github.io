(this["webpackJsonptonghopevent-frontend"]=this["webpackJsonptonghopevent-frontend"]||[]).push([[2],{13:function(t,e,n){"use strict";var o=n(12),a=n.n(o),c=n(47),i=n.n(c),s=n(48),r=n.n(s),l=n(23),d=n(4);function g(t){let{children:e}=t;return Object(d.jsx)("div",{style:{padding:"10px",marginBottom:"10px",border:"#cecece solid 2px",position:"relative"},children:e})}class u extends a.a.Component{constructor(){super(...arguments),this.state={templates:[],loading:!0,editingIndex:null,editingText:null,showing:!1},this.openTemplateDialog=()=>{this.setState({showing:!0})},this.loadTemplates=async()=>{this.setState({loading:!0});let t=await Object(l.b)("get","/inbox/templates");t=Object.keys(t).map((e=>({id:e,...t[e]}))),this.setState({templates:t,loading:!1,editingIndex:null,editingText:null})},this.save=async()=>{const{templates:t,editingIndex:e,editingText:n}=this.state;this.setState({loading:!0}),await Object(l.b)("post","/inbox/templates",{},{id:t[e].id,text:n||"(empty)"}),this.loadTemplates()},this.fillToInput=t=>()=>{window.setMessageInput(t.text),this.setState({showing:!1})}}componentDidMount(){this.loadTemplates(),window.openTemplateDialog=this.openTemplateDialog}render(){const{loading:t,templates:e,editingIndex:n,editingText:o,showing:a}=this.state;return a?Object(d.jsxs)("div",{style:{position:"fixed",maxWidth:"100vw",width:"600px",height:"80vh",Maxheight:"80vh",background:"white",zIndex:"100",top:"50%",left:"50%",transform:"translate(-50%, -50%)",border:"#bbb solid 2px",padding:"10px",overflow:"auto"},children:[Object(d.jsx)("button",{style:{position:"absolute",right:"10px"},onClick:()=>this.setState({showing:!1}),children:"[x] Tho\xe1t"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),!t&&e.map(((t,e)=>n===e?Object(d.jsxs)(g,{children:[Object(d.jsx)("textarea",{style:{width:"100%"},value:o,onChange:t=>this.setState({editingText:t.target.value}),rows:5}),Object(d.jsx)("button",{onClick:this.save,children:"Save"}),"  ",Object(d.jsx)("button",{onClick:()=>this.setState({editingIndex:null,editingText:null}),children:"Cancel"})]},e):Object(d.jsxs)(g,{children:[Object(d.jsx)("p",{style:{cursor:"pointer"},onClick:this.fillToInput(t),children:i()(t.text)}),Object(d.jsx)("button",{onClick:()=>this.setState({editingIndex:e,editingText:t.text}),children:"Edit"}),"  ",Object(d.jsx)("button",{onClick:this.fillToInput(t),children:"COPY & PASTE"}),"  "]},e))),t&&Object(d.jsx)("center",{children:Object(d.jsx)(r.a,{})})]}):null}}const p={PROD:!0,BACKEND:"https://nuichatbot.herokuapp.com/tonghopevent",SOCKETIO:"https://nuichatbot.herokuapp.com/",SOCKETIO_MODULE:"tonghopevent",SELF_PAGE_ID:"242401956152220",INBOX_TITLE:"tonghopevent",INBOX_SEND_ABILITY:!0,INBOX_UNREAD_ABILITY:!0,INBOX_IGNORED_CONVERSATION:"t_229190944264162",INBOX_MARK_READ_ON_OPEN:!1,VERSION:"5.3_r3",CustomMessengerWidget:u};e.a=p},23:function(t,e,n){"use strict";n.d(e,"b",(function(){return d}));n(12);var o=n(25),a=n.n(o),c=n(13),i=n(37),s=n(4);const r={f1:"Nh\xf3m HS, SV",f2:"CLB thu\u1ed9c tr\u01b0\u1eddng h\u1ecdc",f3:"Tr\u01b0\u1eddng c\xf4ng l\u1eadp",f4:"T\u1ed5 ch\u1ee9c phi l\u1ee3i nhu\u1eadn",p1:"T\u1ed5 ch\u1ee9c c\xf3 l\u1ee3i nhu\u1eadn"};class l{static loadSettings(){c.a.INBOX_MARK_READ_ON_OPEN=l.settings.markReadOnOpenInbox}static getToken(){const t=l.getLocalStorage("token");if(t)return t;window.location.href="#/login"}static checkDebounce(t){window.lastRun||(window.lastRun={});const e=window.lastRun[t]||0,n=Date.now();if(n-e<500)return!0;window.lastRun[t]=n}static checkError(t){t&&t.data&&"Invalid token"===t.data.error&&(l.removeLocalStorage("token"),window.location.href="#/",window.location.reload())}static setLocalStorage(t,e){localStorage.setItem("tonghopevent:"+t,JSON.stringify(e))}static getLocalStorage(t){const e=localStorage.getItem("tonghopevent:"+t)||null;return null===e?null:JSON.parse(e)}static removeLocalStorage(t){localStorage.removeItem("tonghopevent:"+t)}static getDateStr(t,e){let n=new Date(t||1);if(e){const o=6e4*n.getTimezoneOffset();n=new Date(t+o+3600*e*1e3)}let o=n.getDate(),a=n.getMonth()+1,c=n.getFullYear();return"".concat(o<10?"0":"").concat(o,"-").concat(a<10?"0":"").concat(a,"-").concat(c)}static getTimeStr(t,e){let n=new Date(t||1);if(e){const o=6e4*n.getTimezoneOffset();n=new Date(t+o+3600*e*1e3)}let o=n.getHours(),a=n.getMinutes();return"".concat(o<10?"0":"").concat(o,"h").concat(a<10?"0":"").concat(a)}static extractFacebookUsername(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace("/pg/","/").match(/[facebok]+\.com\/([^?/]+)/);if(!t||t.length<1)return null;const e=t[1];if("events"===e)return null;const n=e.match(/-([0-9]{7,20})$/);return!n||n.length<1?e:n[1]}static makeRequest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=l.getLocalStorage("token"),c=t+(-1!==t.indexOf("?")?"&":"?")+"token="+o;return a.a[e](c,n)}static cleanFBLink(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[&?](__|eid|fref)[^&?\s]+/g,"")}static getOrgName(t){return r[t.org]}static fallbackCopyTextToClipboard(t){var e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+n)}catch(o){console.error("Fallback: Oops, unable to copy",o)}document.body.removeChild(e)}static copyTextToClipboard(t){navigator.clipboard?navigator.clipboard.writeText(t).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(t){console.error("Async: Could not copy text: ",t)})):l.fallbackCopyTextToClipboard(t)}static nl2br(t){return t.trim().replace(/\r/g,"").split("\n").map((function(t,e,n){const o=e===n.length-1;return Object(s.jsxs)("span",{children:[t,!o&&Object(s.jsx)("br",{})]},e)}))}static getParameterByName(t){const e=window.location.href;t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}static getPsid(){const t=(l.getParameterByName("psid_hashed")||"").match(/[0-9]{3,20}[A-Z]{3,10}/);return t?t[0]:"none"}static goToInbox(t){const{id:e,senders:n}=t,o=n.data[0].name,a=Object(i.e)(o.toLowerCase()).replace(/[^a-z0-9]+/g,"-"),c=window.location.href.replace(/#.*/,"");window.open("".concat(c,"#/msg/").concat(e,"/").concat(a),"_blank").focus()}static setSettings(t){l.setLocalStorage("settings",t),l.settings={...t},l.loadSettings()}}l.settings={markReadOnOpenInbox:!1,...l.getLocalStorage("settings")||{}};const d=async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.token=l.getToken(),e=e.replace("/inbox/","/inbox2/");const i="post"===t?await a.a.post("".concat(c.a.BACKEND).concat(e),o,{params:n}):await a.a[t]("".concat(c.a.BACKEND).concat(e),{params:n});return l.checkError(i),i.data};e.a=l},37:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return l}));var o=n(13);const a={arg:null,res:null},c=t=>{if(a.arg===t)return a.res;{a.arg=t;const e=t.from.id,n=e===o.a.SELF_PAGE_ID||"182794865548469"===e;return a.res=n?"outgoing":"incoming",a.res}},i=(t,e)=>{const n=[],o=e=>t.some((t=>t.id===e));for(const a of e){if(o(a.id))break;n.unshift(a)}return[...t,...n]},s=(t,e)=>{const n={};return[...e,...t].filter((t=>!n[t.id]&&(n[t.id]=!0,!0)))},r=t=>{if(!t.senders)return t.recipient&&t.recipient.id!==o.a.SELF_PAGE_ID?t.recipient.id:t.sender&&t.sender.id!==o.a.SELF_PAGE_ID?t.sender.id:null;for(const e of t.senders.data)if(e.id!==o.a.SELF_PAGE_ID)return e.id},l=t=>t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")).replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"")).replace(/\u02C6|\u0306|\u031B/g,"")).replace(/ + /g," ")).trim()).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," ")},60:function(t,e,n){},83:function(t,e,n){"use strict";n.r(e);var o=n(12),a=n.n(o),c=n(34),i=n.n(c);n(60);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(13),r=n(23),l=n(89),d=n(51),g=n(4);l.a({dsn:"https://eed214d9c56c4e7085cccd764a9ac6a8@o1087634.ingest.sentry.io/6101146",integrations:[new d.a.BrowserTracing],tracesSampleRate:.05});const u=document.getElementById("root"),p=t=>{let{component:e}=t;return Object(g.jsx)(a.a.Suspense,{fallback:Object(g.jsx)("div",{className:"gtco-loader"}),children:Object(g.jsx)(e,{})})};i.a.render(Object(g.jsx)(p,{component:window.location.pathname.match(/\/data/)?(console.log(s.a.VERSION),r.a.loadSettings(),a.a.lazy((()=>Promise.all([n.e(0),n.e(1),n.e(4),n.e(6)]).then(n.bind(null,386))))):window.location.pathname.match(/\/form/)?a.a.lazy((()=>Promise.all([n.e(0),n.e(7),n.e(9)]).then(n.bind(null,391)))):a.a.lazy((()=>Promise.all([n.e(1),n.e(8)]).then(n.bind(null,390))))}),u),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((t=>{t.unregister()}))}},[[83,3,5]]]);
//# sourceMappingURL=main.8cafea61.chunk.js.map