(this["webpackJsonptonghopevent-frontend"]=this["webpackJsonptonghopevent-frontend"]||[]).push([[0],{165:function(e,t,n){},166:function(e,t,n){},233:function(e,t,n){},277:function(e,t,n){},287:function(e,t,n){},296:function(e,t,n){},299:function(e,t,n){},300:function(e,t,n){},301:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n.n(s),a=n(15),c=n.n(a),o=(n(233),n(207)),r=n(134),l=n.n(r),h=n(167),d=n.n(h),b=Object(o.a)({palette:{primary:{main:l.a[700]},secondary:{main:l.a[200]},error:{main:d.a[900]}}}),j=n(353),p=n(76),g=n(354),u=n(387),m=n(357),x=n(350),O=n(22),f=n.n(O),v=n(168),y=n.n(v),k=n(169),w=n.n(k);const C={arg:null,res:null},D=e=>{if(C.arg===e)return C.res;{C.arg=e;const t=e.from.id,n=t===M.SELF_PAGE_ID||"182794865548469"===t;return C.res=n?"outgoing":"incoming",C.res}},S=(e,t)=>{const n=[],s=t=>e.some((e=>e.id===t));for(const i of t){if(s(i.id))break;n.unshift(i)}return[...e,...n]},T=(e,t)=>{const n={};return[...t,...e].filter((e=>!n[e.id]&&(n[e.id]=!0,!0)))},N=e=>{if(!e.senders)return e.recipient&&e.recipient.id!==M.SELF_PAGE_ID?e.recipient.id:e.sender&&e.sender.id!==M.SELF_PAGE_ID?e.sender.id:null;for(const t of e.senders.data)if(t.id!==M.SELF_PAGE_ID)return t.id},_=e=>e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")).replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"")).replace(/\u02C6|\u0306|\u031B/g,"")).replace(/ + /g," ")).trim()).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," ");var I=n(1);const E={f1:"Nh\xf3m HS, SV",f2:"CLB thu\u1ed9c tr\u01b0\u1eddng h\u1ecdc",f3:"Tr\u01b0\u1eddng c\xf4ng l\u1eadp",f4:"T\u1ed5 ch\u1ee9c phi l\u1ee3i nhu\u1eadn",p1:"T\u1ed5 ch\u1ee9c c\xf3 l\u1ee3i nhu\u1eadn"};class B{static loadSettings(){M.INBOX_MARK_READ_ON_OPEN=B.settings.markReadOnOpenInbox}static getToken(){const e=B.getLocalStorage("token");if(e)return e;window.location.href="#/login"}static checkDebounce(e){window.lastRun||(window.lastRun={});const t=window.lastRun[e]||0,n=Date.now();if(n-t<500)return!0;window.lastRun[e]=n}static checkError(e){e&&e.data&&"Invalid token"===e.data.error&&(B.removeLocalStorage("token"),window.location.href="#/",window.location.reload())}static setLocalStorage(e,t){localStorage.setItem("tonghopevent:"+e,JSON.stringify(t))}static getLocalStorage(e){const t=localStorage.getItem("tonghopevent:"+e)||null;return null===t?null:JSON.parse(t)}static removeLocalStorage(e){localStorage.removeItem("tonghopevent:"+e)}static getDateStr(e,t){let n=new Date(e||1);if(t){const s=6e4*n.getTimezoneOffset();n=new Date(e+s+3600*t*1e3)}let s=n.getDate(),i=n.getMonth()+1,a=n.getFullYear();return"".concat(s<10?"0":"").concat(s,"-").concat(i<10?"0":"").concat(i,"-").concat(a)}static getTimeStr(e,t){let n=new Date(e||1);if(t){const s=6e4*n.getTimezoneOffset();n=new Date(e+s+3600*t*1e3)}let s=n.getHours(),i=n.getMinutes();return"".concat(s<10?"0":"").concat(s,"h").concat(i<10?"0":"").concat(i)}static extractFacebookUsername(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace("/pg/","/").match(/[facebok]+\.com\/([^?/]+)/);if(!e||e.length<1)return null;const t=e[1];if("events"===t)return null;const n=t.match(/-([0-9]{7,20})$/);return!n||n.length<1?t:n[1]}static makeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=B.getLocalStorage("token"),i=e+(-1!==e.indexOf("?")?"&":"?")+"token="+s;return f.a[t](i,n)}static cleanFBLink(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[&?](__|eid|fref)[^&?\s]+/g,"")}static getOrgName(e){return E[e.org]}static fallbackCopyTextToClipboard(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+n)}catch(s){console.error("Fallback: Oops, unable to copy",s)}document.body.removeChild(t)}static copyTextToClipboard(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)})):B.fallbackCopyTextToClipboard(e)}static nl2br(e){return e.trim().replace(/\r/g,"").split("\n").map((function(e,t,n){const s=t===n.length-1;return Object(I.jsxs)("span",{children:[e,!s&&Object(I.jsx)("br",{})]},t)}))}static getParameterByName(e){const t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}static getPsid(){const e=(B.getParameterByName("psid_hashed")||"").match(/[0-9]{3,20}[A-Z]{3,10}/);return e?e[0]:"none"}static goToInbox(e){const{id:t,senders:n}=e,s=n.data[0].name,i=_(s.toLowerCase()).replace(/[^a-z0-9]+/g,"-"),a=window.location.href.replace(/#.*/,"");window.open("".concat(a,"#/msg/").concat(t,"/").concat(i),"_blank").focus()}static setSettings(e){B.setLocalStorage("settings",e),B.settings={...e},B.loadSettings()}}B.settings={markReadOnOpenInbox:!1,...B.getLocalStorage("settings")||{}};const P=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.token=B.getToken(),t=t.replace("/inbox/","/inbox2/");const i="post"===e?await f.a.post("".concat(M.BACKEND).concat(t),s,{params:n}):await f.a[e]("".concat(M.BACKEND).concat(t),{params:n});return B.checkError(i),i.data};var A=B;function H(e){let{children:t}=e;return Object(I.jsx)("div",{style:{padding:"10px",marginBottom:"10px",border:"#cecece solid 2px",position:"relative"},children:t})}class L extends i.a.Component{constructor(){super(...arguments),this.state={templates:[],loading:!0,editingIndex:null,editingText:null,showing:!1},this.openTemplateDialog=()=>{this.setState({showing:!0})},this.loadTemplates=async()=>{this.setState({loading:!0});let e=await P("get","/inbox/templates");e=Object.keys(e).map((t=>({id:t,...e[t]}))),this.setState({templates:e,loading:!1,editingIndex:null,editingText:null})},this.save=async()=>{const{templates:e,editingIndex:t,editingText:n}=this.state;this.setState({loading:!0}),await P("post","/inbox/templates",{},{id:e[t].id,text:n||"(empty)"}),this.loadTemplates()},this.fillToInput=e=>()=>{window.setMessageInput(e.text),this.setState({showing:!1})}}componentDidMount(){this.loadTemplates(),window.openTemplateDialog=this.openTemplateDialog}render(){const{loading:e,templates:t,editingIndex:n,editingText:s,showing:i}=this.state;return i?Object(I.jsxs)("div",{style:{position:"fixed",maxWidth:"100vw",width:"600px",height:"80vh",Maxheight:"80vh",background:"white",zIndex:"100",top:"50%",left:"50%",transform:"translate(-50%, -50%)",border:"#bbb solid 2px",padding:"10px",overflow:"auto"},children:[Object(I.jsx)("button",{style:{position:"absolute",right:"10px"},onClick:()=>this.setState({showing:!1}),children:"[x] Tho\xe1t"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),!e&&t.map(((e,t)=>n===t?Object(I.jsxs)(H,{children:[Object(I.jsx)("textarea",{style:{width:"100%"},value:s,onChange:e=>this.setState({editingText:e.target.value}),rows:5}),Object(I.jsx)("button",{onClick:this.save,children:"Save"}),"  ",Object(I.jsx)("button",{onClick:()=>this.setState({editingIndex:null,editingText:null}),children:"Cancel"})]},t):Object(I.jsxs)(H,{children:[Object(I.jsx)("p",{style:{cursor:"pointer"},onClick:this.fillToInput(e),children:y()(e.text)}),Object(I.jsx)("button",{onClick:()=>this.setState({editingIndex:t,editingText:e.text}),children:"Edit"}),"  ",Object(I.jsx)("button",{onClick:this.fillToInput(e),children:"COPY & PASTE"}),"  "]},t))),e&&Object(I.jsx)("center",{children:Object(I.jsx)(w.a,{})})]}):null}}var M={PROD:!0,BACKEND:"https://nuichatbot.herokuapp.com/tonghopevent",SOCKETIO:"https://nuichatbot.herokuapp.com/",SOCKETIO_MODULE:"tonghopevent",SELF_PAGE_ID:"242401956152220",INBOX_TITLE:"tonghopevent",INBOX_SEND_ABILITY:!0,INBOX_UNREAD_ABILITY:!0,INBOX_IGNORED_CONVERSATION:"t_229190944264162",INBOX_MARK_READ_ON_OPEN:!1,VERSION:"5.3",CustomMessengerWidget:L};class F extends i.a.Component{constructor(e){super(),this.handleChange=e=>t=>{this.setState({[e]:t.target.value})},this.props=e,this.state={},window.changeHeader("Login")}async onLogin(){if(""===this.state.username||""===this.state.password)return window.showAlert({title:"Please fill in",text:"Please fill in your username and password"});{this.setState({loading:!0});const{username:e,password:t}=this.state,n=await f.a.post("".concat(M.BACKEND,"/login"),{username:e,password:t});if(this.setState({loading:!1}),!n.data.token)return window.showAlert({title:"Error",text:n.data.error});A.setLocalStorage("token",n.data.token),window.location.href="#/"}}async onRegister(){}render(){var e={input:{marginBottom:"20px",width:"500px",maxWidth:"100%"},container:{display:"flex",flexWrap:"wrap"},cardStyle:{maxWidth:"500px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}};const t=Object(I.jsxs)("div",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("center",{children:Object(I.jsx)(x.a,{})})]}),n=Object(I.jsx)("div",{children:Object(I.jsx)(j.a,{style:e.cardStyle,children:Object(I.jsxs)(g.a,{children:[Object(I.jsx)(p.a,{variant:"h5",component:"h2",children:"Admin - TongHopEvent"}),Object(I.jsx)(p.a,{color:"textSecondary",children:"Please login to continue"}),Object(I.jsx)(u.a,{label:"Username",type:"text",value:this.state.username,style:e.input,onChange:this.handleChange("username"),margin:"normal"}),Object(I.jsx)(u.a,{label:"Password",type:"password",value:this.state.password,style:e.input,onChange:this.handleChange("password"),margin:"normal"}),Object(I.jsx)("div",{children:Object(I.jsx)(m.a,{onClick:this.onLogin.bind(this),color:"primary",children:"Login"})})]})})});return this.state.loading?t:n}}var R=F,V=n(170),K=n.n(V),G=n(363),W=n(364),U=n(172),z=n.n(U),q=n(171),X=n.n(q),J=n(359),Q=n(358),Y=n(362),Z=n(360),$=n(361);class ee extends i.a.Component{constructor(e){super(e),this.state={comment:e.doc.comment||""}}render(){const{comment:e}=this.state,{onClose:t}=this.props;return Object(I.jsx)(i.a.Fragment,{children:Object(I.jsxs)(Q.a,{fullWidth:!0,open:!0,onClose:()=>t(!1),"aria-labelledby":"form-dialog-title",children:[Object(I.jsx)(J.a,{id:"form-dialog-title",children:"Ghi ch\xfa"}),Object(I.jsxs)(Z.a,{children:[Object(I.jsx)($.a,{children:"B\u1ea1n c\xf3 th\u1ec3 \u0111\u1ec3 l\u1ea1i ghi ch\xfa cho b\xe0i vi\u1ebft n\xe0y. Ch\u1ec9 c\xf3 Admin m\u1edbi nh\xecn th\u1ea5y ghi ch\xfa."}),Object(I.jsx)(u.a,{multiline:!0,rowsMax:"20",value:e,onChange:e=>{this.setState({comment:e.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})]}),Object(I.jsxs)(Y.a,{children:[Object(I.jsx)(m.a,{onClick:()=>t(!1),color:"primary",children:"Quay l\u1ea1i"}),Object(I.jsx)(m.a,{onClick:()=>t(e),color:"primary",children:"L\u01afU GHI CH\xda"})]})]})})}}var te=ee;n(277);class ne extends i.a.Component{constructor(e){super(),this.getImageUrl=()=>{const{doc:{image:e}}=this.props;return e&&0!==e.length?e[0].startsWith("http")?e[0]:"https://drive.google.com/uc?export=view&id=".concat(e[0]):null},this.props=e,this.state={loading:!1,isNoteEditOpen:!1,isCopied:!1,isExpanded:!this.props.admin,copyContent:this.props.admin?this.getCopyContent():""},this.props.doc&&this.props.doc.linkfb&&(this.fbusername=A.extractFacebookUsername(this.props.doc.linkfb)),e.admin&&(e.doc.image?this.state.publishAction="publish":this.fbusername?this.state.publishAction="getimage":this.state.publishAction=null)}async updateDocField(e,t,n,s){this.setState({loading:!0});const{doc:i}=this.props,a=await f.a.post(n,s);if(a.data.success){const n=JSON.parse(JSON.stringify(i));n[e]=t,this.props.setDoc(this.props.i,n)}else window.showAlert({title:"Error",text:a.data.error});this.setState({loading:!1})}async toggleTrashDoc(){const{doc:e}=this.props,t=!e.trashed,n=A.getLocalStorage("token");await this.updateDocField("trashed",t,"".concat(M.BACKEND,"/doc/").concat(e.id,"/trashed?token=").concat(n),{trashed:t})}async toggleApproved(){const{doc:e}=this.props,t=!e.approved,n=A.getLocalStorage("token");await this.updateDocField("approved",t,"".concat(M.BACKEND,"/doc/").concat(e.id,"/approved?token=").concat(n),{approved:t})}async updateComment(e){const{doc:t}=this.props,n=A.getLocalStorage("token");await this.updateDocField("comment",e||"","".concat(M.BACKEND,"/doc/").concat(t.id,"/comment?token=").concat(n),{comment:e})}getCopyContent(){const{doc:e}=this.props;return("-- ".concat(e.name," --\n")+"".concat(this.generateLocationTag(e)," ").concat(e.type.join(" "),"\n\n")+"\u25cf M\xf4 t\u1ea3: ".concat(e.description.trim(),"\n\n")+"\u25cf Link facebook: ".concat(A.cleanFBLink(e.linkfb),"\n")+(e.wanted&&e.wanted.length>0?"\u25cf Y\xeau c\u1ea7u \u0111\u1ed1i t\u01b0\u1ee3ng: "+e.wanted.join(", ").trim()+"\n":"")+(e.deadline?"\u25cf Deadline tuy\u1ec3n nh\xe2n s\u1ef1: "+e.deadline.trim()+"\n":"")+(e.benefit?"\u25cf Quy\u1ec1n l\u1ee3i khi tham gia d\u1ef1 \xe1n:\n"+e.benefit.trim()+"\n":"")+"\nTrackID:".concat(e.psid,":").concat(e.id)).trim()}generateLocationTag(e){const{location:t,locations:n}=e,s=[];console.log(e);const i=e=>{s.push("To\xe0n qu\u1ed1c"===e?"#d\u1ef1_\xe1n_to\xe0n_qu\u1ed1c":"#d\u1ef1_\xe1n_\u1edf_".concat(e.replace(/\s+/g,"_")))};return t&&i(t),n&&n.forEach(i),s.join(" ")}_renderNonAdminInfo(){const{doc:e}=this.props;return Object(I.jsx)("p",{style:{backgroundColor:e.trashed?"#ffa3a3":"#eee",padding:"10px",width:"100%"},children:Object(I.jsx)("center",{children:e.trashed?"B\xe0i vi\u1ebft n\xe0y \u0111\xe3 b\u1ecb t\u1eeb ch\u1ed1i":e.approved?"B\xe0i vi\u1ebft n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c duy\u1ec7t v\xe0 s\u1ebd s\u1edbm \u0111c \u0111\u0103ng l\xean fanpage":"B\xe0i vi\u1ebft n\xe0y \u0111ang \u0111\u1ee3i \u0111\u1ec3 \u0111\u01b0\u1ee3c ki\u1ec3m duy\u1ec7t"})})}_renderDuplicatedWarningIcon(){const{doc:e,duplicateHelper:t,openDuplicateDocDialog:n}=this.props;if(!t||e.approved)return null;const s=t.checkDoc(e);return s?Object(I.jsx)(G.a,{size:"small",color:"primary",style:{marginRight:"15px"},onClick:()=>n(s,e.id),children:Object(I.jsx)(X.a,{})}):null}_renderPostContent(){const{doc:e}=this.props;return Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsxs)("p",{children:[this.generateLocationTag(e)," ",e.type.join(" ")]}),Object(I.jsx)("p",{children:A.nl2br(e.description)}),Object(I.jsxs)("p",{children:["\u25cf Link facebook: ",A.cleanFBLink(e.linkfb),Object(I.jsx)("br",{}),e.wanted&&e.wanted.length>0&&Object(I.jsxs)("span",{children:["\u25cf Y\xeau c\u1ea7u \u0111\u1ed1i t\u01b0\u1ee3ng: ",e.wanted.join(", "),Object(I.jsx)("br",{})]}),!!e.deadline&&Object(I.jsxs)("span",{children:["\u25cf Deadline tuy\u1ec3n nh\xe2n s\u1ef1: ",A.nl2br(e.deadline),Object(I.jsx)("br",{})]}),!!e.benefit&&Object(I.jsxs)("span",{children:["\u25cf Quy\u1ec1n l\u1ee3i khi tham gia d\u1ef1 \xe1n: ",Object(I.jsx)("br",{}),A.nl2br(e.benefit),Object(I.jsx)("br",{})]})]}),this.props.admin&&Object(I.jsxs)("p",{children:["TrackID:",e.psid,":",e.id]}),!!e.image&&Object(I.jsxs)("p",{children:["\u1ea2nh tu\u1ef3 ch\u1ecdn: ",Object(I.jsx)("a",{href:this.getImageUrl(),target:"_blank",rel:"noopener noreferrer",children:"B\u1ea5m v\xe0o \u0111\xe2y"})]}),Object(I.jsxs)("p",{children:["(G\u1eedi l\xfac ",A.getTimeStr(e.created)," ng\xe0y ",A.getDateStr(e.created),")",!!e.org&&Object(I.jsxs)("span",{children:[Object(I.jsx)("br",{}),"\u0110\u01a1n v\u1ecb t\u1ed5 ch\u1ee9c: ",A.getOrgName(e)]})]}),!this.props.admin&&!!e.feedback&&Object(I.jsxs)("p",{children:["\u25cf C\xe2u h\u1ecfi, g\xf3p \xfd: ",e.feedback]})]})}_renderMainCard(){const{doc:e}=this.props,{isExpanded:t,copyContent:n,publishAction:s,isNoteEditOpen:a}=this.state,c=this.props.gotoPublish||(()=>{}),o=Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{style:t?null:{maxHeight:"315px",overflow:"hidden",position:"relative"},className:t?null:"fade-out",children:[!this.props.admin&&this._renderNonAdminInfo(),Object(I.jsxs)("p",{children:[e.approved&&Object(I.jsx)(G.a,{size:"small",color:"primary",style:{marginRight:"15px"},disabled:!0,children:Object(I.jsx)(z.a,{})}),this._renderDuplicatedWarningIcon(),Object(I.jsxs)("b",{children:["-- ",e.name," --"]}),e.plan&&Object(I.jsx)("p",{children:Object(I.jsxs)("span",{className:"doc-plan",children:["\u2588 G\xf3i ",e.plan.toUpperCase()]})})]}),Object(I.jsx)(K.a,{componentDecorator:(e,t,n)=>Object(I.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:t},n),children:this._renderPostContent()})]}),this.props.admin&&Object(I.jsx)("div",{children:Object(I.jsx)("center",{children:Object(I.jsx)(m.a,{onClick:()=>this.setState({isExpanded:!t}),children:t?"Thu g\u1ecdn":"Hi\u1ec7n th\xeam ..."})})}),Object(I.jsx)(W.a,{}),this.props.admin&&Object(I.jsx)(i.a.Fragment,{children:this.state.loading?Object(I.jsx)("center",{children:Object(I.jsx)(x.a,{})}):Object(I.jsxs)("div",{children:[e.comment&&e.comment.trim().length>0&&Object(I.jsxs)("p",{children:[Object(I.jsx)("b",{children:"\u25cf Ghi ch\xfa:"})," ",A.nl2br(e.comment)]}),!!e.feedback&&Object(I.jsxs)("p",{children:["\u25cf C\xe2u h\u1ecfi, g\xf3p \xfd: ",e.feedback]}),Object(I.jsx)(m.a,{variant:"outlined",onClick:this.toggleTrashDoc.bind(this),color:"primary",children:"X\xf3a"}),Object(I.jsx)(m.a,{variant:"outlined",onClick:this.toggleApproved.bind(this),color:"primary",children:"Tick"}),s&&Object(I.jsx)(m.a,{variant:"outlined",onClick:()=>{c({id:e.id,caption:n,url:this.getImageUrl(),fbusername:this.fbusername,psid:e.psid,feedback:e.feedback},s)},color:"primary",children:"\u0110\u0103ng b\xe0i"}),Object(I.jsx)(m.a,{variant:"outlined",onClick:()=>this.setState({isNoteEditOpen:!0}),color:"primary",children:"Ghi ch\xfa"}),Object(I.jsx)(m.a,{variant:"outlined",onClick:()=>this.props.openToolsDialog(e),color:"primary",children:"+"})]})})]});return Object(I.jsxs)("div",{style:{paddingBottom:"20px"},children:[Object(I.jsx)(j.a,{children:Object(I.jsx)(g.a,{style:{backgroundColor:e.approved&&this.props.admin?"#cfd8dc":"#fff"},className:e.approved&&this.props.admin?"approved":null,children:o})}),a&&Object(I.jsx)(te,{doc:e,onClose:e=>{this.setState({isNoteEditOpen:!1}),!1!==e&&this.updateComment(e)}})]})}_renderTrashedDoc(){const{doc:e}=this.props;return this.state.loading?Object(I.jsx)("center",{children:Object(I.jsx)(x.a,{})}):Object(I.jsxs)("p",{children:[Object(I.jsx)("b",{children:"(\u0110\xe3 x\xf3a)"})," ",e.name," \xa0\xa0\xa0",Object(I.jsx)(m.a,{variant:"outlined",size:"small",color:"primary",className:"restore-btn",onClick:this.toggleTrashDoc.bind(this),children:"Kh\xf4i ph\u1ee5c"})]})}render(){const{doc:e,admin:t}=this.props;return e.trashed&&t?this._renderTrashedDoc():this._renderMainCard()}}var se=ne,ie=n(356),ae=n(365),ce=n(366),oe=n(173);n(287);const re=[{desc:"B\xe1o tr\xf9ng b\xe0i",text:"\u0110\xe3 c\xf3 ng\u01b0\u1eddi nh\u1eadp th\xf4ng tin c\u1ee7a d\u1ef1 \xe1n / cu\u1ed9c thi / s\u1ef1 ki\u1ec7n n\xe0y. Kh\xf4ng bi\u1ebft b\u1ea1n c\xf3 mu\u1ed1n b\u1ed5 sung hay thay \u0111\u1ed5i g\xec kh\xf4ng nh\u1ec9?\n\nN\u1ebfu kh\xf4ng, ch\xfang m\xecnh s\u1ebd x\xf3a th\xf4ng tin b\u1ea1n \u0111\xe3 nh\u1eadp \u0111\u1ec3 kh\xf4ng b\u1ecb tr\xf9ng v\u1edbi b\xe0i \u0111\xe3 \u0111\u0103ng."},{desc:"B\xe1o b\u1ecb x\xf3a v\xec ko ph\xf9 h\u1ee3p",text:"Xin ch\xe0o b\u1ea1n,\n\nD\u1ef1 \xe1n / cu\u1ed9c thi / s\u1ef1 ki\u1ec7n c\u1ee7a b\u1ea1n \u0111\xe3 b\u1ecb x\xf3a do kh\xf4ng ph\xf9 h\u1ee3p v\u1edbi \u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng c\u1ee7a ch\xfang m\xecnh.\n\nH\xe3y tham kh\u1ea3o \u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng c\u1ee7a fanpage t\u1ea1i \u0111\xe2y: https://sites.google.com/view/tonghopevent"},{desc:"B\xe1o d\u1ef1 \xe1n c\xf3 l\u1ee3i nhu\u1eadn",text:"Xin ch\xe0o b\u1ea1n,\n\nD\u1ef1 \xe1n / cu\u1ed9c thi / s\u1ef1 ki\u1ec7n c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c \u0111i\u1ec1u h\xe0nh b\u1edfi m\u1ed9t t\u1ed5 ch\u1ee9c / c\xe1 nh\xe2n ho\u1ea1t \u0111\u1ed9ng c\xf3 l\u1ee3i nhu\u1eadn. D\u1ef1a theo \u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng c\u1ee7a ch\xfang m\xecnh, b\xe0i c\u1ee7a b\u1ea1n ph\u1ea3i tr\u1ea3 ph\xed 100.000 VN\u0110 \u0111\u1ec3 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c \u0111\u0103ng b\xe0i l\xean fanpage nh\xe9.\n\nH\xe3y tham kh\u1ea3o \u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng c\u1ee7a fanpage t\u1ea1i \u0111\xe2y: https://sites.google.com/view/tonghopevent"},{desc:"B\xe1o thi\u1ebfu th\xf4ng tin",text:"Admin \u0111\xe3 xem b\xe0i vi\u1ebft c\u1ee7a b\u1ea1n. Tuy nhi\xean, do b\xe0i vi\u1ebft c\u1ee7a b\u1ea1n c\xf2n thi\u1ebfu m\u1ed9t s\u1ed1 th\xf4ng tin n\xean ch\xfang m\xecnh ch\u01b0a th\u1ec3 ph\xea duy\u1ec7t \u0111\u01b0\u1ee3c. B\u1ea1n h\xe3y \u0111i\u1ec1n l\u1ea1i form v\u1edbi \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin h\u01a1n nh\xe9!\n\nH\xe3y tham kh\u1ea3o v\xed d\u1ee5 sau: https://bit.ly/2TZKbee"},{desc:"\u0110i\u1ec1n l\u1ea1i (kh\xf4ng paste link)",text:"Admin \u0111\xe3 xem b\xe0i vi\u1ebft c\u1ee7a b\u1ea1n. Tuy nhi\xean, ch\xfang m\xecnh kh\xf4ng th\u1ec3 x\u1eed l\xfd n\u1ebfu b\u1ea1n ch\u1ec9 copy-paste m\u1ed7i link b\xe0i vi\u1ebft. B\u1ea1n h\xe3y \u0111i\u1ec1n l\u1ea1i form th\u1eadt r\xf5 r\xe0ng, bao g\u1ed3m c\u1ea3 ph\u1ea7n gi\u1edbi thi\u1ec7u, \xfd ngh\u0129a d\u1ef1 \xe1n / cu\u1ed9c thi / s\u1ef1 ki\u1ec7n nh\xe9.\n\nH\xe3y tham kh\u1ea3o v\xed d\u1ee5 sau: https://bit.ly/2TZKbee"}];class le extends i.a.Component{constructor(e){super(e),this.state={loading:!0,error:!1,showTemplates:!0,sendInboxData:null,inboxData:{},isLinkCopied:!1}}async fetchData(){this.setState({error:!1,loading:!0,showTemplates:!0,isLinkCopied:!1});const e=await A.makeRequest("".concat(M.BACKEND,"/inbox/").concat(this.props.psid)),{data:t}=e;t&&Object.keys(t).length>0?this.setState({loading:!1,error:!1,inboxData:t}):this.setState({loading:!1,error:!0})}async sendInbox(){const e=(t=this.state.sendInboxData,JSON.parse(JSON.stringify(t)));var t;this.setState({sendInboxData:null}),this.props.closeToolsDialog();const n=await A.makeRequest("".concat(M.BACKEND,"/inbox/").concat(this.props.psid),"post",{message:"\u2b22 "+e.text});n.data&&n.data.success?window.toastr.success("\u0110\xe3 g\u1eedi tin nh\u1eafn th\xe0nh c\xf4ng!"):window.toastr.error("\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f C\xf3 l\u1ed7i x\u1ea3y ra, ko th\u1ec3 g\u1eedi tin nh\u1eafn \u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f")}goToPageInbox(){A.goToInbox(this.state.inboxData),this.props.closeToolsDialog()}_renderSendInboxDialogAsk(){const{sendInboxData:e}=this.state,t=Date.now()-this.props.doc.created<864e5,n=()=>this.setState({sendInboxData:null});return e?Object(I.jsxs)(Q.a,{open:!!e,onClose:n,children:[Object(I.jsx)(J.a,{id:"alert-dialog-title",children:e.desc}),Object(I.jsx)(Z.a,{children:Object(I.jsxs)($.a,{id:"alert-dialog-description",children:[t?"G\u1eedi tin nh\u1eafn c\xf3 n\u1ed9i dung nh\u01b0 sau (c\xf3 th\u1ec3 s\u1eeda):":"Kh\xf4ng th\u1ec3 t\u1ef1 \u0111\u1ed9ng g\u1eedi tin nh\u1eafn. H\xe3y copy-paste v\xe0 inbox th\u1ee7 c\xf4ng:",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(u.a,{multiline:!0,rowsMax:"20",value:e.text,onChange:t=>{this.setState({sendInboxData:{...e,text:t.target.value}})},margin:"normal",variant:"outlined",fullWidth:!0})]})}),Object(I.jsxs)(Y.a,{children:[Object(I.jsx)(m.a,{onClick:n,color:"primary",children:" Quay l\u1ea1i "}),!t&&Object(I.jsx)(m.a,{onClick:()=>A.copyTextToClipboard(e.text),color:"primary",children:" Copy tin nh\u1eafn "}),t?Object(I.jsx)(m.a,{onClick:()=>this.sendInbox(),color:"primary",children:" G\u1eecI "}):Object(I.jsx)(m.a,{onClick:()=>this.goToPageInbox(),color:"primary",children:" \u0110i t\u1edbi inbox "})]})]}):null}_renderError(){return Object(I.jsxs)(ie.a,{children:[Object(I.jsx)(ae.a,{button:!0,children:Object(I.jsx)(ce.a,{primary:"(C\xf3 l\u1ed7i x\u1ea3y ra)"})}),Object(I.jsx)(ae.a,{button:!0,onClick:this.props.closeToolsDialog,children:Object(I.jsx)(ce.a,{primary:"Quay l\u1ea1i"})})]})}_renderContent(){const{inboxData:e,showTemplates:t,isLinkCopied:n}=this.state;return Object(I.jsxs)(ie.a,{children:[Object(I.jsx)(ae.a,{button:!0,onClick:this.goToPageInbox.bind(this),children:Object(I.jsx)(ce.a,{primary:"\u0110i t\u1edbi inbox",secondary:"T\xean FB: ".concat(e.senders.data[0].name)})}),Object(I.jsx)(W.a,{}),!t&&Object(I.jsx)(ae.a,{button:!0,onClick:()=>this.setState({showTemplates:!0}),children:Object(I.jsx)(ce.a,{primary:"\ud83d\udcac (Hi\u1ec7n c\xe1c m\u1eabu tin nh\u1eafn)"})}),t&&re.map(((e,t)=>Object(I.jsx)(ae.a,{button:!0,onClick:()=>this.setState({sendInboxData:e}),children:Object(I.jsx)(ce.a,{primary:"\ud83d\udcac ".concat(e.desc)})},t))),Object(I.jsx)(W.a,{}),Object(I.jsx)(oe.CopyToClipboard,{text:"".concat(window.location.protocol,"//").concat(window.location.host,"/data/#/view/").concat(this.props.doc.id),onCopy:()=>this.setState({isLinkCopied:!0}),children:Object(I.jsx)(ae.a,{button:!0,children:Object(I.jsx)(ce.a,{primary:n?"(\u0110\xe3 copy link)":"Copy link b\xe0i vi\u1ebft"})})}),Object(I.jsx)(W.a,{}),Object(I.jsx)(ae.a,{button:!0,onClick:this.props.closeToolsDialog,children:Object(I.jsx)(ce.a,{primary:"Quay l\u1ea1i"})})]})}render(){const{name:e,open:t}=this.props;return Object(I.jsxs)(i.a.Fragment,{children:[this._renderSendInboxDialogAsk(),Object(I.jsxs)(Q.a,{open:t,onEnter:this.fetchData.bind(this),onBackdropClick:this.props.closeToolsDialog,className:"tools-dialog","aria-labelledby":"simple-dialog-title",children:[Object(I.jsx)(J.a,{id:"simple-dialog-title",children:e?e.substr(0,24):""}),this.state.loading?Object(I.jsx)("center",{children:Object(I.jsx)(x.a,{})}):this.state.error?this._renderError():this._renderContent()]})]})}}var he=le;class de extends i.a.Component{constructor(e){super(e),this.state={}}_renderContent(){const{docs:e,selectedDocID:t}=this.props,n=Date.now();return Object(I.jsxs)(ie.a,{children:[e.map((e=>{if(e.id===t)return null;const s=Math.floor((n-e.created)/86400/1e3);return Object(I.jsx)(ae.a,{button:!0,onClick:()=>window.open("/data/#/view/".concat(e.id),"_blank"),children:Object(I.jsx)(ce.a,{primary:e.name,secondary:"".concat(A.getDateStr(e.created)," l\xfac ").concat(A.getTimeStr(e.created)," ").concat(s>0?" (".concat(s," ng\xe0y tr\u01b0\u1edbc)"):"")})},e.id)})),Object(I.jsx)(W.a,{}),Object(I.jsx)(ae.a,{button:!0,onClick:this.props.closeDuplicateDocDialog,children:Object(I.jsx)(ce.a,{primary:"Quay l\u1ea1i"})})]})}render(){const{docs:e}=this.props;return Object(I.jsxs)(Q.a,{open:!!e,"aria-labelledby":"simple-dialog-title",children:[Object(I.jsx)(J.a,{id:"simple-dialog-title",children:"B\xe0i \u0111\u0103ng tr\xf9ng"}),Object(I.jsx)(Z.a,{children:"B\xe0i \u0111\u0103ng n\xe0y c\xf3 th\u1ec3 b\u1ecb tr\xf9ng v\u1edbi nh\u1eefng b\xe0i sau:"}),e&&this._renderContent()]})}}var be=de;var je=class{constructor(){this.seen={}}pushLookbackData(e){for(const t of e){const{fbname:e}=t;this.seen[e]?this.seen[e].push(t):this.seen[e]=[t]}}pushDoc(e){const t=A.extractFacebookUsername(e.linkfb);if(!t)return null;this.seen[t]?this.seen[t].push(e):this.seen[t]=[e]}checkDoc(e){const t=A.extractFacebookUsername(e.linkfb),n=this.seen[t];return n&&n.length>1?n:null}clear(){this.seen={}}},pe=n(93);class ge extends i.a.Component{constructor(e){super(),this.markDocApproved=e=>{window.DOCID_APPROVED||(window.DOCID_APPROVED={}),window.DOCID_APPROVED[e]=!0,this.dispatchDocApproved()},this.dispatchDocApproved=()=>{window.DOCID_APPROVED||(window.DOCID_APPROVED={}),this.setState((e=>({list:e.list.map((e=>(window.DOCID_APPROVED[e.id]&&(e.approved=!0),e)))})))},this.handleChange=e=>t=>{this.setState({[e]:t.target.value})},this.props=e,this.state={loading:!0,list:[],toolsDialogOpen:!1,toolsDialogDoc:{},duplicateHelper:new je,duplicateDocDialog:null,selectedDocID:""},window.changeHeader("Qu\u1ea3n l\xfd d\u1eef li\u1ec7u - TongHopEvent")}componentDidMount(){this.loadData(),window.markDocApproved=this.markDocApproved}componentWillUnmount(){window.markDocApproved=null}async loadData(){const e=new je,t=A.getToken(),[n,{data:s}]=await Promise.all([f.a.get("".concat(M.BACKEND,"/feed?token=").concat(t)),f.a.get("".concat(M.BACKEND,"/lookback?token=").concat(t))]);A.checkError(n),e.pushLookbackData(s),this.setState({loading:!1,list:n.data,duplicateHelper:e}),this.dispatchDocApproved()}onClickEdit(){this.setState({edit:!0})}setDoc(e,t){this.setState((n=>{const s=n.list;return s[e]=t,{list:s}}))}openToolsDialog(e){this.setState({toolsDialogOpen:!0,toolsDialogDoc:e})}openDuplicateDocDialog(e,t){this.setState({duplicateDocDialog:e,selectedDocID:t})}render(){const e=Object(I.jsxs)("div",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("center",{children:Object(I.jsx)(x.a,{})})]}),{gotoPublish:t}=this.props,{duplicateDocDialog:n,duplicateHelper:s,selectedDocID:a}=this.state,c=Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsxs)("div",{style:{marginTop:"20px",marginRight:"20px",marginLeft:"20px"},children:[0===this.state.list.length&&Object(I.jsx)("center",{children:Object(I.jsx)("h2",{children:"Ch\u01b0a c\xf3 b\xe0i \u0111\u0103ng n\xe0o"})}),Object(I.jsx)(pe.a,{columnsCountBreakPoints:{350:1,1e3:2,1550:3},children:Object(I.jsx)(pe.b,{gutter:"10px",children:this.state.list.map(((e,n)=>e?Object(I.jsx)("div",{children:Object(I.jsx)(se,{doc:e,setDoc:this.setDoc.bind(this),i:n,admin:!0,gotoPublish:t,openToolsDialog:this.openToolsDialog.bind(this),openDuplicateDocDialog:this.openDuplicateDocDialog.bind(this),duplicateHelper:s})},e.id):null))})})]}),Object(I.jsx)(he,{open:this.state.toolsDialogOpen,closeToolsDialog:()=>this.setState({toolsDialogOpen:!1}),name:this.state.toolsDialogDoc.name,psid:this.state.toolsDialogDoc.psid,doc:this.state.toolsDialogDoc}),Object(I.jsx)(be,{docs:n,selectedDocID:a,closeDuplicateDocDialog:()=>this.setState({duplicateDocDialog:null})})]});return this.state.loading?e:c}}var ue=ge;const me={cardStyle:{maxWidth:"800px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}};class xe extends i.a.Component{constructor(e){super(),this.props=e,this.state={loading:!0,doc:{}},window.changeHeader("Qu\u1ea3n l\xfd d\u1eef li\u1ec7u - TongHopEvent")}componentDidMount(){this.loadData()}async loadData(){const e=A.getLocalStorage("token"),t=await f.a.get("".concat(M.BACKEND,"/doc/").concat(this.props.id,"?token=").concat(e));t.data.error?this.setState({loading:!1,doc:null}):this.setState({loading:!1,doc:t.data})}_renderDocView(){return Object(I.jsx)("div",{style:me.cardStyle,children:Object(I.jsx)(se,{doc:this.state.doc||{}})})}_renderDocNotFound(){return Object(I.jsxs)("center",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("h2",{children:"C\xf3 l\u1ed7i x\u1ea3y ra"}),"B\xe0i \u0111\u0103ng n\xe0y kh\xf4ng t\u1ed3n t\u1ea1i ho\u1eb7c \u0111\xe3 b\u1ecb xo\xe1",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})}render(){const e=Object(I.jsxs)("div",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("center",{children:Object(I.jsx)(x.a,{})})]});return this.state.loading?e:this.state.doc?this._renderDocView():this._renderDocNotFound()}}var Oe=xe,fe=n(89),ve=n.n(fe),ye=n(205),ke=n(125);class we extends i.a.Component{constructor(e){super(e),this.state={publish_time:new Date(Date.now()+12e5)}}componentDidMount(){this.props.handleDateChange(this.state.publish_time.getTime()/1e3)}handleDateChange(e){this.setState({publish_time:e}),this.props.handleDateChange(e.getTime()/1e3)}render(){const{publish_time:e}=this.state;return Object(I.jsxs)(ke.c,{utils:ye.a,children:[Object(I.jsx)(ke.a,{margin:"normal",id:"mui-pickers-date",label:"Date picker",value:e,onChange:this.handleDateChange.bind(this),KeyboardButtonProps:{"aria-label":"change date"}}),"\xa0\xa0\xa0\xa0\xa0",Object(I.jsx)(ke.b,{margin:"normal",id:"mui-pickers-time",label:"Time picker",value:e,onChange:this.handleDateChange.bind(this),KeyboardButtonProps:{"aria-label":"change time"}})]})}}var Ce=we;const De=864e5,Se=6e5,Te=-252e5,Ne=[{hrs:6,min:0,priority:3},{hrs:6,min:20,priority:2},{hrs:6,min:40,priority:1},{hrs:7,min:0,priority:1},{hrs:19,min:0,priority:3},{hrs:19,min:30,priority:4},{hrs:20,min:0,priority:7},{hrs:20,min:30,priority:7},{hrs:20,min:45,priority:4},{hrs:21,min:0,priority:9},{hrs:21,min:15,priority:4},{hrs:21,min:30,priority:8},{hrs:21,min:50,priority:4},{hrs:22,min:10,priority:1}].map((e=>({...e,timeInDay:1e3*(3600*e.hrs+60*e.min)}))),_e=e=>{const t=e.match(/([0-9]+)\/([0-9]+)/);if(console.log(t),!t)return 0;const n=new Date(2021,parseInt(t[2])-1,parseInt(t[1]),0,0,0,0);return n.setTime(n.getTime()+6e4*n.getTimezoneOffset()-Te),console.log(n),n.getTime()},Ie=e=>{let{stat:t}=e;const n=JSON.parse(JSON.stringify(t)).sort();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("p",{children:Object(I.jsx)("b",{children:"C\xe1c b\xe0i \u0111\u0103ng \u0111\xe3 l\xean l\u1ecbch"})}),Object(I.jsx)("ul",{children:n.map((e=>Object(I.jsxs)("li",{children:[A.getTimeStr(e)," ng\xe0y ",A.getDateStr(e)]},e)))})]})},Ee=e=>{let{statArr:t,value:n,onChange:a,feedback:c}=e;const[o,r]=Object(s.useState)(!1),[l,h]=Object(s.useState)(!1),[d]=Object(s.useState)((()=>{const e=Date.now(),t=Math.floor(e/De)*De,n=[];let s=0;for(;n.length<7;){const i=t+s*De+Te,a=[];for(const t of Ne){const n=i+t.timeInDay;n-e>12e5&&a.push({...t,time:n})}a.length>2&&n.push({startAt:i-Te,slotsOfDay:a}),s++}return n})()),[b,j]=Object(s.useState)({}),[p,g]=Object(s.useState)(null),u=1e3*n;return Object(s.useEffect)((()=>{const e=JSON.parse(JSON.stringify(t));j(((e,t)=>{const n={};for(const{slotsOfDay:s}of t)for(const{time:t}of s)e.some((e=>e-Se<t&&t<e+Se))&&(n[t]=!0);return n})(e,d));const n=((e,t,n)=>{const s=_e(n),i=JSON.parse(JSON.stringify(e));for(const{slotsOfDay:a}of i){a.sort(((e,t)=>e.priority<t.priority?1:-1));for(const{time:e}of a)if(!t[e]&&e>s)return e}return null})(d,b,c);n&&(g(n),setTimeout((()=>a(Math.round(n/1e3))),200))}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("b",{children:"L\xean l\u1ecbch b\xe0i \u0111\u0103ng"}),"   ",Object(I.jsx)(m.a,{variant:"outlined",size:"small",onClick:()=>r(!o),children:o?"Ch\u1ecdn gi\u1edd theo slot":"Ch\u1ecdn gi\u1edd th\u1ee7 c\xf4ng"})]}),c&&Object(I.jsxs)("p",{children:["G\xf3p \xfd t\u1eeb ng\u01b0\u1eddi g\u1eedi: ",c]}),!o&&Object(I.jsxs)(I.Fragment,{children:[p&&Object(I.jsxs)("p",{children:["Gi\u1edd \u0111\u0103ng b\xe0i do m\xe1y g\u1ee3i \xfd: ",A.getTimeStr(p,7)," ng\xe0y ",A.getDateStr(p,7)]}),d.map(((e,t)=>!l&&t<3||l?Object(I.jsxs)("p",{children:[Object(I.jsx)("b",{children:A.getDateStr(e.startAt,7)})," (GMT+7)",Object(I.jsx)("br",{}),e.slotsOfDay.map((e=>{let{time:t}=e;return Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsx)(m.a,{variant:"outlined",size:"small",color:"primary",className:u===t?"timeslot-selected":"",onClick:()=>a(Math.round(t/1e3)),disabled:b[t],children:A.getTimeStr(t,7)}),"  "]},t)}))]},e.startAt):null)),!l&&Object(I.jsx)(m.a,{variant:"outlined",size:"small",color:"primary",onClick:()=>h(!0),children:"+ Hi\u1ec7n th\xeam ng\xe0y"})]}),o&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ce,{handleDateChange:e=>a(Math.round(e))}),Object(I.jsx)(Ie,{stat:t})]})]})},Be={cardStyle:{marginTop:"20px",marginRight:"1em",marginLeft:"1em",display:"flex",flexWrap:"wrap"}};class Pe extends i.a.Component{constructor(e){super(e),this.getErrorMessage=e=>{var t;return(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.message)?"L\xfd do: "+e.error.message:"H\xe3y b\xe1o l\u1ea1i cho Nui."},this.state={completed:!1,loading:!0,stat:[],inboxData:null},e.data&&(this.state.id=e.data.id,this.state.caption=e.data.caption,this.state.url=e.data.url,this.state.psid=e.data.psid,this.state.feedback=e.data.feedback||"",this.state.scheduled_publish_time=0),window.changeHeader("C\xf4ng c\u1ee5 \u0111\u0103ng b\xe0i - TongHopEvent")}componentDidMount(){this.loadStat(),this.loadInbox()}async loadStat(){const e=A.getLocalStorage("token"),t=await f.a.get("".concat(M.BACKEND,"/publish/stat?token=").concat(e));t.data.error?this.setState({loading:!1,stat:[]}):this.setState({loading:!1,stat:t.data})}async loadInbox(){const{data:e}=await A.makeRequest("".concat(M.BACKEND,"/inbox/").concat(this.state.psid));e&&Object.keys(e).length>0&&this.setState({inboxData:e})}async doPublish(){const e=A.getLocalStorage("token"),t=this.state.id,n={caption:this.state.caption,url:this.state.url,scheduled_publish_time:this.state.scheduled_publish_time},s=window.toastr.info("\u0110ang \u0111\u0103ng b\xe0i...","Publish tool",{timeOut:6e4});window.location.hash="#/manage";const{data:i}=await f.a.post("".concat(M.BACKEND,"/publish?token=").concat(e),n);window.toastr.clear(s),i.id?(window.toastr.success("\u0110\xe3 \u0111\u0103ng b\xe0i th\xe0nh c\xf4ng!","Publish tool"),window.markDocApproved&&window.markDocApproved(t)):window.toastr.error("L\u1ed7i: Kh\xf4ng th\u1ec3 \u0111\u0103ng b\xe0i. "+this.getErrorMessage(i),"Publish tool",{timeOut:2e4})}_renderComposerCard(){const e={height:"300px",maxWidth:"100%"};return Object(I.jsx)(j.a,{children:Object(I.jsxs)(g.a,{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)(m.a,{variant:"outlined",size:"small",onClick:()=>window.location.hash="#/manage",children:"Tr\u1edf v\u1ec1"}),"\xa0\xa0\xa0",Object(I.jsx)("b",{children:"So\u1ea1n b\xe0i \u0111\u0103ng"})]}),Object(I.jsx)("center",{children:Object(I.jsx)(ve.a,{alt:"",src:this.state.url,style:e,loader:Object(I.jsx)("div",{style:e,children:Object(I.jsxs)("center",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{})]})})})}),Object(I.jsx)(u.a,{label:"N\u1ed9i dung b\xe0i \u0111\u0103ng",multiline:!0,rowsMax:"20",value:this.state.caption,onChange:e=>{this.setState({caption:e.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})]})})}_renderPublishCard(){const{scheduled_publish_time:e,stat:t,feedback:n}=this.state,s=e-Date.now()/1e3>900,i=1e3*e;return Object(I.jsx)(j.a,{children:Object(I.jsxs)(g.a,{children:[Object(I.jsx)(Ee,{value:e,statArr:t,onChange:e=>this.setState({scheduled_publish_time:e}),feedback:n}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),s&&Object(I.jsx)(m.a,{variant:"contained",color:"primary",onClick:()=>{window.showAlert({title:"X\xe1c nh\u1eadn \u0111\u0103ng b\xe0i",text:"\u0110\u0103ng b\xe0i v\xe0o l\xfac ".concat(A.getTimeStr(i)," ng\xe0y ").concat(A.getDateStr(i)," ?"),onClickOK:this.doPublish.bind(this),showCancel:!0})},children:"\u0110\u0103ng b\xe0i"}),!s&&e>0&&Object(I.jsx)("p",{style:{color:"red"},children:"Gi\u1edd \u0111\u0103ng b\xe0i ph\u1ea3i c\xe1ch hi\u1ec7n t\u1ea1i \xedt nh\u1ea5t 15 ph\xfat"})]})})}_renderCompletedCard(){const{scheduled_publish_time:e}=this.state,t=1e3*e;return Object(I.jsxs)("div",{style:Be.cardStyle,children:[Object(I.jsx)(j.a,{children:Object(I.jsxs)(g.a,{children:[Object(I.jsx)("h2",{children:"\u0110\u0103ng b\xe0i th\xe0nh c\xf4ng"}),Object(I.jsxs)("p",{children:["B\xe0i vi\u1ebft \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1eb7t gi\u1edd \u0111\u1ec3 \u0111\u0103ng v\xe0o l\xfac ",A.getTimeStr(t)," ng\xe0y ",A.getDateStr(t)]}),Object(I.jsx)(m.a,{variant:"outlined",onClick:()=>window.location.hash="#/",children:"Tr\u1edf v\u1ec1 trang ch\u1ee7"})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})}_renderInboxCard(){const{inboxData:e}=this.state;return Object(I.jsx)(j.a,{children:Object(I.jsxs)(g.a,{children:[!e&&Object(I.jsx)("center",{children:Object(I.jsx)(x.a,{})}),e&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("b",{children:"Tin nh\u1eafn m\u1edbi nh\u1ea5t (\u1edf tr\xean l\xe0 m\u1edbi, d\u01b0\u1edbi l\xe0 c\u0169)"}),"   ",Object(I.jsx)(m.a,{variant:"outlined",size:"small",onClick:()=>A.goToInbox(e),children:"M\u1edf inbox"}),Object(I.jsx)("br",{}),"------",Object(I.jsx)("br",{}),e.messages.data.map((e=>Object(I.jsxs)("p",{children:[Object(I.jsx)("b",{children:e.from.name}),": ",e.message]},e.id)))]})]})})}_renderMain(){return Object(I.jsxs)("div",{style:{margin:"20px"},children:[Object(I.jsx)(pe.a,{columnsCountBreakPoints:{350:1,750:2,900:2},children:Object(I.jsxs)(pe.b,{gutter:"10px",children:[this._renderComposerCard(),Object(I.jsx)("div",{})," ",this._renderPublishCard(),this._renderInboxCard()]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})}_renderError(){return Object(I.jsxs)("center",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("h2",{children:"C\xf3 l\u1ed7i x\u1ea3y ra"}),"H\xe3y v\xe0o trang ch\u1ee7 v\xe0 th\u1eed l\u1ea1i",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})}render(){const e=Object(I.jsxs)("div",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("center",{children:Object(I.jsx)(x.a,{})})]});return this.state.loading?e:this.state.completed?this._renderCompletedCard():this.props.data?this._renderMain():this._renderError()}}var Ae=Pe;const He={maxHeight:"300px",maxWidth:"100%"},Le={height:"300px",width:"100%"},Me={cardStyle:{maxWidth:"800px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}};class Fe extends i.a.Component{constructor(e){super(e),this.state={showGetToken:!1,access_token:"",completed:!1,loading:!0,imgs:[]},e.data?(this.state.caption=e.data.caption,this.state.fbusername=e.data.fbusername):this.state.error="H\xe3y v\u1ec1 trang ch\u1ee7 v\xe0 th\u1eed l\u1ea1i",window.changeHeader("Ch\u1ecdn \u1ea3nh b\xe0i \u0111\u0103ng - TongHopEvent")}componentDidMount(){this.fetchFacebookApi()}async fetchFacebookApi(){const e=A.getLocalStorage("fbtoken");try{const t=await f.a.get("https://graph.facebook.com/".concat(this.state.fbusername,"?fields=feed.limit(20)%7Bfull_picture%7D%2Cpicture.width(720)%7Burl%7D&access_token=").concat(e));if(t.data.error)this.setState({loading:!1,showGetToken:!0});else{const e=t.data.feed.data.map((e=>e.full_picture));e.unshift(t.data.picture.data.url),this.setState({loading:!1,showGetToken:!1,imgs:e})}}catch(t){404===t.response.status?this.setState({loading:!1,error:"Kh\xf4ng th\u1ec3 m\u1edf trang facebook n\xe0y"}):this.setState({loading:!1,showGetToken:!0})}}onSaveToken(){let e=this.state.access_token;e=e.match(/EA[a-zA-Z0-9]+/);try{A.setLocalStorage("fbtoken",e[0]);const t=window.location.hash;window.location.hash="#/reload",setTimeout((()=>{window.location.hash=t}),50)}catch(t){window.alert("token kh\xf4ng h\u1ee3p l\u1ec7")}}_renderTitleCard(){return Object(I.jsx)(j.a,{children:Object(I.jsx)(g.a,{children:Object(I.jsxs)("p",{children:[Object(I.jsx)(m.a,{variant:"outlined",size:"small",onClick:()=>window.location.hash="#/",children:"Tr\u1edf v\u1ec1"}),"\xa0\xa0\xa0",Object(I.jsx)("b",{children:"Ch\u1ecdn \u1ea3nh cho b\xe0i \u0111\u0103ng"})]})})})}_renderImageCard(e){return Object(I.jsx)(j.a,{children:Object(I.jsxs)(g.a,{children:[Object(I.jsx)("center",{children:Object(I.jsx)(ve.a,{alt:"",src:e,style:He,loader:Object(I.jsx)("div",{style:Le,children:Object(I.jsxs)("center",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{})]})})})}),Object(I.jsx)(m.a,{variant:"outlined",size:"small",style:{float:"right",margin:"10px"},onClick:()=>{const t=JSON.parse(JSON.stringify(this.props.data));t.url=e,this.props.gotoPublish(t,"publish")},children:"Ch\u1ecdn \u1ea3nh n\xe0y"})]})})}_renderGetTokenCard(){return Object(I.jsx)(j.a,{children:Object(I.jsxs)(g.a,{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)(m.a,{variant:"outlined",size:"small",onClick:()=>window.location.hash="#/",children:"Tr\u1edf v\u1ec1"}),"\xa0\xa0\xa0",Object(I.jsx)("b",{children:"L\u1ea5y token"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"B\u1ea1n ch\u01b0a c\xf3 token ho\u1eb7c token \u0111\xe3 b\u1ecb h\u1ebft h\u1ea1n. H\xe3y l\xe0m theo h\u01b0\u1edbng d\u1eabn n\xe0y \u0111\u1ec3 l\u1ea5y token: ",Object(I.jsx)("a",{href:"https://blog.ngxson.com/tonghopevent/#lay-token",target:"_blank",rel:"noopener noreferrer",children:"[B\u1ea5m v\xe0o \u0111\xe2y]"}),Object(I.jsx)("br",{}),"L\u01b0u \xfd: token s\u1ebd \u0111c l\u01b0u tr\xean m\xe1y n\xe0y. B\u1ea1n c\xf3 th\u1ec3 l\u1ea5y token t\u1eeb m\xe1y t\xednh \u0111\u1ec3 d\xf9ng tr\xean \u0110T.",Object(I.jsx)("br",{}),"\u0110i\u1ec1n token c\u1ee7a b\u1ea1n v\xe0o \xf4 d\u01b0\u1edbi \u0111\xe2y:",Object(I.jsx)("br",{})]}),Object(I.jsx)(u.a,{multiline:!0,rowsMax:"5",value:this.state.access_token,onChange:e=>{this.setState({access_token:e.target.value})},margin:"normal",variant:"outlined",fullWidth:!0}),Object(I.jsx)("br",{}),Object(I.jsx)(m.a,{variant:"outlined",onClick:this.onSaveToken.bind(this),children:"Ti\u1ebfp t\u1ee5c"})]})})}_renderMain(){return Object(I.jsxs)(i.a.Fragment,{children:[this.state.showGetToken&&Object(I.jsx)("div",{style:Me.cardStyle,children:this._renderGetTokenCard()}),!this.state.showGetToken&&Object(I.jsx)("div",{style:Me.cardStyle,children:this._renderTitleCard()}),!this.state.showGetToken&&this.state.imgs.map(((e,t)=>Object(I.jsx)("div",{style:Me.cardStyle,children:this._renderImageCard(e)},t))),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})}_renderError(){return Object(I.jsxs)("center",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("h2",{children:"C\xf3 l\u1ed7i x\u1ea3y ra"}),this.state.error,Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(m.a,{variant:"outlined",size:"small",onClick:()=>window.location.hash="#/",children:"Tr\u1edf v\u1ec1"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})}render(){const e=Object(I.jsxs)("div",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("center",{children:Object(I.jsx)(x.a,{})})]});return this.state.loading?e:this.state.error?this._renderError():this._renderMain()}}var Re=Fe,Ve=(n(165),n(166),n(57)),Ke=n(91),Ge=n(121),We=n.n(Ge);class Ue extends i.a.Component{constructor(e){super(e),this.handleClickOK=()=>{this.state.onClickOK&&(this.state.onClickOK(),this.setState({onClickOK:null})),this.setState({open:!1})},this.handleCancel=()=>{this.setState({open:!1})},this.state={open:!1,onClickOK:null},window.showAlert=this.show.bind(this)}show(e){this.setState({open:!0,title:e.title,text:e.text,onClickOK:e.onClickOK||null,showCancel:e.showCancel})}render(){return Object(I.jsx)("div",{children:Object(I.jsxs)(Q.a,{open:this.state.open,onClose:this.handleCancel,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsx)(J.a,{id:"alert-dialog-title",children:this.state.title}),Object(I.jsx)(Z.a,{children:Object(I.jsx)($.a,{id:"alert-dialog-description",children:this.state.text})}),Object(I.jsxs)(Y.a,{children:[Object(I.jsx)(m.a,{onClick:this.handleClickOK.bind(this),color:"primary",autoFocus:!0,children:"OK"}),this.state.showCancel?Object(I.jsx)(m.a,{onClick:this.handleCancel.bind(this),color:"primary",autoFocus:!0,children:"Cancel"}):null]})]})})}}var ze=Ue;class qe extends i.a.Component{constructor(e){super(e),this.onEditPost=async()=>{const{message:e}=this.state,{post:t,onClose:n}=this.props;this.setState({loading:!0});const s=A.getLocalStorage("token");await f.a.patch("".concat(this.props.editPostEndpoint,"/").concat(t.id,"?token=").concat(s),{message:e}),n(!0)},console.log(e.post),this.state={title:e.post.message.split("\n")[0]||"",message:e.post.message,loading:!1}}render(){const{title:e,message:t,loading:n}=this.state,{post:s,onClose:a}=this.props;return Object(I.jsx)(i.a.Fragment,{children:Object(I.jsx)(Q.a,{fullWidth:!0,open:!0,onClose:()=>a(!1),"aria-labelledby":"form-dialog-title",children:n?Object(I.jsxs)("center",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(J.a,{id:"form-dialog-title",children:"S\u1eeda b\xe0i vi\u1ebft"}),Object(I.jsxs)(Z.a,{children:[Object(I.jsxs)($.a,{children:["B\xe0i vi\u1ebft: ",e,Object(I.jsx)("br",{}),"\u0110\u0103ng l\xfac: ",A.getTimeStr(s.time)," ng\xe0y ",A.getDateStr(s.time)]}),Object(I.jsx)(u.a,{multiline:!0,rowsMax:"20",value:t,onChange:e=>{this.setState({message:e.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})]}),Object(I.jsxs)(Y.a,{children:[Object(I.jsx)(m.a,{onClick:()=>a(!1),color:"primary",children:"Quay l\u1ea1i"}),Object(I.jsx)(m.a,{onClick:this.onEditPost,color:"primary",children:"L\u01afU POST"})]})]})})})}}var Xe=qe;const Je={cardStyle:{maxWidth:"800px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}},Qe={height:"300px",maxWidth:"100%"},Ye=()=>Object(I.jsx)("div",{style:Qe,children:Object(I.jsxs)("center",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{})]})});class Ze extends i.a.Component{constructor(e){super(),this.processTimeField=e=>"created_time"===this.props.timeFieldName?e.map((e=>({...e,created_time:new Date(e.created_time).getTime()/1e3}))):e,this.deletePost=e=>async()=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn x\xf3a?")){this.setState({loading:!0});const t=A.getLocalStorage("token");await f.a.delete("".concat(this.props.deletePostEndpoint,"/").concat(e.id,"?token=").concat(t)),this.loadData()}},this.openOnFB=e=>()=>{window.open("https://www.facebook.com/".concat(e.id),"_blank").focus()},this.onEditDialogClose=e=>{e?this.loadData():this.setState({editingPost:null})},this.props=e,this.state={loading:!0,posts:[],editingPost:null},window.changeHeader("B\xe0i \u0111\xe3 l\xean l\u1ecbch - TongHopEvent")}componentDidMount(){this.loadData()}async loadData(){const{newestFirst:e}=this.props;this.setState({loading:!0,editingPost:null});const t=A.getLocalStorage("token"),n=await f.a.get("".concat(this.props.loadFeedEndpoint,"?token=").concat(t));if(n.data.error)this.setState({loading:!1,posts:[]});else{const t=e?n.data:n.data.reverse();this.setState({loading:!1,posts:this.processTimeField(t)})}}_renderMainView(){const{timeFieldName:e}=this.props;return this.state.posts.map(((t,n)=>{const s=t.from&&t.from.id!==M.SELF_PAGE_ID;return Object(I.jsx)("div",{style:Je.cardStyle,children:Object(I.jsx)(j.a,{children:Object(I.jsxs)(g.a,{children:[Object(I.jsx)("p",{children:Object(I.jsxs)("b",{children:[A.getTimeStr(1e3*t[e])," ng\xe0y ",A.getDateStr(1e3*t[e])]})}),Object(I.jsx)(ve.a,{alt:"",src:t.full_picture,style:Qe,loader:Object(I.jsx)(Ye,{})}),s&&Object(I.jsx)("p",{style:{backgroundColor:"#eee",padding:"10px",fontWeight:"bold"},children:"(B\xe0i vi\u1ebft n\xe0y do \u0111\u1ed9c gi\u1ea3 \u0111\u0103ng l\xean page)"}),Object(I.jsxs)("p",{children:[A.nl2br(t.expanded?t.message:t.message.substring(0,250)),Object(I.jsx)("br",{}),Object(I.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),this.setState({posts:this.state.posts.map(((e,t)=>{const s=JSON.parse(JSON.stringify(e));return n===t&&(s.expanded=!s.expanded),s}))})},children:t.expanded?"Thu g\u1ecdn":"... \u0110\u1ecdc th\xeam"}),Object(I.jsx)("br",{})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)(m.a,{color:"primary",variant:"outlined",onClick:this.deletePost(t),children:"X\xf3a"}),"\xa0\xa0",Object(I.jsx)(m.a,{color:"primary",variant:"outlined",onClick:()=>this.setState({editingPost:t}),disabled:s,children:"S\u1eeda"}),"\xa0\xa0",Object(I.jsx)(m.a,{color:"primary",variant:"outlined",onClick:this.openOnFB(t),children:"Xem tr\xean FB"})]})]})})},t.id)}))}_renderDocNotFound(){return Object(I.jsxs)("center",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"(Kh\xf4ng c\xf3 d\u1eef li\u1ec7u)",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})}render(){const{editingPost:e,loading:t,posts:n}=this.state,s=Object(I.jsxs)("div",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("center",{children:Object(I.jsx)(x.a,{})})]});return Object(I.jsxs)(I.Fragment,{children:[e&&Object(I.jsx)(Xe,{post:e,onClose:this.onEditDialogClose,editPostEndpoint:this.props.editPostEndpoint}),t?s:n.length>0?this._renderMainView():this._renderDocNotFound()]})}}var $e=Ze;var et=()=>Object(I.jsx)($e,{loadFeedEndpoint:"".concat(M.BACKEND,"/publish/scheduled"),editPostEndpoint:"".concat(M.BACKEND,"/publish/post"),deletePostEndpoint:"".concat(M.BACKEND,"/publish/post"),timeFieldName:"scheduled_publish_time",newestFirst:!1});var tt=()=>Object(I.jsx)($e,{loadFeedEndpoint:"".concat(M.BACKEND,"/fbfeed"),editPostEndpoint:"".concat(M.BACKEND,"/fbfeed"),deletePostEndpoint:"".concat(M.BACKEND,"/fbfeed"),timeFieldName:"created_time",newestFirst:!0}),nt=n(369),st=n(370);const it={cardStyle:{maxWidth:"800px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}};class at extends i.a.Component{constructor(){super(...arguments),this.state={...A.settings},this.saveSettings=()=>{A.setSettings({...this.state}),window.toastr.success("\u0110\xe3 l\u01b0u c\xe0i \u0111\u1eb7t")}}render(){const{markReadOnOpenInbox:e}=this.state;return Object(I.jsx)("div",{style:it.cardStyle,children:Object(I.jsx)(j.a,{children:Object(I.jsxs)(g.a,{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("h2",{children:"C\xe0i \u0111\u1eb7t"}),Object(I.jsx)("br",{}),"L\u01b0u \xfd: C\xe1c c\xe0i \u0111\u1eb7t sau s\u1ebd \u0111\u01b0\u1ee3c l\u01b0u tr\xean tr\xecnh duy\u1ec7t n\xe0y. N\u1ebfu b\u1ea1n \u0111\u1ed5i thi\u1ebft b\u1ecb kh\xe1c, b\u1ea1n c\u1ea7n ch\u1ec9nh l\u1ea1i cho thi\u1ebft b\u1ecb \u0111\xf3."]}),Object(I.jsx)(nt.a,{control:Object(I.jsx)(st.a,{checked:e,onChange:()=>this.setState({markReadOnOpenInbox:!e}),color:"primary"}),label:'\u0110\xe1nh d\u1ea5u "\u0111\xe3 \u0111\u1ecdc" khi b\u1ea5m v\xe0o \u0111\u1ecdc inbox'}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(m.a,{variant:"outlined",onClick:this.saveSettings,children:"L\u01b0u c\xe0i \u0111\u1eb7t"})]})})})}}var ct=at,ot=n(16),rt=n(208);class lt{static getSocket(){return M.SOCKETIO?(lt.socket||(lt.socket=Object(rt.a)(M.SOCKETIO,{transports:["websocket"],query:"module=".concat(M.SOCKETIO_MODULE,"&token=").concat(A.getToken())}),lt.socket.on("connect",(()=>console.log("connected")))),lt.socket):null}static subscribeInbox(e){const t=lt.getSocket();t&&t.on("inbox",e)}static unsubscribeInbox(e){const t=lt.getSocket();t&&t.offAny(e)}}function ht(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}lt.socket=null;const dt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((i=>{M.PROD||console.log(e,t,n,s);const a=lt.getSocket(),c=ht(),o=e=>{a.offAny(o),i(e)};a.on(c,o),a.emit("".concat(e.toLowerCase()," ").concat(t.replace(/\/$/,"")),{requestId:c,query:n,body:s})}))};var bt=lt;const jt=i.a.createContext();class pt extends i.a.Component{constructor(){super(...arguments),this.state={unreadMark:{}},this.fetchUnread=async()=>{const e=await dt("get","/unread"),t={};for(const{id:n}of e)t[n]=!0;this.setState({unreadMark:t})},this.markUnread=e=>{bt.getSocket().emit("mark_unread",e);const t={...this.state.unreadMark};t[e]=!0,this.setState({unreadMark:t})},this.markRead=e=>{bt.getSocket().emit("mark_read",e);const t={...this.state.unreadMark};delete t[e],this.setState({unreadMark:t})}}componentDidMount(){M.INBOX_UNREAD_ABILITY&&this.fetchUnread()}render(){return Object(I.jsx)(jt.Provider,{value:{unreadMark:this.state.unreadMark,markUnread:this.markUnread,markRead:this.markRead},children:this.props.children})}}function gt(e){return function(t){return Object(I.jsx)(jt.Consumer,{children:n=>Object(I.jsx)(e,{...t,...n})})}}class ut extends i.a.Component{constructor(){super(...arguments),this.state={ready:!1,loading:!1,conversations:[],next:null},this.openConversation=(e,t)=>()=>{const n=_(t.toLowerCase()).replace(/[^a-z0-9]+/g,"-");window.location.hash="#/msg/".concat(e,"/").concat(n)},this.inboxUpdateHandler=async e=>{const{data:t}=await dt("get","/conversations",{limit:5});this.setState((e=>({conversations:T(e.conversations,t)})))},this.onYReachEnd=()=>{this.state.next&&!this.state.loading&&this.loadMoreConversations()}}componentDidMount(){this.loadMoreConversations(),bt.subscribeInbox(this.inboxUpdateHandler)}componentWillUnmount(){bt.unsubscribeInbox(this.inboxUpdateHandler)}async loadMoreConversations(){if(!this.state.loading){var e;this.setState({loading:!0});const t={};this.state.next&&(t.after=this.state.next);let{data:n,paging:s}=await dt("get","/conversations",t);M.PROD&&(n=n.filter((e=>e.id!==M.INBOX_IGNORED_CONVERSATION))),n&&this.setState({conversations:[...this.state.conversations,...n],loading:!1,ready:!0,next:(null===s||void 0===s?void 0:s.next)?null===s||void 0===s||null===(e=s.cursors)||void 0===e?void 0:e.after:null})}}render(){const{unreadMark:e}=this.props;return Object(I.jsx)(ot.g,{loading:!this.state.ready,loadingMore:this.state.ready&&this.state.loading,onYReachEnd:this.onYReachEnd,children:this.state.conversations.map((t=>{const n=t.senders.data[0].name,s=N(t);return Object(I.jsx)(ot.e,{name:"".concat(n," (").concat(t.message_count,")"),info:t.snippet,onClick:this.openConversation(t.id,n),active:this.props.tid===t.id,unreadDot:!!e[s]},t.id)}))})}}var mt=gt(ut),xt=n(386),Ot=n(196),ft=(n(296),n(18)),vt=n(195),yt=n(194);const kt=gt((e=>{let{psid:t,unreadMark:n,markRead:s,markUnread:i}=e;return Object(I.jsx)(ot.c,{className:"cs-button cs-button--info",style:{marginRight:"20px"},icon:Object(I.jsx)(ft.a,{icon:n[t]?yt.faEnvelopeOpenText:vt.faEnvelope}),onClick:()=>{n[t]?s(t):i(t)}})}));var wt=e=>{let{loading:t,profile:n,openConversationOnFB:s,openMainMenu:i,psid:a}=e;return t?Object(I.jsxs)(ot.f,{children:[Object(I.jsx)(ot.f.Back,{onClick:i}),Object(I.jsx)(ot.f.Content,{userName:"Loading..."})]}):Object(I.jsxs)(ot.f,{children:[Object(I.jsx)(ot.f.Back,{onClick:i}),Object(I.jsx)(ot.b,{src:n.profile_pic,name:n.name,onClick:s}),Object(I.jsx)(ot.f.Content,{userName:n.name}),Object(I.jsxs)(ot.f.Actions,{children:[M.INBOX_UNREAD_ABILITY&&Object(I.jsx)(kt,{as:"InfoButton",psid:a}),Object(I.jsx)(ot.h,{onClick:s})]})]})},Ct=n(4),Dt=n.n(Ct),St=n(9),Tt=n.n(St),Nt=n(209);const _t=()=>{};const It=function(){class e extends s.Component{render(){const{props:{fancyScroll:e,children:t,forwardedRef:n,...s}}=this;return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{ref:n,...s,children:t})})}}return i.a.forwardRef(((t,n)=>Object(I.jsx)(e,{forwardedRef:n,...t})))}(),Et=(e,t)=>{const n="undefined"!==typeof e?e:t,[i,a]=Object(s.useState)(n);return["undefined"!==typeof e?e:i,e=>{a(e)}]};function Bt(e,t){let{value:n,onSend:i,onChange:a,autoFocus:c,placeholder:o,fancyScroll:r,className:l,activateAfterChange:h,disabled:d,sendDisabled:b,sendOnReturnDisabled:j,attachDisabled:p,sendButton:g,attachButton:u,onAttachClick:m,...x}=e;const O=Object(s.useRef)(),f=Object(s.useRef)(),[v,y]=Et(n,""),[k,w]=Et(b,!0),C=()=>{"undefined"!==typeof f.current&&f.current.focus()};Object(s.useImperativeHandle)(t,(()=>({focus:C}))),Object(s.useEffect)((()=>{!0===c&&C()}),[c]),Object(s.useEffect)((()=>{"function"===typeof O.current.updateScroll&&O.current.updateScroll()}));const D=()=>{v.length>0&&i()},S="".concat("cs","-message-input"),T="string"===typeof o?o:"";return Object(I.jsxs)("div",{...x,className:Tt()(S,{["".concat(S,"--disabled")]:d},l),children:[!0===u&&Object(I.jsx)("div",{className:"".concat(S,"__tools"),children:Object(I.jsx)(ot.a,{onClick:m,disabled:!0===d||!0===p})}),Object(I.jsx)("div",{className:"".concat(S,"__content-editor-wrapper"),children:Object(I.jsx)(It,{fancyScroll:r,ref:O,className:"".concat(S,"__content-editor-container"),children:Object(I.jsx)(Nt.a,{ref:f,className:"".concat(S,"__content-editor"),disabled:d,placeholder:T,onKeyPress:e=>{"Enter"===e.key&&!1===e.shiftKey&&!1===j&&(e.preventDefault(),D())},onChange:e=>{y(e.target.value),a(e.target.value)},value:v,maxRows:5,minRows:1})})}),!0===g&&Object(I.jsx)("div",{className:"".concat(S,"__tools"),children:Object(I.jsx)(ot.l,{onClick:D,disabled:!0===d||!0===k})})]})}const Pt=Object(s.forwardRef)(Bt);Pt.displayName="MessageInput",Pt.propTypes={value:Dt.a.string,placeholder:Dt.a.string,disabled:Dt.a.bool,sendOnReturnDisabled:Dt.a.bool,sendDisabled:Dt.a.bool,fancyScroll:Dt.a.bool,activateAfterChange:Dt.a.bool,autoFocus:Dt.a.bool,onChange:Dt.a.func,onSend:Dt.a.func,className:Dt.a.string,sendButton:Dt.a.bool,attachButton:Dt.a.bool,attachDisabled:Dt.a.bool,onAttachClick:Dt.a.func},Pt.defaultProps={value:void 0,placeholder:"",disabled:!1,sendOnReturnDisabled:!1,fancyScroll:!0,activateAfterChange:!1,autoFocus:!1,sendButton:!0,attachButton:!0,attachDisabled:!1,onAttachClick:_t,onChange:_t,onSend:_t},Bt.defaultProps=Pt.defaultProps;var At=Pt;xt.a.addLocale(Ot);const Ht=new xt.a("en-US");class Lt extends i.a.Component{constructor(){super(...arguments),this.state={loading:!0,loadingMore:!1,psid:null,profile:{},threadInfo:{},messages:[],messageAfter:null,messagePending:null,messagePendingId:null,input:""},this.originalTitle=document.title,this.inboxUpdateHandler=async e=>{var t;const{psid:n,messagePendingId:s}=this.state,i=this.props.tid;if(N(e)===n){const{data:e}=await dt("get","/thread/messages",{tid:i,limit:5});this.setState((t=>({messages:S(t.messages,e)})))}(null===(t=e.message)||void 0===t?void 0:t.mid)===s&&this.setState({messagePending:null,messagePendingId:null})},this.onYReachStart=async()=>{const{messageAfter:e,loadingMore:t}=this.state;if(e&&!t){this.setState({loadingMore:!0});const t=await dt("get","/thread/messages",{tid:this.props.tid,after:e});this.setState((e=>{var n,s,i;return{messages:t.data.reverse().concat(e.messages),messageAfter:(null===(n=t.paging)||void 0===n?void 0:n.next)?null===(s=t.paging)||void 0===s||null===(i=s.cursors)||void 0===i?void 0:i.after:null,loadingMore:!1}}))}},this.openConversationOnFB=()=>{window.open("https://fb.com".concat(this.state.threadInfo.link),"_blank")},this.openInNewTab=e=>()=>{window.open(e,"_blank")},this.openMainMenu=()=>{const{goBackTo:e}=this.props;window.location.hash=e||"#/msg"},this.handleSendMessage=async()=>{const{psid:e,input:t}=this.state,{markRead:n}=this.props,s=t.trim();this.setState({messagePending:s,input:""});try{const{message_id:t}=await P("post","/inbox/messages",{},{messaging_type:"MESSAGE_TAG",tag:"HUMAN_AGENT",recipient:{id:e},message:{text:s}});n(e),this.setState({messagePendingId:t})}catch(i){this.setState({messagePending:null,input:s}),window.alert(JSON.stringify(i.response.data))}}}componentDidMount(){this.fetchConversation(this.props.tid),bt.subscribeInbox(this.inboxUpdateHandler),window.setMessageInput=e=>this.setState({input:e})}componentDidUpdate(e,t){e.tid!==this.props.tid&&this.fetchConversation(this.props.tid),this.state.psid&&this.state.psid!==t.psid&&M.INBOX_MARK_READ_ON_OPEN&&this.props.markRead(this.state.psid)}componentWillUnmount(){document.title=this.originalTitle,bt.unsubscribeInbox(this.inboxUpdateHandler)}async fetchConversation(e){var t,n,s;document.title=M.INBOX_TITLE,this.setState({loading:!0});const[i,a]=await Promise.all([dt("get","/thread/info",{tid:e}),dt("get","/thread/messages",{tid:e})]);a.data=a.data.reverse();const c=i.senders.data[0].id,o=await dt("get","/profile",{psid:c});this.setState({threadInfo:i,psid:c,profile:o,messages:a.data,messageAfter:(null===(t=a.paging)||void 0===t?void 0:t.next)?null===(n=a.paging)||void 0===n||null===(s=n.cursors)||void 0===s?void 0:s.after:null,loading:!1}),document.title="".concat(o.name," - ").concat(M.INBOX_TITLE)}_renderMessages(){const{loading:e,messages:t,messagePending:n,loadingMore:s}=this.state;if(e)return Object(I.jsx)(ot.k,{loading:!0});let i="";const a=e=>{const t=D(e);return i!==t?(i=t,Object(I.jsx)(ot.j.Footer,{sender:Ht.format(new Date(e.created_time))})):null},c=(e,t)=>t.map(((t,n)=>Object(I.jsxs)(ot.j,{type:"image",model:{direction:D(e),type:"custom"},children:[a(e),Object(I.jsx)(ot.j.CustomContent,{children:Object(I.jsx)("img",{src:t.preview_url,alt:"",onClick:this.openInNewTab(t.url),style:{width:"200px"}})})]},e.id+n)));return Object(I.jsxs)(ot.k,{loadingMore:s,onYReachStart:this.onYReachStart,children:[t.map((e=>{const t=(e=>{var t;return((null===(t=e.attachments)||void 0===t?void 0:t.data)||[]).filter((e=>!!e.image_data)).map((e=>e.image_data))})(e);return t.length>0?Object(I.jsx)(I.Fragment,{children:c(e,t)}):(e=>Object(I.jsx)(ot.j,{model:{message:e.message,sentTime:Ht.format(new Date(e.created_time)),sender:e.from.name,direction:D(e),position:"single"},children:a(e)},e.id))(e)})),n&&Object(I.jsx)(ot.j,{model:{message:n,sender:M.INBOX_TITLE,direction:"outgoing",position:"single"},className:"pending"}),!M.INBOX_SEND_ABILITY&&Object(I.jsx)(ot.j,{style:{marginBottom:"2em",opacity:"0"}})]})}_renderInput(){const{input:e,messagePending:t}=this.state;return Object(I.jsx)(At,{as:"MessageInput",value:e,onChange:e=>this.setState({input:e}),onSend:this.handleSendMessage,disabled:!!t,sendDisabled:!!t&&e.length>0,sendOnReturnDisabled:!0,onAttachClick:window.openTemplateDialog,placeholder:"Type here..."})}render(){const{loading:e,profile:t,psid:n}=this.state;return Object(I.jsxs)(ot.d,{children:[Object(I.jsx)(wt,{as:"ConversationHeader",loading:e,profile:t,psid:n,openConversationOnFB:this.openConversationOnFB,openMainMenu:this.openMainMenu}),this._renderMessages(),M.INBOX_SEND_ABILITY&&this._renderInput()]})}}var Mt=gt(Lt);n(297);class Ft extends i.a.Component{constructor(){super(...arguments),this.state={tid:null,viewHeight:"100vh"},this.updateHeight=()=>{window.NUI_VIEW_HEIGHT&&this.state.viewHeight!==window.NUI_VIEW_HEIGHT&&this.setState({viewHeight:window.NUI_VIEW_HEIGHT})},this.MessageView=()=>{const{tid:e,viewHeight:t}=this.state,{goBackTo:n}=this.props;return Object(I.jsxs)("div",{style:{position:"relative",height:t},className:e?"chat":"home",children:[Object(I.jsxs)(ot.i,{children:[Object(I.jsx)(ot.m,{position:"left",scrollable:!0,children:Object(I.jsx)(mt,{tid:e})}),e?Object(I.jsx)(Mt,{tid:e,goBackTo:n}):Object(I.jsx)(ot.d,{})]}),Object(I.jsx)(M.CustomMessengerWidget,{})]})},this.MessageTidChanged=e=>{let{match:t}=e;return t.params.tid!==this.state.tid&&this.setState({tid:t.params.tid}),null},this.MessageTidReset=()=>(null!==this.state.tid&&this.setState({tid:null}),null)}componentDidMount(){this.intervalId=setInterval(this.updateHeight,1e3)}componentWillUnmount(){clearInterval(this.intervalId)}render(){return Object(I.jsx)(Ke.a,{children:Object(I.jsxs)(pt,{children:[Object(I.jsx)(Ve.a,{path:"/msg",component:this.MessageView}),Object(I.jsx)(Ve.a,{exact:!0,path:"/msg",component:this.MessageTidReset}),Object(I.jsx)(Ve.a,{exact:!0,path:"/msg/:tid/:name",component:this.MessageTidChanged})]})})}}var Rt=Object(Ve.f)(Ft),Vt=n(88),Kt=n(306);const Gt=240,Wt=Object(Kt.a)((e=>({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:Gt,width:"calc(100% - ".concat(Gt,"px) !important"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Gt,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Gt,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0,[e.breakpoints.up("sm")]:{width:e.spacing(9)+1}},toolbar:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),...e.mixins.toolbar},content:{flexGrow:1}})));var Ut=n(389),zt=n(380),qt=n(368),Xt=n(379),Jt=n(307),Qt=n(198),Yt=n.n(Qt),Zt=n(200),$t=n.n(Zt),en=n(199),tn=n.n(en),nn=n(381),sn=n(371),an=n.n(sn),cn=n(372),on=n.n(cn),rn=n(373),ln=n.n(rn),hn=n(374),dn=n.n(hn),bn=n(375),jn=n.n(bn),pn=n(376),gn=n.n(pn),un=n(377),mn=n.n(un),xn=n(378),On=n.n(xn);const fn=[{list:[{title:"Inbox",href:"#/msg",icon:Object(I.jsx)(an.a,{})},{title:"Qu\u1ea3n l\xfd",href:"#/manage",icon:Object(I.jsx)(on.a,{})},{title:"B\xe0i \u0111\xe3 l\xean l\u1ecbch",href:"#/scheduled",icon:Object(I.jsx)(ln.a,{})},{title:"B\xe0i \u0111\xe3 \u0111\u0103ng",href:"#/fbfeed",icon:Object(I.jsx)(dn.a,{})}]},{separator:!0},{list:[{title:"H\u01b0\u1edbng d\u1eabn",href:"https://blog.ngxson.com/tonghopevent/",icon:Object(I.jsx)(jn.a,{})},{title:"\u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng",href:"https://sites.google.com/view/tonghopevent/",icon:Object(I.jsx)(gn.a,{})}]},{separator:!0},{list:[{title:"T\xf9y ch\u1ec9nh",href:"#/settings",icon:Object(I.jsx)(mn.a,{})},{title:"\u0110\u0103ng xu\u1ea5t",href:"#/logout",icon:Object(I.jsx)(On.a,{})}]},{list:[{title:"T\u1ed5ng h\u1ee3p c\xe1c d\u1ef1 \xe1n v\xe0 cu\u1ed9c thi",href:"#/",icon:null},{title:"\u0110\u0103ng b\xe0i (L\u1ea5y \u1ea3nh)",href:"#/getimage",icon:null},{title:"\u0110\u0103ng b\xe0i",href:"#/publish",icon:null},{title:"Xem b\xe0i vi\u1ebft",href:"#/view",icon:null}],hidden:!0}];var vn=Object(Ve.f)((function(e){let{children:t,location:{pathname:n}}=e;const s=Wt(),a=Object(Vt.a)(),[c,o]=i.a.useState(!1),r=(e=>{for(const{list:t}of fn)if(t)for(const n of t)if(e.startsWith(n.href))return n;return null})("#"+n),l=n.match(/\/(view\/|login)/),h=e=>()=>{const{href:t}=e;t.startsWith("http")?window.open(t,"_blank").focus():window.location.href=t};return Object(I.jsxs)("div",{className:s.root,children:[Object(I.jsx)(Xt.a,{}),Object(I.jsx)(zt.a,{position:"fixed",style:{zIndex:c?80:100},className:"".concat(s.appBar," ").concat(c?s.appBarShift:""),children:Object(I.jsxs)(qt.a,{children:[!l&&Object(I.jsx)(Jt.a,{color:"inherit","aria-label":"open drawer",onClick:()=>{o(!0)},edge:"start",className:"".concat(s.menuButton," ").concat(c?s.hide:""),children:Object(I.jsx)(Yt.a,{})}),Object(I.jsx)(p.a,{variant:"h6",noWrap:!0,children:r.title})]})}),Object(I.jsxs)(Ut.a,{style:{zIndex:90},variant:l?"temporary":"permanent",className:"".concat(s.drawer," ").concat(c?s.drawerOpen:s.drawerClose),classes:{paper:c?s.drawerOpen:s.drawerClose},children:[Object(I.jsx)("div",{className:s.toolbar,children:Object(I.jsx)(Jt.a,{onClick:()=>{o(!1)},children:"rtl"===a.direction?Object(I.jsx)(tn.a,{}):Object(I.jsx)($t.a,{})})}),Object(I.jsx)(W.a,{}),fn.map(((e,t)=>e.list&&!e.hidden?Object(I.jsx)(ie.a,{children:e.list.map(((e,t)=>Object(I.jsxs)(ae.a,{button:!0,selected:r.href===e.href,onClick:h(e),children:[Object(I.jsx)(nn.a,{children:e.icon}),Object(I.jsx)(ce.a,{primary:e.title})]},t)))},t):e.separator?Object(I.jsx)(W.a,{},t):null))]}),Object(I.jsxs)("main",{className:s.content,children:[Object(I.jsx)("div",{className:s.toolbar}),t]})]})}));var yn=()=>{const e=Object(s.useRef)(null);return Object(s.useEffect)((()=>{e&&e.current&&setInterval((()=>{var t;(t=e.current)&&(window.NUI_VIEW_HEIGHT=t.clientHeight-64,window.NUI_VIEW_WIDTH=t.clientWidth)}),1e3)}),[e]),Object(I.jsx)("div",{ref:e,style:{position:"fixed",top:0,left:0,height:"100%",width:"100%",pointerEvents:"none",zIndex:1e3}})};class kn extends i.a.Component{constructor(){super(),this.Home=()=>Object(I.jsx)(ue,{gotoPublish:this.gotoPublish.bind(this)}),this.View=e=>{let{match:t}=e;return Object(I.jsx)(Oe,{id:t.params.id})},this.Publish=()=>Object(I.jsx)(Ae,{data:this.state.publishData}),this.GetImage=()=>Object(I.jsx)(Re,{data:this.state.publishData,gotoPublish:this.gotoPublish.bind(this)}),this.Copyright=()=>Object(I.jsxs)("center",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"Developed by\xa0",Object(I.jsx)("b",{children:Object(I.jsx)("a",{href:"https://ngxson.com",target:"_blank",rel:"noopener noreferrer",children:"Nui"})}),Object(I.jsx)("br",{}),"Version ",M.VERSION,Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]}),this.Logout=()=>(A.removeLocalStorage("token"),window.location.href="#/",window.location.reload(),null),this.state={header:"Home",publishData:A.getLocalStorage("publishData")||null}}changeHeader(e){this.state.header!==e&&this.setState({header:e})}gotoPublish(e,t){this.setState({publishData:e}),A.setLocalStorage("publishData",e),window.location.hash="#/"+t}render(){return window.changeHeader=this.changeHeader.bind(this),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ve.a,{path:"/manage",component:this.Home}),Object(I.jsx)(Ve.a,{path:"/login",component:R}),Object(I.jsx)(Ve.a,{path:"/view/:id",component:this.View}),Object(I.jsx)(Ve.a,{path:"/publish",component:this.Publish}),Object(I.jsx)(Ve.a,{path:"/getimage",component:this.GetImage}),Object(I.jsx)(Ve.a,{path:"/scheduled",component:et}),Object(I.jsx)(Ve.a,{path:"/fbfeed",component:tt}),Object(I.jsx)(Ve.a,{path:"/settings",component:ct}),Object(I.jsx)(Ve.a,{path:"/logout",component:this.Logout}),Object(I.jsx)(this.Copyright,{})]})}}const wn=()=>(window.location.href=A.getLocalStorage("token")?"#/msg":"#/login",null);var Cn=function(){return Object(I.jsx)(Ke.a,{children:Object(I.jsxs)(We.a,{theme:b,children:[Object(I.jsxs)(vn,{children:[Object(I.jsx)("div",{className:"mainView",children:Object(I.jsxs)(Ve.c,{children:[Object(I.jsx)(Ve.a,{exact:!0,path:"/",component:wn}),Object(I.jsx)(Ve.a,{path:"/msg",component:Rt}),Object(I.jsx)(Ve.a,{component:kn})]})}),Object(I.jsx)(ze,{})]}),Object(I.jsx)(yn,{})]})})};class Dn extends i.a.Component{render(){return Object(I.jsx)("div",{id:"gtco-features",children:Object(I.jsxs)("div",{className:"gtco-container",children:[Object(I.jsx)("div",{className:"row",children:Object(I.jsxs)("div",{className:"col-md-8 col-md-offset-2 text-center gtco-heading",children:[Object(I.jsx)("h2",{children:"Xin ch\xe0o!"}),Object(I.jsxs)("p",{children:["\u0110\u1ec3 thu\u1eadn ti\u1ec7n h\u01a1n trong vi\u1ec7c t\u1ed5ng h\u1ee3p th\xf4ng tin, sau \u0111\xe2y, b\u1ea1n s\u1ebd c\u1ea7n nh\xe2p th\xf4ng tin v\u1ec1 d\u1ef1 \xe1n, cu\u1ed9c thi hay s\u1ef1 ki\u1ec7n c\u1ea7n h\u1ed7 tr\u1ee3 truy\u1ec1n th\xf4ng. M\u1ed9t v\xe0i l\u01b0u \xfd cho b\u1ea1n:",Object(I.jsx)("br",{})]})]})}),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsxs)("div",{className:"col-md-12",children:[Object(I.jsxs)("div",{className:"feature-left animate-box","data-animate-effect":"fadeInLeft",children:[Object(I.jsx)("span",{className:"icon",children:Object(I.jsx)("i",{className:"icon-check"})}),Object(I.jsxs)("div",{className:"feature-copy",children:[Object(I.jsx)("h3",{children:"NH\u1eacP TH\xd4NG TIN"}),Object(I.jsx)("p",{children:"H\xe3y ch\xfa \xfd nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 c\xe1c th\xf4ng tin c\xf3 trong form."})]})]}),Object(I.jsxs)("div",{className:"feature-left animate-box","data-animate-effect":"fadeInLeft",children:[Object(I.jsx)("span",{className:"icon",children:Object(I.jsx)("i",{className:"icon-check"})}),Object(I.jsxs)("div",{className:"feature-copy",children:[Object(I.jsx)("h3",{children:"\u0110\u1ee2I DUY\u1ec6T"}),Object(I.jsxs)("p",{children:["Admin s\u1ebd ph\xea duy\u1ec7t b\xe0i c\u1ee7a b\u1ea1n.",Object(I.jsx)("br",{}),"B\u1ea1n s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c th\xf4ng b\xe1o ngay sau khi b\xe0i \u0111\u0103ng \u0111\u01b0\u1ee3c \u0111\u1eb7t l\u1ecbch \u0111\u1ec3 \u0111\u0103ng l\xean page."]})]})]}),Object(I.jsxs)("div",{className:"feature-left animate-box","data-animate-effect":"fadeInLeft",children:[Object(I.jsx)("span",{className:"icon",children:Object(I.jsx)("i",{className:"icon-check"})}),Object(I.jsxs)("div",{className:"feature-copy",children:[Object(I.jsx)("h3",{children:"\u0110\u0102NG V\xc0O GI\u1edc V\xc0NG"}),Object(I.jsxs)("p",{children:["B\xe0i c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c h\u1eb9n gi\u1edd \u0111\u1ec3 up v\xe0o khung gi\u1edd v\xe0ng (20h - 21h).",Object(I.jsx)("br",{}),"V\xec v\u1eady n\u1ebfu ch\u01b0a th\u1ea5y b\xe0i c\u1ee7a b\u1ea1n ch\u01b0a \u0111\u01b0\u1ee3c \u0111\u0103ng ngay, ",Object(I.jsx)("b",{children:"\u0111\u1eebng v\u1ed9i"})," g\u1eedi l\u1ea1i b\xe0i cho ch\xfang m\xecnh nh\xe9!"]})]})]})]}),Object(I.jsx)("div",{className:"col-md-12",children:Object(I.jsxs)("center",{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),'B\u1eb1ng vi\u1ec7c b\u1ea5m n\xfat "Ti\u1ebfp t\u1ee5c", b\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi c\xe1c ',Object(I.jsx)("a",{href:"https://sites.google.com/view/tonghopevent",target:"_blank",rel:"noopener noreferrer",children:"\u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng"})," c\u1ee7a fanpage"]}),Object(I.jsx)("a",{className:"btn btn-block btn-primary",href:"#/next",children:"TI\u1ebeP T\u1ee4C \u279c"}),Object(I.jsx)("br",{}),"N\u1ebfu b\u1ea1n g\u1eb7p l\u1ed7i, h\xe3y th\xf4ng b\xe1o cho admin t\u1ea1i: ",Object(I.jsx)("a",{href:"https://m.me/tonghopevent",target:"_blank",rel:"noopener noreferrer",children:"https://m.me/tonghopevent"}),Object(I.jsx)("br",{})]})})]})]})})}}var Sn=Dn;class Tn extends i.a.Component{render(){return Object(I.jsx)("div",{id:"gtco-features",children:Object(I.jsx)("div",{className:"gtco-container",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsxs)("div",{className:"col-md-8 col-md-offset-2 text-center gtco-heading",children:[Object(I.jsx)("h2",{children:"H\u01b0\u1edbng d\u1eabn"}),Object(I.jsxs)("p",{children:["\u0110\u1ec3 \u0111\u0103ng d\u1ef1 \xe1n, cu\u1ed9c thi l\xean fanpage, b\u1ea1n h\xe3y th\u1ef1c hi\u1ec7n theo h\u01b0\u1edbng d\u1eabn sau:",Object(I.jsx)("br",{}),"B\u1ea1n h\xe3y inbox v\xe0o fanpage t\u1ea1i: ",Object(I.jsx)("a",{href:"https://m.me/tonghopevent",target:"_blank",rel:"noopener noreferrer",children:"https://m.me/tonghopevent"}),Object(I.jsx)("br",{}),"Sau \u0111\xf3 b\u1ea5m v\xe0o n\xfat ",Object(I.jsx)("b",{children:"\u0110\u0103ng d\u1ef1 \xe1n/cu\u1ed9c thi"})," \u1edf menu nh\xe9!",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("small",{children:"N\u1ebfu b\u1ea1n g\u1eb7p l\u1ed7i, h\xe3y th\xf4ng b\xe1o cho admin t\u1ea1i th\xf4ng qua inbox fanpage"})]})]})})})})}}var Nn=Tn;class _n extends i.a.Component{render(){return Object(I.jsx)("div",{id:"gtco-features",children:Object(I.jsx)("div",{className:"gtco-container",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsxs)("div",{className:"col-md-8 col-md-offset-2 text-center gtco-heading",children:[Object(I.jsx)("h2",{children:"H\u01b0\u1edbng d\u1eabn"}),Object(I.jsxs)("p",{children:["B\u1ea1n d\xf9ng link t\u1edbi phi\xean b\u1ea3n c\u0169 c\u1ee7a fanpage",Object(I.jsx)("br",{}),"H\xe3y b\u1ea5m n\xfat ",Object(I.jsx)("b",{children:"\u0110\u0103ng d\u1ef1 \xe1n/cu\u1ed9c thi"})," \u1edf trong menu inbox \u0111\u1ec3 nh\u1eadn link m\u1edbi nh\xe9!",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)("small",{children:["N\u1ebfu b\u1ea1n g\u1eb7p l\u1ed7i, h\xe3y th\xf4ng b\xe1o cho admin t\u1ea1i: ",Object(I.jsx)("a",{href:"https://m.me/tonghopevent",target:"_blank",rel:"noopener noreferrer",children:"https://m.me/tonghopevent"})]})]})]})})})})}}var In=_n;class En extends i.a.Component{constructor(e){super(e),this.psid=A.getPsid()}render(){return Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsx)("header",{id:"gtco-header",className:"gtco-cover",role:"banner",style:{backgroundImage:"url(theme/images/img_bg_1.jpg"},children:Object(I.jsx)("div",{className:"gtco-container",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsx)("div",{className:"col-md-8 col-md-offset-2 text-center",children:Object(I.jsx)("div",{className:"display-t",children:Object(I.jsxs)("div",{className:"display-tc animate-box","data-animate-effect":"fadeIn",children:[Object(I.jsx)("h1",{children:"H\u1ed7 tr\u1ee3 truy\u1ec1n th\xf4ng"}),Object(I.jsx)("h2",{children:"Form \u0111i\u1ec1n th\xf4ng tin b\xe0i \u0111\u0103ng"})]})})})})})}),"none"!==this.psid?Object(I.jsx)(Sn,{}):A.getParameterByName("psid")?Object(I.jsx)(In,{}):Object(I.jsx)(Nn,{})]})}}var Bn=En;const Pn=(e,t)=>{const{cls:n}=e,s="".concat(A.getPsid()).concat(t?";"+t:""),i=encodeURIComponent;return"/form/?data=".concat(i(s),"&cls=").concat(i(n))};var An=[e=>({type:"small",title:"B\u1ea1n mu\u1ed1n \u0111\u0103ng b\xe0i v\u1ec1",options:[{text:"D\u1ef1 \xe1n",subtitle:"Ho\u1ea1t \u0111\u1ed9ng ngo\u1ea1i kh\xf3a",value:"D\u1ef1 \xe1n"},{text:"Cu\u1ed9c thi",subtitle:"D\xe0nh cho HS, SV",value:"Cu\u1ed9c thi"},{text:"S\u1ef1 ki\u1ec7n",subtitle:"D\xe0nh cho HS, SV",value:"S\u1ef1 ki\u1ec7n"}],notice:"L\u01b0u \xfd: Fanpage kh\xf4ng nh\u1eadn \u0111\u0103ng b\xe0i v\u1ec1 tuy\u1ec3n d\u1ee5ng vi\u1ec7c l\xe0m.",next:t=>{let n={screen:1,type:t,cls:""};switch(t){case"D\u1ef1 \xe1n":n={screen:1,type:t,cls:"project"};break;case"Cu\u1ed9c thi":n={screen:1,type:t,cls:"contest"};break;case"S\u1ef1 ki\u1ec7n":n={screen:1,type:t,cls:"event"}}e.setState(n)}}),e=>({type:"long",title:Object(I.jsxs)(i.a.Fragment,{children:[e.state.type," c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c ",Object(I.jsx)("b",{children:"\u0111i\u1ec1u h\xe0nh b\u1edfi"})]}),options:[{text:"M\u1ed9t nh\xf3m h\u1ecdc sinh, sinh vi\xean",subtitle:"Ho\u1ea1t \u0111\u1ed9ng phi l\u1ee3i nhu\u1eadn",value:"F1"},{text:"M\u1ed9t c\xe2u l\u1ea1c b\u1ed9 trong tr\u01b0\u1eddng h\u1ecdc",subtitle:"Ho\u1ea1t \u0111\u1ed9ng phi l\u1ee3i nhu\u1eadn",value:"F2"},{text:"M\u1ed9t tr\u01b0\u1eddng h\u1ecdc c\xf4ng l\u1eadp",subtitle:"VD: tr\u01b0\u1eddng THCS, THPT, \u0110H, Cao \u0111\u1eb3ng,...",value:"F3"},{text:"M\u1ed9t t\u1ed5 ch\u1ee9c phi l\u1ee3i nhu\u1eadn",subtitle:"VD: AIESEC, VOGE, SOTB,...",value:"F4"},{text:"T\u1ed5 ch\u1ee9c ho\u1ea1t \u0111\u1ed9ng c\xf3 l\u1ee3i nhu\u1eadn",subtitle:"VD: trung t\xe2m ngo\u1ea1i ng\u1eef, c\u1eeda h\xe0ng,...",value:"P1"}],next:t=>{"P1"===t?e.setState({screen:2}):window.location.replace(Pn(e.state,t))}}),e=>({type:"basic",title:Object(I.jsxs)(i.a.Fragment,{children:["D\u1ef1a theo ",Object(I.jsx)("a",{href:"https://sites.google.com/view/tonghopevent",target:"_blank",rel:"noopener noreferrer",children:"\u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng"})," c\u1ee7a ch\xfang m\xecnh, ",e.state.type.toLowerCase()," \u0111\u01b0\u1ee3c t\u1ed5 ch\u1ee9c ho\u1eb7c \u0111\u01b0\u1ee3c \u0111i\u1ec1u h\xe0nh b\u1edfi m\u1ed9t ho\u1eb7c nhi\u1ec1u doanh nghi\u1ec7p, t\u1ed5 ch\u1ee9c hay c\xe1 nh\xe2n ",Object(I.jsx)("b",{children:"ho\u1ea1t \u0111\u1ed9ng c\xf3 l\u1ee3i nhu\u1eadn"})," ph\u1ea3i tr\u1ea3 ph\xed theo ",Object(I.jsx)("b",{children:"G\xf3i P1"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"G\xf3i P1 c\xf3 gi\xe1 l\xe0 100.000 VN\u0110 / 1 b\xe0i \u0111\u0103ng [",Object(I.jsx)("a",{href:"https://sites.google.com/view/tonghopevent/g\xf3i-p1",target:"_blank",rel:"noopener noreferrer",children:"B\u1ea5m \u0111\xe2y \u0111\u1ec3 xem chi ti\u1ebft"}),"]",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"\u0110\u1ec3 ti\u1ebfp t\u1ee5c, b\u1ea1n h\xe3y nh\u1eadp th\xf4ng tin v\xe0o form sau: \xa0",Object(I.jsx)("button",{className:"btn btn-small btn-primary",style:{padding:"4px"},onClick:()=>{window.location.replace(Pn(e.state,"P1"))},children:"T\u1edbi Form \u279c"}),Object(I.jsx)("br",{}),"Sau \u0111\xf3, h\u01b0\u1edbng d\u1eabn thanh to\xe1n s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi inbox c\u1ee7a b\u1ea1n."]})})];class Hn extends i.a.Component{constructor(e){super(e);const t=A.getPsid();this.psid="none"!==t?t:null,this.state={screen:0,tag:null}}getFormUrl(e){const t="".concat(this.psid).concat(e?";"+e:"");return A.getFormUrl(t,this.state.tag)}componentDidMount(){setTimeout(window.scrollToTop,50)}_renderSmallBtn(e){return e.options.map(((t,n)=>Object(I.jsx)("button",{className:"btn btn-default btn-proj-cate",onClick:()=>e.next(t.value),children:t.text},t.value+n)))}_renderLargeBtn(e){return e.options.map(((t,n)=>Object(I.jsxs)("button",{className:"btn btn-default btn-proj-type",onClick:()=>e.next(t.value),children:[Object(I.jsx)("b",{children:t.text}),Object(I.jsx)("br",{}),Object(I.jsx)("small",{children:t.subtitle})]},t.value+n)))}render(){const e=An[this.state.screen](this);return Object(I.jsx)("div",{id:"gtco-features",children:Object(I.jsx)("div",{className:"gtco-container",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsxs)("div",{className:"col-md-8 col-md-offset-2 text-center gtco-heading",children:[Object(I.jsx)("h2",{children:"Th\xf4ng tin chung"}),Object(I.jsx)("p",{children:e.title}),"basic"!==e.type&&Object(I.jsx)("p",{children:"small"===e.type?this._renderSmallBtn(e):this._renderLargeBtn(e)}),e.notice&&Object(I.jsx)("p",{style:{fontSize:"0.8em"},children:e.notice})]})})})})}}var Ln=Hn;var Mn=function(){return Object(I.jsx)("footer",{id:"gtco-footer",role:"contentinfo",children:Object(I.jsx)("div",{className:"gtco-container",children:Object(I.jsx)("div",{className:"row copyright",children:Object(I.jsxs)("div",{className:"col-md-12",children:[Object(I.jsxs)("p",{className:"pull-left",children:[Object(I.jsxs)("small",{className:"block",children:["L\u1eadp tr\xecnh b\u1edfi ",Object(I.jsx)("a",{rel:"noopener noreferrer",href:"https://ngxson.com",target:"_blank",children:"Nui"})]}),Object(I.jsxs)("small",{className:"block",children:["Theme by ",Object(I.jsx)("a",{rel:"noopener noreferrer",href:"http://gettemplates.co/",target:"_blank",children:"GetTemplates.co"})]})]}),Object(I.jsx)("div",{className:"pull-right",children:Object(I.jsx)("ul",{className:"gtco-social-icons pull-right",children:Object(I.jsx)("li",{children:Object(I.jsx)("a",{href:"https://www.facebook.com/tonghopevent/",children:Object(I.jsx)("i",{className:"icon-facebook"})})})})})]})})})})};n(299);class Fn extends i.a.Component{constructor(){super(),this.Home=()=>Object(I.jsx)(Bn,{}),this.Quiz=()=>Object(I.jsx)(Ln,{}),this.state={}}render(){return Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsx)(Ve.a,{exact:!0,path:"/",component:this.Home}),Object(I.jsx)(Ve.a,{path:"/next",component:this.Quiz}),Object(I.jsx)(Mn,{})]})}}var Rn=function(){return Object(I.jsx)(Ke.a,{children:Object(I.jsx)(Fn,{})})},Vn=(n(300),n(388)),Kn=n(355),Gn=n(383),Wn=n(201),Un=n(94),zn=n(382),qn=n.n(zn),Xn=n(140),Jn=n(202),Qn=n.n(Jn);const Yn=Object(Wn.a)({apiKey:"AIzaSyClx2o-nDz6lLhzH_p5T_zmwHEQESnFTlk",authDomain:"chatbotcnh.firebaseapp.com",databaseURL:"https://chatbotcnh.firebaseio.com",projectId:"chatbotcnh",storageBucket:"chatbotcnh.appspot.com",messagingSenderId:"344360709927",appId:"1:344360709927:web:e4b99ee1dd466c0b9a8302"}),Zn=Object(Un.c)(Yn),$n=Object(Xn.a)();Object(Xn.b)($n,"tonghopevent@ngxson.com","tonghopevent").then((e=>{const t=e.user;console.log(t)})).catch((e=>{const t=e.code,n=e.message;console.error(t,n)}));const es=e=>{let{value:t,onChange:n}=e;const[i,a]=Object(s.useState)(!1),[c,o]=Object(s.useState)(null),r=Object(s.useCallback)((async e=>{let t=e.target.files[0],s="jpg";const i=t.type;"image/jpeg"===i&&(s="jpg"),"image/gif"===i&&(s="gif"),"image/png"===i&&(s="png");try{const e=await(e=>new Promise(((t,n)=>{try{Qn.a.imageFileResizer(e,1e3,1e3,"JPEG",75,0,(e=>t(e)),"file")}catch(s){n(s)}})))(t);t=e,s="jpg"}catch(r){}if(t.size>5242880)return void alert("L\u1ed7i: file qu\xe1 l\u1edbn. H\xe3y th\u1eed gi\u1ea3m \u0111\u1ed9 ph\xe2n gi\u1ea3i \u1ea3nh xu\u1ed1ng v\xe0 s\u1eed d\u1ee5ng \u0111\u1ecbnh d\u1ea1ng JPG.");a(!0);const c=Object(Un.d)(Zn,"tonghopevent/images/".concat(Date.now(),".").concat(s));try{const e=await Object(Un.e)(c,t),s=(await Object(Un.b)(e.ref)).replace(/&token=[A-Za-z0-9\-]+/,"");console.log(s),n(s)}catch(r){alert(r)}o(c),a(!1)}),[c]),l=Object(s.useCallback)((()=>{c&&Object(Un.a)(c),n(null)}),[c]);return i?Object(I.jsx)(x.a,{}):t?Object(I.jsxs)("div",{children:[Object(I.jsx)("img",{src:t,alt:"user uploaded",className:"preview"}),Object(I.jsx)(m.a,{variant:"outlined",color:"primary",onClick:l,children:"X\xf3a \u1ea3nh"})]}):Object(I.jsxs)(m.a,{component:"label",variant:"outlined",color:"primary",children:[Object(I.jsx)(qn.a,{style:{marginRight:"5px"}})," T\u1ea3i \u1ea3nh l\xean",Object(I.jsx)("input",{type:"file",accept:"image/png, image/gif, image/jpeg",onChange:r,hidden:!0})]})},ts={input:{width:"500px",maxWidth:"100%",marginBottom:"0.1em"},container:{display:"flex",flexWrap:"wrap"},cardStyle:{maxWidth:"700px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}},ns=e=>{let{title:t,subtitle:n,required:s,children:i,error:a}=e;return Object(I.jsx)(j.a,{style:ts.cardStyle,children:Object(I.jsxs)(g.a,{children:[Object(I.jsxs)(p.a,{variant:"h6",component:"h6",gutterBottom:!0,children:[t,s&&Object(I.jsx)("span",{className:"required",children:" *"})]}),a&&Object(I.jsx)("p",{className:"error",children:a}),Object(I.jsx)(p.a,{variant:"body1",component:"small",color:"textSecondary",children:n}),Object(I.jsx)(Kn.a,{component:"fieldset",children:i})]})})},ss=e=>{let{value:t,title:n,subtitle:s,required:i,placeholder:a,onChange:c,error:o}=e;return Object(I.jsx)(ns,{title:n,subtitle:s,required:i,error:o,children:Object(I.jsx)(u.a,{type:"text",value:t,style:ts.input,onChange:e=>c(e.target.value),margin:"normal",autoComplete:"false",placeholder:a,variant:"outlined"})})},is=e=>{let{value:t,title:n,subtitle:s,required:i,placeholder:a,onChange:c,error:o,rows:r=10}=e;return Object(I.jsx)(ns,{title:n,subtitle:s,required:i,error:o,children:Object(I.jsx)(u.a,{type:"text",value:t,style:{...ts.input,width:"100%"},onChange:e=>c(e.target.value),margin:"normal",autoComplete:"false",placeholder:a,variant:"outlined",multiline:!0,rows:r,fullWidth:!0})})},as=e=>{let{value:t={},title:n,subtitle:s,placeholder:i,required:a,onChange:c,error:o,moreLabel:r}=e;return Object(I.jsx)(ns,{title:n,subtitle:s,required:a,error:o,children:Object(I.jsxs)(Gn.a,{children:[Object.keys(t).map((e=>"other"!==e?Object(I.jsx)(nt.a,{control:Object(I.jsx)(Vn.a,{checked:t[e],onChange:()=>c({...t,[e]:!t[e]})}),label:e},e):null)),void 0!==t.other&&Object(I.jsx)(u.a,{label:r,type:"text",value:t.other||"",style:ts.input,onChange:e=>c({...t,other:e.target.value}),margin:"normal",autoComplete:"false",placeholder:i,variant:"outlined"})]})})},cs=e=>{let{value:t={},title:n,subtitle:s,required:i,onChange:a,error:c}=e;return Object(I.jsx)(ns,{title:n,subtitle:s,required:i,error:c,children:Object(I.jsx)(Gn.a,{className:"multiple-checkboxes-limited-height",children:Object(I.jsx)("div",{children:Object.keys(t).map((e=>Object(I.jsx)(nt.a,{control:Object(I.jsx)(Vn.a,{checked:t[e],onChange:()=>a({...t,[e]:!t[e]})}),label:e},e)))})})})},os=e=>{let{value:t,title:n,subtitle:s,required:i,onChange:a,error:c}=e;return Object(I.jsx)(ns,{title:n,subtitle:s,required:i,error:c,children:Object(I.jsx)(es,{value:t,onChange:a})})},rs=e=>{let{value:t=null,title:n,subtitle:s,required:i,onChange:a,error:c}=e;const o=e=>()=>a(e);return Object(I.jsx)(ns,{title:n,subtitle:s,required:i,error:c,children:Object(I.jsxs)("div",{className:"yes-or-no",children:[Object(I.jsx)(m.a,{variant:!0===t?"contained":"outlined",color:"primary",onClick:o(!0),children:"C\xf3"}),"   ",Object(I.jsx)(m.a,{variant:!1===t?"contained":"outlined",color:"primary",onClick:o(!1),children:"Kh\xf4ng"})]})})},ls=["To\xe0n qu\u1ed1c","H\xe0 N\u1ed9i","TP HCM","An Giang","B\xe0 R\u1ecba V\u0169ng T\xe0u","B\u1ea1c Li\xeau","B\u1eafc K\u1ea1n","B\u1eafc Giang","B\u1eafc Ninh","B\u1ebfn Tre","B\xecnh D\u01b0\u01a1ng","B\xecnh \u0110\u1ecbnh","B\xecnh Ph\u01b0\u1edbc","B\xecnh Thu\u1eadn","C\xe0 Mau","Cao B\u1eb1ng","C\u1ea7n Th\u01a1","\u0110\xe0 N\u1eb5ng","\u0110\u1eafk L\u1eafk","\u0110\u1eafk N\xf4ng","\u0110\u1ed3ng Nai","\u0110\u1ed3ng Th\xe1p","\u0110i\u1ec7n Bi\xean","Gia Lai","H\xe0 Giang","H\xe0 Nam","H\xe0 T\u0129nh","H\u1ea3i D\u01b0\u01a1ng","H\u1ea3i Ph\xf2ng","H\xf2a B\xecnh","H\u1eadu Giang","H\u01b0ng Y\xean","Kh\xe1nh H\xf2a","Ki\xean Giang","Kon Tum","Lai Ch\xe2u","L\xe0o Cai","L\u1ea1ng S\u01a1n","L\xe2m \u0110\u1ed3ng","Long An","Nam \u0110\u1ecbnh","Ngh\u1ec7 An","Ninh B\xecnh","Ninh Thu\u1eadn","Ph\xfa Th\u1ecd","Ph\xfa Y\xean","Qu\u1ea3ng B\xecnh","Qu\u1ea3ng Nam","Qu\u1ea3ng Ng\xe3i","Qu\u1ea3ng Ninh","Qu\u1ea3ng Tr\u1ecb","S\xf3c Tr\u0103ng","S\u01a1n La","T\xe2y Ninh","Th\xe1i B\xecnh","Th\xe1i Nguy\xean","Thanh H\xf3a","Th\u1eeba Thi\xean Hu\u1ebf","Ti\u1ec1n Giang","Tr\xe0 Vinh","Tuy\xean Quang","V\u0129nh Long","V\u0129nh Ph\xfac","Y\xean B\xe1i"],hs=/(^|[^a-z])d?\u1ea1([^a-z]|$)/,ds="chat_speech",bs=e=>{let t=(e=>{const t=Object.entries(e).filter((e=>{let[t]=e;return"name"===t||"description"===t||"linkfb"===t||"deadline"===t||"benefit"===t})).map((e=>{let[t,n]=e;return n})).join("\n").match(hs);return console.log(t),t?ds:null})(e);return t||null},js=e=>{let{warn:t,onSubmit:n,clearWarn:a}=e;const[c,o]=i.a.useState(!1);Object(s.useEffect)((()=>{t&&o(!0)}),[t]);const r=()=>{o(!1),a()};return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(Q.a,{open:c,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsx)(J.a,{id:"alert-dialog-title",children:"X\xe1c nh\u1eadn"}),Object(I.jsx)(Z.a,{children:Object(I.jsx)($.a,{id:"alert-dialog-description",children:t===ds&&Object(I.jsxs)(I.Fragment,{children:["Trong ph\u1ea7n b\u1ea1n \u0111i\u1ec1n, b\u1ea1n c\xf3 vi\u1ebft nh\u1eefng t\u1eeb nh\u01b0 ",Object(I.jsx)("b",{children:'"d\u1ea1"'})," hay ",Object(I.jsx)("b",{children:'"\u1ea1"'}),". Xin b\u1ea1n ch\xfa \xfd, ph\u1ea7n m\u1ec1m s\u1ebd ",Object(I.jsx)("b",{children:"copy-paste tr\u1ef1c ti\u1ebfp c\xe2u b\u1ea1n \u0111\xe3 nh\u1eadp l\xean b\xe0i \u0111\u0103ng tr\xean page"}),", v\u1eady n\xean n\u1ebfu b\u1ea1n c\xf3 vi\u1ebft m\u1ea5y c\xe2u nh\u01b0 v\u1eady, x\xf3a \u0111i gi\xfap Jiji nha!",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),'C\xf2n n\u1ebfu b\u1ea1n ch\u1eafc l\xe0 t\u1ea5t c\u1ea3 \u0111\u1ec1u \u1ed5n (c\xf3 th\u1ec3 \ud83d\ude38 Jiji nh\u1ea7m l\u1eabn g\xec \u0111\xf3, m\xecnh ch\u1ec9 l\xe0 con m\xe8o th\xf4i m\xe0!), th\xec b\u1ea1n h\xe3y b\u1ea5m n\xfat "X\xe1c nh\u1eadn g\u1eedi" d\u01b0\u1edbi \u0111\xe2y']})})}),Object(I.jsxs)(Y.a,{children:[Object(I.jsx)(m.a,{onClick:()=>{r(),n()},color:"primary",autoFocus:!0,children:"X\xe1c nh\u1eadn g\u1eedi"}),Object(I.jsx)(m.a,{onClick:r,color:"primary",children:"Quay l\u1ea1i"})]})]})})},ps=[{element:e=>Object(I.jsx)(os,{title:"\u1ea2nh cho b\xe0i \u0111\u0103ng",subtitle:Object(I.jsxs)(I.Fragment,{children:["\u1ea2nh n\xe0y s\u1ebd \u0111\u01b0\u1ee3c d\xf9ng \u0111\u1ec3 \u0111\u0103ng l\xean fanpage, th\u01b0\u1eddng s\u1ebd l\xe0 avatar c\u1ee7a d\u1ef1 \xe1n.",Object(I.jsx)("br",{}),"L\u01b0u \xfd:",Object(I.jsx)("br",{}),"- Ch\xfang m\xecnh KH\xd4NG CH\u1ea4P NH\u1eacN \u1ea3nh ch\u1ee5p t\u1eadp th\u1ec3 c\u1ee7a BTC",Object(I.jsx)("br",{}),"- Kh\xf4ng ch\u1ea5p nh\u1eadn c\xe1c \u1ea3nh d\u1ec5 g\xe2y hi\u1ec3u nh\u1ea7m, ho\u1eb7c c\xf3 n\u1ed9i dung kh\xf4ng l\xe0nh m\u1ea1nh",Object(I.jsx)("br",{}),"- \u1ea2nh n\xean c\xf3 t\u1ef7 l\u1ec7 vu\xf4ng (1:1) \u0111\u1ec3 hi\u1ec7n t\u1ed1t tr\xean c\u1ea3 instagram v\xe0 facebook",Object(I.jsx)("br",{})]}),required:!0,...e}),name:"image",defaultValue:()=>null,checkError:e=>{if(!e)return"B\u1ea1n ch\u01b0a ch\u1ecdn \u1ea3nh \u0111\u1ec3 \u0111\u0103ng l\xean page ch\xfang m\xecnh"},populateToDoc:(e,t)=>{t.image=[e]}},{element:e=>Object(I.jsx)(ss,{title:"T\xean d\u1ef1 \xe1n/cu\u1ed9c thi/s\u1ef1 ki\u1ec7n",subtitle:"H\xe3y nh\u1eadp 1 t\xean ng\u1eafn g\u1ecdn cho d\u1ef1 \xe1n, cu\u1ed9c thi hay s\u1ef1 ki\u1ec7n c\u1ee7a b\u1ea1n nh\xe9",placeholder:"V\xed d\u1ee5: ABC Project...",required:!0,...e}),name:"name",defaultValue:()=>"",checkError:e=>{if(!e.trim())return"B\u1ea1n ch\u01b0a \u0111i\u1ec1n t\xean d\u1ef1 \xe1n/cu\u1ed9c thi/s\u1ef1 ki\u1ec7n"},populateToDoc:(e,t)=>{t.name=e.trim()}},{element:e=>Object(I.jsx)(as,{title:"Ph\xe2n lo\u1ea1i",subtitle:"B\u1ea1n c\xf3 th\u1ec3 th\xeam ph\xe2n m\u1ee5c d\u1ef1 \xe1n c\u1ee7a b\u1ea1n (n\u1ebfu kh\xf4ng c\xf3 trong danh s\xe1ch n\xe0y) d\u01b0\u1edbi d\u1ea1ng hashtag",moreLabel:"Ho\u1eb7c nh\u1eadp th\xeam c\xe1c hashtag kh\xe1c...",placeholder:"V\xed d\u1ee5: #d\u1ef1_\xe1n_ABC",required:!0,...e}),name:"type",defaultValue:()=>{const e=A.getParameterByName("cls")||"";return{"#d\u1ef1_\xe1n_gi\xe1o_d\u1ee5c":!1,"#d\u1ef1_\xe1n_t\xecnh_nguy\u1ec7n":!1,"#d\u1ef1_\xe1n_v\u0103n_h\xf3a":!1,"#d\u1ef1_\xe1n_ngh\u1ec7_thu\u1eadt":!1,"#d\u1ef1_\xe1n_khoa_h\u1ecdc":!1,"#d\u1ef1_\xe1n_m\xf4i_tr\u01b0\u1eddng":!1,"#cu\u1ed9c_thi":!!e.match(/contest/),"#s\u1ef1_ki\u1ec7n":!!e.match(/event/),other:""}},checkError:e=>{const t=Object.values(e).some((e=>!!e)),n=!!e.other.trim(),s=!!e.other.match(/#/);return t?n&&!s?"Ph\u1ea7n \xf4 \u0111i\u1ec1n ph\u1ea3i c\xf3 d\u1ea5u hashtag, v\xed d\u1ee5 #d\u1ef1_\xe1n_ABC":void 0:"B\u1ea1n ch\u01b0a ch\u1ecdn ph\u1ea7n n\xe0y"},populateToDoc:(e,t)=>{let n=A.getParameterByName("cls")||"project";n=n.match(/project/)?"project":n.match(/contest/)?"contest":n.match(/event/)?"event":"project";const s=Object.entries(e).filter((e=>{let[t,n]=e;return"other"!==t&&n})).map((e=>e[0])),i=e.other.trim();i&&s.push(i),t.cls=n,t.type=s}},{element:e=>Object(I.jsx)(is,{title:"M\xf4 t\u1ea3 v\u1ec1 d\u1ef1 \xe1n/cu\u1ed9c thi/s\u1ef1 ki\u1ec7n",subtitle:Object(I.jsxs)(I.Fragment,{children:["L\u01b0u \xfd:",Object(I.jsx)("br",{}),"- H\xe3y vi\u1ebft th\u1eadt chi ti\u1ebft, \u0111\u1ec3 ng\u01b0\u1eddi \u0111\u1ecdc c\xf3 th\u1ec3 hi\u1ec3u d\u1ef1 \xe1n/cu\u1ed9c thi/s\u1ef1 ki\u1ec7n c\u1ee7a b\u1ea1n h\u01b0\u1edbng \u0111\u1ebfn \u0111i\u1ec1u g\xec nh\xe9.",Object(I.jsx)("br",{}),"- KH\xd4NG copy-paste link b\xe0i h\u1ed7 tr\u1ee3 truy\u1ec1n th\xf4ng (ph\u1ea3i vi\u1ebft \u0111\u1ea7y \u0111\u1ee7 n\u1ed9i dung v\xe0o \u0111\xe2y)",Object(I.jsx)("br",{}),"- C\xe1c th\xf4ng tin v\u1ec1 nh\xe0 t\xe0i tr\u1ee3 s\u1ebd b\u1ecb x\xf3a sau khi ki\u1ec3m duy\u1ec7t.",Object(I.jsx)("br",{}),"- B\u1ea1n c\u0169ng c\xf3 th\u1ec3 \u0111\u1ec3 link \u0111\u01a1n \u0111\u0103ng k\xfd (n\u1ebfu c\xf3) trong ph\u1ea7n m\xf4 t\u1ea3",Object(I.jsx)("br",{})]}),placeholder:"V\xed d\u1ee5: ABC Project l\xe0 d\u1ef1 \xe1n \u0111\u01b0\u1ee3c l\u1eadp ra v\xec m\u1ee5c \u0111\xedch... Ch\xfang m\xecnh h\u01b0\u1edbng t\u1edbi vi\u1ec7c...",required:!0,rows:15,...e}),name:"description",defaultValue:()=>"",checkError:e=>{const t=e.trim();if(!t)return"B\u1ea1n ch\u01b0a \u0111i\u1ec1n ph\u1ea7n m\xf4 t\u1ea3 n\xe0y";if(t.length<400)return"Ph\u1ea7n m\xf4 t\u1ea3 cho d\u1ef1 \xe1n qu\xe1 ng\u1eafn. B\u1ea1n h\xe3y vi\u1ebft 1 c\xe1ch chi ti\u1ebft h\u01a1n (d\u1ef1 \xe1n c\u1ee7a b\u1ea1n l\xe0m g\xec, c\xf3 \xfd ngh\u0129a th\u1ebf n\xe0o,...). H\xe3y vi\u1ebft chi ti\u1ebft, KH\xd4NG copy-paste link b\xe0i vi\u1ebft";const n=t.match(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([^ \n\r\t]+)/gi);if(n)for(const s of n)if(s.match(/\.\.\./))return'Do ph\u1ea7n m\xf4 t\u1ea3 b\u1ea1n copy t\u1eeb facebook, n\xean link sau: "'.concat(s,'" \u0111\xe3 b\u1ecb facebook r\xfat ng\u1eafn (c\xf3 d\u1ea5u 3 ch\u1ea5m). V\xec v\u1eady, \u0111\u1ed9c gi\u1ea3 s\u1ebd kh\xf4ng th\u1ec3 b\u1ea5m v\xe0o \u0111\u01b0\u1ee3c. B\u1ea1n n\xean \u0111\u1eb7t l\u1ea1i link g\u1ed1c, ho\u1eb7c d\xf9ng bit.ly hay bom.to \u0111\u1ec3 r\xfat g\u1ecdn link nh\xe9!')},populateToDoc:(e,t)=>{t.description=e.trim()}},{element:e=>Object(I.jsx)(cs,{title:"T\u1ec9nh, th\xe0nh ph\u1ed1",subtitle:"N\u01a1i d\u1ef1 \xe1n / cu\u1ed9c thi / s\u1ef1 ki\u1ec7n c\u1ee7a b\u1ea1n s\u1ebd di\u1ec5n ra. B\u1ea1n c\xf3 th\u1ec3 ch\u1ecdn nhi\u1ec1u t\u1ec9nh, th\xe0nh ph\u1ed1 (h\xe3y cu\u1ed9n sang ngang \u0111\u1ec3 t\xecm)",required:!0,...e}),name:"locations",defaultValue:()=>{const e={};for(const t of ls)e[t]=!1;return e},checkError:e=>{if(!Object.values(e).some((e=>!!e)))return"B\u1ea1n ch\u01b0a ch\u1ecdn ph\u1ea7n n\xe0y"},populateToDoc:(e,t)=>{const n=Object.entries(e).filter((e=>e[1])).map((e=>e[0]));t.locations=n}},{element:e=>Object(I.jsx)(ss,{title:"Link facebook page",subtitle:"H\xe3y nh\u1eadp link t\u1edbi trang facebook ch\xednh c\u1ee7a d\u1ef1 \xe1n, cu\u1ed9c thi hay s\u1ef1 ki\u1ec7n c\u1ee7a b\u1ea1n nh\xe9",placeholder:"V\xed d\u1ee5: https://www.facebook.com/tonghopevent",required:!0,...e}),name:"linkfb",defaultValue:()=>"",checkError:e=>{const t=e.trim();return t?t.match(/(fb|facebook)\.com/)?void 0:"Link b\u1ea1n nh\u1eadp kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng. V\xed d\u1ee5, link t\u1edbi facebook c\u1ee7a ch\xfang m\xecnh ph\u1ea3i l\xe0: https://www.facebook.com/tonghopevent":"B\u1ea1n ch\u01b0a \u0111i\u1ec1n m\u1ee5c n\xe0y"},populateToDoc:(e,t)=>{t.linkfb=e}},{element:e=>Object(I.jsx)(rs,{title:"D\u1ef1 \xe1n c\u1ee7a b\u1ea1n c\xf3 tuy\u1ec3n nh\xe2n s\u1ef1 kh\xf4ng?",subtitle:"V\xed d\u1ee5 nh\u01b0 tuy\u1ec3n TNV, tuy\u1ec3n Ban \u0111i\u1ec1u h\xe0nh, ng\u01b0\u1eddi tham gia,...",required:!0,...e}),name:"_recruitment",defaultValue:()=>null,checkError:e=>{if(null===e)return"B\u1ea1n ch\u01b0a ch\u1ecdn m\u1ee5c n\xe0y"},populateToDoc:(e,t)=>null},{dependsOn:"_recruitment",element:e=>Object(I.jsx)(as,{title:"Y\xeau c\u1ea7u \u0111\u1ed1i t\u01b0\u1ee3ng",moreLabel:"Ho\u1eb7c c\xe1c \u0111\u1ed1i t\u01b0\u1ee3ng kh\xe1c... (kh\xf4ng b\u1eaft bu\u1ed9c \u0111i\u1ec1n)",placeholder:"Kh\xe1c...",...e}),name:"wanted",defaultValue:()=>({"Ban \u0111i\u1ec1u h\xe0nh":!1,"T\xecnh nguy\u1ec7n vi\xean":!1,"Ng\u01b0\u1eddi tham gia":!1,other:""}),checkError:e=>null,populateToDoc:(e,t)=>{const n=Object.entries(e).filter((e=>{let[t,n]=e;return"other"!==t&&n})).map((e=>e[0]));e.other&&n.push(e.other),t.wanted=n}},{dependsOn:"_recruitment",element:e=>Object(I.jsx)(is,{title:"Deadline tuy\u1ec3n nh\xe2n s\u1ef1",subtitle:"(Kh\xf4ng b\u1eaft bu\u1ed9c) N\u1ebfu b\u1ea1n c\xf3 deadline ri\xeang cho t\u1eebng ban, b\u1ea1n c\u0169ng c\xf3 th\u1ec3 ghi r\xf5 trong ph\u1ea7n n\xe0y nh\xe9",placeholder:"...",rows:2,...e}),name:"deadline",defaultValue:()=>"",checkError:e=>e&&e.match(hs)?'B\u1ea1n c\xf3 vi\u1ebft nh\u1eefng t\u1eeb nh\u01b0 "d\u1ea1" hay "\u1ea1". Ph\u1ea7n m\u1ec1m s\u1ebd copy-paste tr\u1ef1c ti\u1ebfp c\xe2u b\u1ea1n \u0111\xe3 nh\u1eadp l\xean b\xe0i \u0111\u0103ng. V\u1eady n\xean, b\u1ea1n h\xe3y x\xf3a nh\u1eefng c\xe2u nh\u01b0 v\u1eady \u0111i nh\xe9':null,populateToDoc:(e,t)=>t.deadline=e.trim()},{dependsOn:"_recruitment",element:e=>Object(I.jsx)(is,{title:"Quy\u1ec1n l\u1ee3i th\xe0nh vi\xean khi tham gia d\u1ef1 \xe1n",subtitle:"(Kh\xf4ng b\u1eaft bu\u1ed9c) VD: nh\u01b0 \u0111\u01b0\u1ee3c ch\u1ee9ng ch\u1ec9, \u0111\u01b0\u1ee3c giao l\u01b0u, h\u1ecdc h\u1ecfi kinh nghi\u1ec7m v\u1ec1 l\u0129nh v\u1ef1c g\xec,...",placeholder:"VD: Tham gia ABC Project, b\u1ea1n s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c... v\xe0 ngo\xe0i ra...",rows:7,...e}),name:"benefit",defaultValue:()=>"",checkError:e=>e&&e.match(hs)?'B\u1ea1n c\xf3 vi\u1ebft nh\u1eefng t\u1eeb nh\u01b0 "d\u1ea1" hay "\u1ea1". Ph\u1ea7n m\u1ec1m s\u1ebd copy-paste tr\u1ef1c ti\u1ebfp c\xe2u b\u1ea1n \u0111\xe3 nh\u1eadp l\xean b\xe0i \u0111\u0103ng. V\u1eady n\xean, b\u1ea1n h\xe3y x\xf3a nh\u1eefng c\xe2u nh\u01b0 v\u1eady \u0111i nh\xe9':null,populateToDoc:(e,t)=>t.benefit=e.trim()},{element:e=>Object(I.jsx)(ss,{title:"B\u1ea1n c\xf3 l\u01b0u \xfd, c\xe2u h\u1ecfi g\xec cho admin kh\xf4ng?",subtitle:Object(I.jsxs)(I.Fragment,{children:["(Kh\xf4ng b\u1eaft bu\u1ed9c) V\xed d\u1ee5: mu\u1ed1n \u0111\u0103ng b\xe0i v\xe0o ng\xe0y n\xe0o,...",Object(I.jsx)("br",{}),"(\xd4 \u0111i\u1ec1n n\xe0y l\xe0 cho admin \u0111\u1ecdc, n\xf3 s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c ghi v\xe0o b\xe0i \u0111\u0103ng l\xean facebook)"]}),placeholder:"...",...e}),name:"feedback",defaultValue:()=>"",checkError:e=>null,populateToDoc:(e,t)=>t.feedback=e.trim()}];var gs=n(35);const us={input:{marginBottom:"20px",width:"500px",maxWidth:"100%"},container:{display:"flex",flexWrap:"wrap"},cardStyle:{maxWidth:"700px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}};var ms=()=>{const[e,t]=Object(s.useState)((()=>{const e={};for(const t of ps)e[t.name]=t.defaultValue();return e})()),[n,i]=Object(s.useState)({}),[a,c]=Object(s.useState)(!1),[o,r]=Object(s.useState)(!1),[l,h]=Object(s.useState)(!1),[d,u]=Object(s.useState)(null),[O,v]=Object(s.useState)(null);window.TONGHOPEVENT_CONTEXT||(window.TONGHOPEVENT_CONTEXT=(()=>{try{const e=decodeURIComponent(window.location.href.match(/data=([^&]+)/)[1]),[t,n]=e.split(";");return{psid:t.substr(0,t.length-5),hash:t.substr(-5),org:n.toLowerCase()}}catch(e){return alert("ERROR: NO CONTEXT"),null}})(),console.log(window.TONGHOPEVENT_CONTEXT));const y=e=>Object.values(e).some((e=>!!e)),k=Object(s.useCallback)((async e=>{const t=window.location.href.match(/nui_test/),s=e||O;if(!y(n)){if(r(!0),console.log(s),t)h(!0);else{const e=await(async e=>{try{const t=window.TONGHOPEVENT_CONTEXT,n={...e,...t};return await f.a.post("https://tonghopevent-form-submit-btpjgpbvma-uc.a.run.app/form/submit",n),!0}catch(s){var t,n;return gs.a(s),console.error(s),(null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)&&alert("C\xf3 l\u1ed7i x\u1ea3y ra, xin vui l\xf2ng ch\u1ee5p m\xe0n h\xecnh v\xe0 b\xe1o l\u1ea1i v\u1edbi admin: ".concat(s.response.data.error)),!1}})(s);h(e),e||alert("C\xf3 l\u1ed7i x\u1ea3y ra, xin vui l\xf2ng th\u1eed l\u1ea1i!")}r(!1)}}),[O,n]),w=Object(s.useCallback)((()=>{const t={},n={};for(const s of ps){const i=s.name,a=e[i];n[i]=s.checkError(a),s.populateToDoc(a,t)}if(i(n),!y(n)){v(t);const e=bs(t);e?u(e):k(t)}}),[k,e]);Object(s.useEffect)((()=>{c(y(n))}),[n]);const C=Object(s.useCallback)((s=>a=>{t({...e,[s]:a}),n[s]&&i({...n,[s]:null})}),[e,n]);return Object(I.jsxs)(We.a,{theme:b,children:[Object(I.jsx)(Xt.a,{}),Object(I.jsx)(zt.a,{position:"static",children:Object(I.jsx)(qt.a,{children:Object(I.jsx)(p.a,{variant:"h6",style:{flexGrow:1},children:"Form nh\u1eadp d\u1eef li\u1ec7u"})})}),Object(I.jsxs)("div",{className:"mainView",children:[Object(I.jsx)(j.a,{style:us.cardStyle,children:Object(I.jsxs)(g.a,{children:[Object(I.jsx)(p.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"Form nh\u1eadp d\u1eef li\u1ec7u h\u1ed7 tr\u1ee3 truy\u1ec1n th\xf4ng"}),!l&&Object(I.jsx)(p.a,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0,children:"Ch\xfang m\xecnh s\u1ebd copy c\xe1c th\xf4ng tin b\u1ea1n nh\u1eadp d\u01b0\u1edbi \u0111\xe2y v\xe0 \u0111\u0103ng l\xean page, v\u1eady n\xean c\xe1c b\u1ea1n h\xe3y ch\xfa \xfd vi\u1ebft m\u1ed9t c\xe1ch r\xf5 r\xe0ng, d\u1ec5 hi\u1ec3u cho ng\u01b0\u1eddi \u0111\u1ecdc nh\xe9!"}),!l&&Object(I.jsx)(p.a,{variant:"body1",component:"small",color:"textSecondary",children:"(C\xe1c \xf4 c\xf3 d\xe2u * l\xe0 b\u1eaft bu\u1ed9c)"}),l&&Object(I.jsxs)(p.a,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0,children:["D\u1eef li\u1ec7u b\u1ea1n nh\u1eadp \u0111\xe3 \u0111\u01b0\u1ee3c l\u01b0u l\u1ea1i.",Object(I.jsx)("br",{}),"Ch\xfang m\xecnh s\u1ebd th\xf4ng b\xe1o v\u1edbi b\u1ea1n ngay khi b\xe0i \u0111\u0103ng \u0111\u01b0\u1ee3c duy\u1ec7t!"]})]})}),!l&&ps.map((t=>{if(!t.dependsOn||t.dependsOn&&e[t.dependsOn]){const s=t.name;return t.element({value:e[s],key:s,onChange:C(s),error:n[s]})}return null})),!l&&Object(I.jsx)(j.a,{style:us.cardStyle,children:Object(I.jsx)(g.a,{children:Object(I.jsxs)("div",{children:[Object(I.jsxs)("small",{children:['\u0110\u1eebng qu\xean b\u1ea5m n\xfat "Ho\xe0n th\xe0nh" khi b\u1ea1n \u0111\xe3 \u0111i\u1ec1n xong nh\xe9:',Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]}),Object(I.jsx)(m.a,{color:"primary",variant:"contained",onClick:w,disabled:a,children:"Ho\xe0n th\xe0nh"}),a&&Object(I.jsx)("p",{className:"error",children:"V\u1eabn c\xf2n m\u1ed9t v\xe0i \xf4 \u0111i\u1ec1n c\xf3 v\u1ea5n \u0111\u1ec1. B\u1ea1n h\xe3y ki\u1ec3m tra l\u1ea1i nh\xe9."}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)("small",{children:["------",Object(I.jsx)("br",{}),"\ud83d\ude38 Jiji: H\u1ec7 th\u1ed1ng form \u0111i\u1ec1n n\xe0y \u0111ang trong giai \u0111o\u1ea1n th\u1eed nghi\u1ec7m.",Object(I.jsx)("br",{}),"N\u1ebfu b\u1ea1n g\u1eb7p l\u1ed7i g\xec, h\xe3y inbox cho Jiji nh\xe9!"]})]})})}),Object(I.jsxs)("center",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"Developed by\xa0",Object(I.jsx)("b",{children:Object(I.jsx)("a",{href:"https://ngxson.com",target:"_blank",rel:"noopener noreferrer",children:"Nui"})}),Object(I.jsx)("br",{}),"Version ",M.VERSION,Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})]}),o&&Object(I.jsx)("div",{className:"loading-overlay",children:Object(I.jsxs)("div",{children:[Object(I.jsx)(x.a,{}),Object(I.jsx)("br",{}),"\u0110ang g\u1eedi d\u1eef li\u1ec7u..."]})}),Object(I.jsx)(js,{warn:d,onSubmit:k,clearWarn:()=>u(null)})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xs=n(385),Os=n(206);xs.a({dsn:"https://eed214d9c56c4e7085cccd764a9ac6a8@o1087634.ingest.sentry.io/6101146",integrations:[new Os.a.BrowserTracing],tracesSampleRate:.05}),window.location.pathname.match(/\/data/)?(console.log(M.VERSION),A.loadSettings(),c.a.render(Object(I.jsx)(Cn,{}),document.getElementById("root"))):window.location.pathname.match(/\/form/)?c.a.render(Object(I.jsx)(ms,{}),document.getElementById("root")):c.a.render(Object(I.jsx)(Rn,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}},[[301,1,2]]]);
//# sourceMappingURL=main.a70d0704.chunk.js.map