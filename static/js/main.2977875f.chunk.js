(this["webpackJsonptonghopevent-frontend"]=this["webpackJsonptonghopevent-frontend"]||[]).push([[0],{5392:function(e,t,a){e.exports=a(5467)},5397:function(e,t,a){},5442:function(e,t,a){},5452:function(e,t,a){},5455:function(e,t,a){},5456:function(e,t,a){},5463:function(e,t,a){},5466:function(e,t,a){},5467:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(10),i=a.n(r),o=(a(5397),a(171)),s=a(106),c=a.n(s),d=a(140),m=a.n(d),h=Object(o.a)({palette:{primary:{main:c.a[700]},secondary:{main:c.a[200]},error:{main:m.a[900]}}}),u=a(5517),p=a(52),g=a(5518),E=a(5538),b=a(5520),v=a(5514),f=a(16),k=a.n(f),w=a(141),y=a.n(w),C=a(142),x=a.n(C);const D={arg:null,res:null},S=e=>{if(D.arg===e)return D.res;{D.arg=e;const t=e.from.id,a=t===M.SELF_PAGE_ID||"182794865548469"===t;return D.res=a?"outgoing":"incoming",D.res}},_=(e,t)=>{const a=[],n=t=>e.some(e=>e.id===t);for(const l of t){if(n(l.id))break;a.unshift(l)}return[...e,...a]},T=(e,t)=>{const a={};return[...t,...e].filter(e=>!a[e.id]&&(a[e.id]=!0,!0))},N=e=>{if(!e.senders)return e.recipient&&e.recipient.id!==M.SELF_PAGE_ID?e.recipient.id:e.sender&&e.sender.id!==M.SELF_PAGE_ID?e.sender.id:null;for(const t of e.senders.data)if(t.id!==M.SELF_PAGE_ID)return t.id},I=e=>e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")).replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"")).replace(/\u02C6|\u0306|\u031B/g,"")).replace(/ + /g," ")).trim()).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," "),O={f1:"Nh\xf3m HS, SV",f2:"CLB thu\u1ed9c tr\u01b0\u1eddng h\u1ecdc",f3:"Tr\u01b0\u1eddng c\xf4ng l\u1eadp",f4:"T\u1ed5 ch\u1ee9c phi l\u1ee3i nhu\u1eadn",p1:"T\u1ed5 ch\u1ee9c c\xf3 l\u1ee3i nhu\u1eadn"};class B{static loadSettings(){M.INBOX_MARK_READ_ON_OPEN=B.settings.markReadOnOpenInbox}static getToken(){const e=B.getLocalStorage("token");if(e)return e;window.location.href="#/login"}static checkDebounce(e){window.lastRun||(window.lastRun={});const t=window.lastRun[e]||0,a=Date.now();if(a-t<500)return!0;window.lastRun[e]=a}static checkError(e){e&&e.data&&"Invalid token"===e.data.error&&(B.removeLocalStorage("token"),window.location.href="#/",window.location.reload())}static setLocalStorage(e,t){localStorage.setItem("tonghopevent:"+e,JSON.stringify(t))}static getLocalStorage(e){const t=localStorage.getItem("tonghopevent:"+e)||null;return null===t?null:JSON.parse(t)}static removeLocalStorage(e){localStorage.removeItem("tonghopevent:"+e)}static getDateStr(e){let t=new Date(e||1),a=t.getDate(),n=t.getMonth()+1;return`${a<10?"0":""}${a}-${n<10?"0":""}${n}-${t.getFullYear()}`}static getTimeStr(e){let t=new Date(e||1),a=t.getHours(),n=t.getMinutes();return`${a<10?"0":""}${a}h${n<10?"0":""}${n}`}static extractFacebookUsername(e=""){const t=e.replace("/pg/","/").match(/[facebok]+\.com\/([^?/]+)/);if(!t||t.length<1)return null;const a=t[1];if("events"===a)return null;const n=a.match(/-([0-9]{7,20})$/);return!n||n.length<1?a:n[1]}static makeRequest(e,t="get",a={}){const n=B.getLocalStorage("token"),l=e+(-1!==e.indexOf("?")?"&":"?")+"token="+n;return k.a[t](l,a)}static cleanFBLink(e=""){return e.replace(/[&?](__|eid|fref)[^&?\s]+/g,"")}static getOrgName(e){return O[e.org]}static fallbackCopyTextToClipboard(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var a=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+a)}catch(n){console.error("Fallback: Oops, unable to copy",n)}document.body.removeChild(t)}static copyTextToClipboard(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)})):B.fallbackCopyTextToClipboard(e)}static nl2br(e){return e.trim().replace(/\r/g,"").split("\n").map((function(e,t,a){const n=t===a.length-1;return l.a.createElement("span",{key:t},e,!n&&l.a.createElement("br",null))}))}static getFormUrl(e,t){const a=encodeURIComponent;return`https://docs.google.com/forms/d/e/1FAIpQLSds9-as5kOcCr9_gtQ-4xic8-CTSmsQaHEajU-OX4xGpz8wHQ/viewform?usp=pp_url&entry.450789842=${a(e)}${t?"&entry.1699976597="+a(t):""}`}static getParameterByName(e){const t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}static getPsid(){const e=(B.getParameterByName("psid_hashed")||"").match(/[0-9]{3,20}[A-Z]{3,10}/);return e?e[0]:"none"}static goToInbox(e){const{id:t,senders:a}=e,n=a.data[0].name,l=I(n.toLowerCase()).replace(/[^a-z0-9]+/g,"-"),r=window.location.href.replace(/#.*/,"");window.open(`${r}#/msg/${t}/${l}`,"_blank").focus()}static setSettings(e){B.setLocalStorage("settings",e),B.settings={...e},B.loadSettings()}}B.settings={markReadOnOpenInbox:!1,...B.getLocalStorage("settings")||{}};const A=async(e,t,a={},n={})=>{a.token=B.getToken(),t=t.replace("/inbox/","/inbox2/");const l="post"===e?await k.a.post(`${M.BACKEND}${t}`,n,{params:a}):await k.a[e](`${M.BACKEND}${t}`,{params:a});return B.checkError(l),l.data};var P=B;function $({children:e}){return l.a.createElement("div",{style:{padding:"10px",marginBottom:"10px",border:"#cecece solid 2px",position:"relative"}},e)}class L extends l.a.Component{constructor(...e){super(...e),this.state={templates:[],loading:!0,editingIndex:null,editingText:null,showing:!1},this.openTemplateDialog=()=>{this.setState({showing:!0})},this.loadTemplates=async()=>{this.setState({loading:!0});let e=await A("get","/inbox/templates");e=Object.keys(e).map(t=>({id:t,...e[t]})),this.setState({templates:e,loading:!1,editingIndex:null,editingText:null})},this.save=async()=>{const{templates:e,editingIndex:t,editingText:a}=this.state;this.setState({loading:!0}),await A("post","/inbox/templates",{},{id:e[t].id,text:a||"(empty)"}),this.loadTemplates()},this.fillToInput=e=>()=>{window.setMessageInput(e.text),this.setState({showing:!1})}}componentDidMount(){this.loadTemplates(),window.openTemplateDialog=this.openTemplateDialog}render(){const{loading:e,templates:t,editingIndex:a,editingText:n,showing:r}=this.state;return r?l.a.createElement("div",{style:{position:"fixed",maxWidth:"100vw",width:"600px",height:"80vh",Maxheight:"80vh",background:"white",zIndex:"100",top:"50%",left:"50%",transform:"translate(-50%, -50%)",border:"#bbb solid 2px",padding:"10px",overflow:"auto"}},l.a.createElement("button",{style:{position:"absolute",right:"10px"},onClick:()=>this.setState({showing:!1})},"[x] Tho\xe1t"),l.a.createElement("br",null),l.a.createElement("br",null),!e&&t.map((e,t)=>a===t?l.a.createElement($,{key:t},l.a.createElement("textarea",{style:{width:"100%"},value:n,onChange:e=>this.setState({editingText:e.target.value}),rows:5}),l.a.createElement("button",{onClick:this.save},"Save"),"  ",l.a.createElement("button",{onClick:()=>this.setState({editingIndex:null,editingText:null})},"Cancel")):l.a.createElement($,{key:t},l.a.createElement("p",{style:{cursor:"pointer"},onClick:this.fillToInput(e)},y()(e.text)),l.a.createElement("button",{onClick:()=>this.setState({editingIndex:t,editingText:e.text})},"Edit"),"  ",l.a.createElement("button",{onClick:this.fillToInput(e)},"COPY & PASTE"),"  ")),e&&l.a.createElement("center",null,l.a.createElement(x.a,null))):null}}var M={PROD:!0,BACKEND:"https://nuichatbot.herokuapp.com/tonghopevent",SOCKETIO:"https://nuichatbot.herokuapp.com/",SOCKETIO_MODULE:"tonghopevent",SELF_PAGE_ID:"242401956152220",INBOX_TITLE:"tonghopevent",INBOX_SEND_ABILITY:!0,INBOX_UNREAD_ABILITY:!0,INBOX_IGNORED_CONVERSATION:"t_229190944264162",INBOX_MARK_READ_ON_OPEN:!1,VERSION:"4.22_r1",CustomMessengerWidget:L};class F extends l.a.Component{constructor(e){super(),this.handleChange=e=>t=>{this.setState({[e]:t.target.value})},this.props=e,this.state={},window.changeHeader("Login")}async onLogin(){if(""===this.state.username||""===this.state.password)return window.showAlert({title:"Please fill in",text:"Please fill in your username and password"});{this.setState({loading:!0});const{username:e,password:t}=this.state,a=await k.a.post(M.BACKEND+"/login",{username:e,password:t});if(this.setState({loading:!1}),!a.data.token)return window.showAlert({title:"Error",text:a.data.error});P.setLocalStorage("token",a.data.token),window.location.href="#/"}}async onRegister(){}render(){var e={input:{marginBottom:"20px",width:"500px",maxWidth:"100%"},container:{display:"flex",flexWrap:"wrap"},cardStyle:{maxWidth:"500px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}};const t=l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(v.a,null))),a=l.a.createElement("div",null,l.a.createElement(u.a,{style:e.cardStyle},l.a.createElement(g.a,null,l.a.createElement(p.a,{variant:"h5",component:"h2"},"Admin - TongHopEvent"),l.a.createElement(p.a,{color:"textSecondary"},"Please login to continue"),l.a.createElement(E.a,{label:"Username",type:"text",value:this.state.username,style:e.input,onChange:this.handleChange("username"),margin:"normal"}),l.a.createElement(E.a,{label:"Password",type:"password",value:this.state.password,style:e.input,onChange:this.handleChange("password"),margin:"normal"}),l.a.createElement("div",null,l.a.createElement(b.a,{onClick:this.onLogin.bind(this),color:"primary"},"Login")))));return this.state.loading?t:a}}var H=F,R=a(143),K=a.n(R),U=a(5526),G=a(5527),W=a(82),V=a.n(W),j=a(81),z=a.n(j),X=a(5522),Y=a(5521),Q=a(5525),J=a(5523),q=a(5524);class Z extends l.a.Component{constructor(e){super(e),this.state={comment:e.doc.comment||""}}render(){const{comment:e}=this.state,{onClose:t}=this.props;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y.a,{fullWidth:!0,open:!0,onClose:()=>t(!1),"aria-labelledby":"form-dialog-title"},l.a.createElement(X.a,{id:"form-dialog-title"},"Ghi ch\xfa"),l.a.createElement(J.a,null,l.a.createElement(q.a,null,"B\u1ea1n c\xf3 th\u1ec3 \u0111\u1ec3 l\u1ea1i ghi ch\xfa cho b\xe0i vi\u1ebft n\xe0y. Ch\u1ec9 c\xf3 Admin m\u1edbi nh\xecn th\u1ea5y ghi ch\xfa."),l.a.createElement(E.a,{multiline:!0,rowsMax:"20",value:e,onChange:e=>{this.setState({comment:e.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})),l.a.createElement(Q.a,null,l.a.createElement(b.a,{onClick:()=>t(!1),color:"primary"},"Quay l\u1ea1i"),l.a.createElement(b.a,{onClick:()=>t(e),color:"primary"},"L\u01afU GHI CH\xda"))))}}var ee=Z;a(5442);class te extends l.a.Component{constructor(e){super(),this.props=e,this.state={loading:!1,isNoteEditOpen:!1,isCopied:!1,isExpanded:!this.props.admin,copyContent:this.props.admin?this.getCopyContent():""},this.props.doc&&this.props.doc.linkfb&&(this.fbusername=P.extractFacebookUsername(this.props.doc.linkfb)),e.admin&&(e.doc.image?this.state.publishAction="publish":this.fbusername?this.state.publishAction="getimage":this.state.publishAction=null)}async updateDocField(e,t,a,n){this.setState({loading:!0});const{doc:l}=this.props,r=await k.a.post(a,n);if(r.data.success){const a=JSON.parse(JSON.stringify(l));a[e]=t,this.props.setDoc(this.props.i,a)}else window.showAlert({title:"Error",text:r.data.error});this.setState({loading:!1})}async toggleTrashDoc(){const{doc:e}=this.props,t=!e.trashed,a=P.getLocalStorage("token");await this.updateDocField("trashed",t,`${M.BACKEND}/doc/${e.id}/trashed?token=${a}`,{trashed:t})}async toggleApproved(){const{doc:e}=this.props,t=!e.approved,a=P.getLocalStorage("token");await this.updateDocField("approved",t,`${M.BACKEND}/doc/${e.id}/approved?token=${a}`,{approved:t})}async updateComment(e){const{doc:t}=this.props,a=P.getLocalStorage("token");await this.updateDocField("comment",e||"",`${M.BACKEND}/doc/${t.id}/comment?token=${a}`,{comment:e})}getCopyContent(){const{doc:e}=this.props;return(`-- ${e.name} --\n${this.generateLocationTag(e)} ${e.type.join(" ")}\n\n\u25cf M\xf4 t\u1ea3: ${e.description.trim()}\n\n\u25cf Link facebook: ${P.cleanFBLink(e.linkfb)}\n`+(e.wanted?"\u25cf Y\xeau c\u1ea7u \u0111\u1ed1i t\u01b0\u1ee3ng: "+e.wanted.join(", ").trim()+"\n":"")+(e.deadline?"\u25cf Deadline tuy\u1ec3n nh\xe2n s\u1ef1: "+e.deadline.trim()+"\n":"")+(e.benefit?"\u25cf Quy\u1ec1n l\u1ee3i khi tham gia d\u1ef1 \xe1n:\n"+e.benefit.trim()+"\n":"")+`\nTrackID:${e.psid}:${e.id}`).trim()}generateLocationTag(e){const{location:t}=e;return t?"To\xe0n qu\u1ed1c"===t?"#d\u1ef1_\xe1n_to\xe0n_qu\u1ed1c":"#d\u1ef1_\xe1n_\u1edf_"+e.location.replace(/\s+/g,"_"):""}getImageUrl(){const{doc:e}=this.props;return e.image?"https://drive.google.com/uc?export=view&id="+e.image[0]:null}_renderNonAdminInfo(){const{doc:e}=this.props;return l.a.createElement("p",{style:{backgroundColor:e.trashed?"#ffa3a3":"#eee",padding:"10px",width:"100%"}},l.a.createElement("center",null,e.trashed?"B\xe0i vi\u1ebft n\xe0y \u0111\xe3 b\u1ecb t\u1eeb ch\u1ed1i":e.approved?"B\xe0i vi\u1ebft n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c duy\u1ec7t v\xe0 s\u1ebd s\u1edbm \u0111c \u0111\u0103ng l\xean fanpage":"B\xe0i vi\u1ebft n\xe0y \u0111ang \u0111\u1ee3i \u0111\u1ec3 \u0111\u01b0\u1ee3c ki\u1ec3m duy\u1ec7t"))}_renderDuplicatedWarningIcon(){const{doc:e,duplicateHelper:t,openDuplicateDocDialog:a}=this.props;if(!t||e.approved)return null;const n=t.checkDoc(e);return n?l.a.createElement(U.a,{size:"small",color:"primary",style:{marginRight:"15px"},onClick:()=>a(n,e.id)},l.a.createElement(z.a,null)):null}_renderPostContent(){const{doc:e}=this.props;return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,this.generateLocationTag(e)," ",e.type.join(" ")),l.a.createElement("p",null,P.nl2br(e.description)),l.a.createElement("p",null,"\u25cf Link facebook: ",P.cleanFBLink(e.linkfb),l.a.createElement("br",null),!!e.wanted&&l.a.createElement("span",null,"\u25cf Y\xeau c\u1ea7u \u0111\u1ed1i t\u01b0\u1ee3ng: ",e.wanted.join(", "),l.a.createElement("br",null)),!!e.deadline&&l.a.createElement("span",null,"\u25cf Deadline tuy\u1ec3n nh\xe2n s\u1ef1: ",P.nl2br(e.deadline),l.a.createElement("br",null)),!!e.benefit&&l.a.createElement("span",null,"\u25cf Quy\u1ec1n l\u1ee3i khi tham gia d\u1ef1 \xe1n: ",l.a.createElement("br",null),P.nl2br(e.benefit),l.a.createElement("br",null))),this.props.admin&&l.a.createElement("p",null,"TrackID:",e.psid,":",e.id),!!e.image&&l.a.createElement("p",null,"\u1ea2nh tu\u1ef3 ch\u1ecdn: ","https://drive.google.com/open?id="+e.image[0]),l.a.createElement("p",null,"(G\u1eedi l\xfac ",P.getTimeStr(e.created)," ng\xe0y ",P.getDateStr(e.created),")",!!e.org&&l.a.createElement("span",null,l.a.createElement("br",null),"\u0110\u01a1n v\u1ecb t\u1ed5 ch\u1ee9c: ",P.getOrgName(e))),!this.props.admin&&!!e.feedback&&l.a.createElement("p",null,"\u25cf C\xe2u h\u1ecfi, g\xf3p \xfd: ",e.feedback))}_renderMainCard(){const{doc:e}=this.props,{isExpanded:t,copyContent:a,publishAction:n,isNoteEditOpen:r}=this.state,i=this.props.gotoPublish||(()=>{}),o=l.a.createElement("div",null,l.a.createElement("div",{style:t?null:{maxHeight:"315px",overflow:"hidden",position:"relative"},className:t?null:"fade-out"},!this.props.admin&&this._renderNonAdminInfo(),l.a.createElement("p",null,e.approved&&l.a.createElement(U.a,{size:"small",color:"primary",style:{marginRight:"15px"},disabled:!0},l.a.createElement(V.a,null)),this._renderDuplicatedWarningIcon(),l.a.createElement("b",null,"-- ",e.name," --"),e.plan&&l.a.createElement("p",null,l.a.createElement("span",{className:"doc-plan"},"\u2588 G\xf3i ",e.plan.toUpperCase()))),l.a.createElement(K.a,{componentDecorator:(e,t,a)=>l.a.createElement("a",{href:e,key:a,target:"_blank",rel:"noopener noreferrer"},t)},this._renderPostContent())),this.props.admin&&l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement(b.a,{onClick:()=>this.setState({isExpanded:!t})},t?"Thu g\u1ecdn":"Hi\u1ec7n th\xeam ..."))),l.a.createElement(G.a,null),this.props.admin&&l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement("center",null,l.a.createElement(v.a,null)):l.a.createElement("div",null,e.comment&&e.comment.trim().length>0&&l.a.createElement("p",null,l.a.createElement("b",null,"\u25cf Ghi ch\xfa:")," ",P.nl2br(e.comment)),!!e.feedback&&l.a.createElement("p",null,"\u25cf C\xe2u h\u1ecfi, g\xf3p \xfd: ",e.feedback),l.a.createElement(b.a,{variant:"outlined",onClick:this.toggleTrashDoc.bind(this),color:"primary"},"X\xf3a"),l.a.createElement(b.a,{variant:"outlined",onClick:this.toggleApproved.bind(this),color:"primary"},"Tick"),n&&l.a.createElement(b.a,{variant:"outlined",onClick:()=>{i({id:e.id,caption:a,url:this.getImageUrl(),fbusername:this.fbusername,psid:e.psid},n)},color:"primary"},"\u0110\u0103ng b\xe0i"),l.a.createElement(b.a,{variant:"outlined",onClick:()=>this.setState({isNoteEditOpen:!0}),color:"primary"},"Ghi ch\xfa"),l.a.createElement(b.a,{variant:"outlined",onClick:()=>this.props.openToolsDialog(e),color:"primary"},"+"))));return l.a.createElement("div",{style:{paddingBottom:"20px"}},l.a.createElement(u.a,null,l.a.createElement(g.a,{style:{backgroundColor:e.approved&&this.props.admin?"#cfd8dc":"#fff"},className:e.approved&&this.props.admin?"approved":null},o)),r&&l.a.createElement(ee,{doc:e,onClose:e=>{this.setState({isNoteEditOpen:!1}),!1!==e&&this.updateComment(e)}}))}_renderTrashedDoc(){const{doc:e}=this.props;return this.state.loading?l.a.createElement("center",null,l.a.createElement(v.a,null)):l.a.createElement("p",null,l.a.createElement("b",null,"(\u0110\xe3 x\xf3a)")," ",e.name," \xa0\xa0\xa0",l.a.createElement(b.a,{variant:"outlined",size:"small",color:"primary",className:"restore-btn",onClick:this.toggleTrashDoc.bind(this)},"Kh\xf4i ph\u1ee5c"))}render(){const{doc:e,admin:t}=this.props;return e.trashed&&t?this._renderTrashedDoc():this._renderMainCard()}}var ae=te,ne=a(5519),le=a(5528),re=a(5529),ie=a(144);a(5452);const oe=[{desc:"B\xe1o tr\xf9ng b\xe0i",text:"\u0110\xe3 c\xf3 ng\u01b0\u1eddi nh\u1eadp th\xf4ng tin c\u1ee7a d\u1ef1 \xe1n / cu\u1ed9c thi / s\u1ef1 ki\u1ec7n n\xe0y. Kh\xf4ng bi\u1ebft b\u1ea1n c\xf3 mu\u1ed1n b\u1ed5 sung hay thay \u0111\u1ed5i g\xec kh\xf4ng nh\u1ec9?\n\nN\u1ebfu kh\xf4ng, ch\xfang m\xecnh s\u1ebd x\xf3a th\xf4ng tin b\u1ea1n \u0111\xe3 nh\u1eadp \u0111\u1ec3 kh\xf4ng b\u1ecb tr\xf9ng v\u1edbi b\xe0i \u0111\xe3 \u0111\u0103ng."},{desc:"B\xe1o b\u1ecb x\xf3a v\xec ko ph\xf9 h\u1ee3p",text:"Xin ch\xe0o b\u1ea1n,\n\nD\u1ef1 \xe1n / cu\u1ed9c thi / s\u1ef1 ki\u1ec7n c\u1ee7a b\u1ea1n \u0111\xe3 b\u1ecb x\xf3a do kh\xf4ng ph\xf9 h\u1ee3p v\u1edbi \u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng c\u1ee7a ch\xfang m\xecnh.\n\nH\xe3y tham kh\u1ea3o \u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng c\u1ee7a fanpage t\u1ea1i \u0111\xe2y: https://sites.google.com/view/tonghopevent"},{desc:"B\xe1o d\u1ef1 \xe1n c\xf3 l\u1ee3i nhu\u1eadn",text:"Xin ch\xe0o b\u1ea1n,\n\nD\u1ef1 \xe1n / cu\u1ed9c thi / s\u1ef1 ki\u1ec7n c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c \u0111i\u1ec1u h\xe0nh b\u1edfi m\u1ed9t t\u1ed5 ch\u1ee9c / c\xe1 nh\xe2n ho\u1ea1t \u0111\u1ed9ng c\xf3 l\u1ee3i nhu\u1eadn. D\u1ef1a theo \u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng c\u1ee7a ch\xfang m\xecnh, b\xe0i c\u1ee7a b\u1ea1n ph\u1ea3i tr\u1ea3 ph\xed 100.000 VN\u0110 \u0111\u1ec3 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c \u0111\u0103ng b\xe0i l\xean fanpage nh\xe9.\n\nH\xe3y tham kh\u1ea3o \u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng c\u1ee7a fanpage t\u1ea1i \u0111\xe2y: https://sites.google.com/view/tonghopevent"},{desc:"B\xe1o thi\u1ebfu th\xf4ng tin",text:"Admin \u0111\xe3 xem b\xe0i vi\u1ebft c\u1ee7a b\u1ea1n. Tuy nhi\xean, do b\xe0i vi\u1ebft c\u1ee7a b\u1ea1n c\xf2n thi\u1ebfu m\u1ed9t s\u1ed1 th\xf4ng tin n\xean ch\xfang m\xecnh ch\u01b0a th\u1ec3 ph\xea duy\u1ec7t \u0111\u01b0\u1ee3c. B\u1ea1n h\xe3y \u0111i\u1ec1n l\u1ea1i form v\u1edbi \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin h\u01a1n nh\xe9!\n\nH\xe3y tham kh\u1ea3o v\xed d\u1ee5 sau: https://bit.ly/2TZKbee"},{desc:"\u0110i\u1ec1n l\u1ea1i (kh\xf4ng paste link)",text:"Admin \u0111\xe3 xem b\xe0i vi\u1ebft c\u1ee7a b\u1ea1n. Tuy nhi\xean, ch\xfang m\xecnh kh\xf4ng th\u1ec3 x\u1eed l\xfd n\u1ebfu b\u1ea1n ch\u1ec9 copy-paste m\u1ed7i link b\xe0i vi\u1ebft. B\u1ea1n h\xe3y \u0111i\u1ec1n l\u1ea1i form th\u1eadt r\xf5 r\xe0ng, bao g\u1ed3m c\u1ea3 ph\u1ea7n gi\u1edbi thi\u1ec7u, \xfd ngh\u0129a d\u1ef1 \xe1n / cu\u1ed9c thi / s\u1ef1 ki\u1ec7n nh\xe9.\n\nH\xe3y tham kh\u1ea3o v\xed d\u1ee5 sau: https://bit.ly/2TZKbee"}];class se extends l.a.Component{constructor(e){super(e),this.state={loading:!0,error:!1,showTemplates:!0,sendInboxData:null,inboxData:{},isLinkCopied:!1}}async fetchData(){this.setState({error:!1,loading:!0,showTemplates:!0,isLinkCopied:!1});const e=await P.makeRequest(`${M.BACKEND}/inbox/${this.props.psid}`),{data:t}=e;t&&Object.keys(t).length>0?this.setState({loading:!1,error:!1,inboxData:t}):this.setState({loading:!1,error:!0})}async sendInbox(){const e=(t=this.state.sendInboxData,JSON.parse(JSON.stringify(t)));var t;this.setState({sendInboxData:null}),this.props.closeToolsDialog();const a=await P.makeRequest(`${M.BACKEND}/inbox/${this.props.psid}`,"post",{message:"\u2b22 "+e.text});a.data&&a.data.success?window.toastr.success("\u0110\xe3 g\u1eedi tin nh\u1eafn th\xe0nh c\xf4ng!"):window.toastr.error("\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f C\xf3 l\u1ed7i x\u1ea3y ra, ko th\u1ec3 g\u1eedi tin nh\u1eafn \u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f")}goToPageInbox(){P.goToInbox(this.state.inboxData),this.props.closeToolsDialog()}_renderSendInboxDialogAsk(){const{sendInboxData:e}=this.state,t=Date.now()-this.props.doc.created<864e5,a=()=>this.setState({sendInboxData:null});return e?l.a.createElement(Y.a,{open:!!e,onClose:a},l.a.createElement(X.a,{id:"alert-dialog-title"},e.desc),l.a.createElement(J.a,null,l.a.createElement(q.a,{id:"alert-dialog-description"},t?"G\u1eedi tin nh\u1eafn c\xf3 n\u1ed9i dung nh\u01b0 sau (c\xf3 th\u1ec3 s\u1eeda):":"Kh\xf4ng th\u1ec3 t\u1ef1 \u0111\u1ed9ng g\u1eedi tin nh\u1eafn. H\xe3y copy-paste v\xe0 inbox th\u1ee7 c\xf4ng:",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(E.a,{multiline:!0,rowsMax:"20",value:e.text,onChange:t=>{this.setState({sendInboxData:{...e,text:t.target.value}})},margin:"normal",variant:"outlined",fullWidth:!0}))),l.a.createElement(Q.a,null,l.a.createElement(b.a,{onClick:a,color:"primary"}," Quay l\u1ea1i "),!t&&l.a.createElement(b.a,{onClick:()=>P.copyTextToClipboard(e.text),color:"primary"}," Copy tin nh\u1eafn "),t?l.a.createElement(b.a,{onClick:()=>this.sendInbox(),color:"primary"}," G\u1eecI "):l.a.createElement(b.a,{onClick:()=>this.goToPageInbox(),color:"primary"}," \u0110i t\u1edbi inbox "))):null}_renderError(){return l.a.createElement(ne.a,null,l.a.createElement(le.a,{button:!0},l.a.createElement(re.a,{primary:"(C\xf3 l\u1ed7i x\u1ea3y ra)"})),l.a.createElement(le.a,{button:!0,onClick:this.props.closeToolsDialog},l.a.createElement(re.a,{primary:"Quay l\u1ea1i"})))}_renderContent(){const{inboxData:e,showTemplates:t,isLinkCopied:a}=this.state;return l.a.createElement(ne.a,null,l.a.createElement(le.a,{button:!0,onClick:this.goToPageInbox.bind(this)},l.a.createElement(re.a,{primary:"\u0110i t\u1edbi inbox",secondary:"T\xean FB: "+e.senders.data[0].name})),l.a.createElement(G.a,null),!t&&l.a.createElement(le.a,{button:!0,onClick:()=>this.setState({showTemplates:!0})},l.a.createElement(re.a,{primary:"\ud83d\udcac (Hi\u1ec7n c\xe1c m\u1eabu tin nh\u1eafn)"})),t&&oe.map((e,t)=>l.a.createElement(le.a,{button:!0,onClick:()=>this.setState({sendInboxData:e}),key:t},l.a.createElement(re.a,{primary:"\ud83d\udcac "+e.desc}))),l.a.createElement(G.a,null),l.a.createElement(ie.CopyToClipboard,{text:`${window.location.protocol}//${window.location.host}/data/#/view/${this.props.doc.id}`,onCopy:()=>this.setState({isLinkCopied:!0})},l.a.createElement(le.a,{button:!0},l.a.createElement(re.a,{primary:a?"(\u0110\xe3 copy link)":"Copy link b\xe0i vi\u1ebft"}))),l.a.createElement(G.a,null),l.a.createElement(le.a,{button:!0,onClick:this.props.closeToolsDialog},l.a.createElement(re.a,{primary:"Quay l\u1ea1i"})))}render(){const{name:e,open:t}=this.props;return l.a.createElement(l.a.Fragment,null,this._renderSendInboxDialogAsk(),l.a.createElement(Y.a,{open:t,onEnter:this.fetchData.bind(this),onBackdropClick:this.props.closeToolsDialog,className:"tools-dialog","aria-labelledby":"simple-dialog-title"},l.a.createElement(X.a,{id:"simple-dialog-title"},e?e.substr(0,24):""),this.state.loading?l.a.createElement("center",null,l.a.createElement(v.a,null)):this.state.error?this._renderError():this._renderContent()))}}var ce=se;class de extends l.a.Component{constructor(e){super(e),this.state={}}_renderContent(){const{docs:e,selectedDocID:t}=this.props,a=Date.now();return l.a.createElement(ne.a,null,e.map(e=>{if(e.id===t)return null;const n=Math.floor((a-e.created)/86400/1e3);return l.a.createElement(le.a,{button:!0,onClick:()=>window.open("/data/#/view/"+e.id,"_blank"),key:e.id},l.a.createElement(re.a,{primary:e.name,secondary:`${P.getDateStr(e.created)} l\xfac ${P.getTimeStr(e.created)} ${n>0?` (${n} ng\xe0y tr\u01b0\u1edbc)`:""}`}))}),l.a.createElement(G.a,null),l.a.createElement(le.a,{button:!0,onClick:this.props.closeDuplicateDocDialog},l.a.createElement(re.a,{primary:"Quay l\u1ea1i"})))}render(){const{docs:e}=this.props;return l.a.createElement(Y.a,{open:!!e,"aria-labelledby":"simple-dialog-title"},l.a.createElement(X.a,{id:"simple-dialog-title"},"B\xe0i \u0111\u0103ng tr\xf9ng"),l.a.createElement(J.a,null,"B\xe0i \u0111\u0103ng n\xe0y c\xf3 th\u1ec3 b\u1ecb tr\xf9ng v\u1edbi nh\u1eefng b\xe0i sau:"),e&&this._renderContent())}}var me=de;var he=class{constructor(){this.seen={}}pushLookbackData(e){for(const t of e){const{fbname:e}=t;this.seen[e]?this.seen[e].push(t):this.seen[e]=[t]}}pushDoc(e){const t=P.extractFacebookUsername(e.linkfb);if(!t)return null;this.seen[t]?this.seen[t].push(e):this.seen[t]=[e]}checkDoc(e){const t=P.extractFacebookUsername(e.linkfb),a=this.seen[t];return a&&a.length>1?a:null}clear(){this.seen={}}},ue=a(66);class pe extends l.a.Component{constructor(e){super(),this.markDocApproved=e=>{window.DOCID_APPROVED||(window.DOCID_APPROVED={}),window.DOCID_APPROVED[e]=!0,this.dispatchDocApproved()},this.dispatchDocApproved=()=>{window.DOCID_APPROVED||(window.DOCID_APPROVED={}),this.setState(e=>({list:e.list.map(e=>(window.DOCID_APPROVED[e.id]&&(e.approved=!0),e))}))},this.handleChange=e=>t=>{this.setState({[e]:t.target.value})},this.props=e,this.state={loading:!0,list:[],toolsDialogOpen:!1,toolsDialogDoc:{},duplicateHelper:new he,duplicateDocDialog:null,selectedDocID:""},window.changeHeader("Qu\u1ea3n l\xfd d\u1eef li\u1ec7u - TongHopEvent")}componentDidMount(){this.loadData(),window.markDocApproved=this.markDocApproved}componentWillUnmount(){window.markDocApproved=null}async loadData(){const e=new he,t=P.getToken(),[a,{data:n}]=await Promise.all([k.a.get(`${M.BACKEND}/feed?token=${t}`),k.a.get(`${M.BACKEND}/lookback?token=${t}`)]);P.checkError(a),e.pushLookbackData(n),this.setState({loading:!1,list:a.data,duplicateHelper:e}),this.dispatchDocApproved()}onClickEdit(){this.setState({edit:!0})}setDoc(e,t){this.setState(a=>{const n=a.list;return n[e]=t,{list:n}})}openToolsDialog(e){this.setState({toolsDialogOpen:!0,toolsDialogDoc:e})}openDuplicateDocDialog(e,t){this.setState({duplicateDocDialog:e,selectedDocID:t})}render(){const e=l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(v.a,null))),{gotoPublish:t}=this.props,{duplicateDocDialog:a,duplicateHelper:n,selectedDocID:r}=this.state,i=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{marginTop:"20px",marginRight:"20px",marginLeft:"20px"}},0===this.state.list.length&&l.a.createElement("center",null,l.a.createElement("h2",null,"Ch\u01b0a c\xf3 b\xe0i \u0111\u0103ng n\xe0o")),l.a.createElement(ue.a,{columnsCountBreakPoints:{350:1,1e3:2,1550:3}},l.a.createElement(ue.b,{gutter:"10px"},this.state.list.map((e,a)=>e?l.a.createElement("div",{key:e.id},l.a.createElement(ae,{doc:e,setDoc:this.setDoc.bind(this),i:a,admin:!0,gotoPublish:t,openToolsDialog:this.openToolsDialog.bind(this),openDuplicateDocDialog:this.openDuplicateDocDialog.bind(this),duplicateHelper:n})):null)))),l.a.createElement(ce,{open:this.state.toolsDialogOpen,closeToolsDialog:()=>this.setState({toolsDialogOpen:!1}),name:this.state.toolsDialogDoc.name,psid:this.state.toolsDialogDoc.psid,doc:this.state.toolsDialogDoc}),l.a.createElement(me,{docs:a,selectedDocID:r,closeDuplicateDocDialog:()=>this.setState({duplicateDocDialog:null})}));return this.state.loading?e:i}}var ge=pe;const Ee={cardStyle:{maxWidth:"800px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}};class be extends l.a.Component{constructor(e){super(),this.props=e,this.state={loading:!0,doc:{}},window.changeHeader("Qu\u1ea3n l\xfd d\u1eef li\u1ec7u - TongHopEvent")}componentDidMount(){this.loadData()}async loadData(){const e=P.getLocalStorage("token"),t=await k.a.get(`${M.BACKEND}/doc/${this.props.id}?token=${e}`);t.data.error?this.setState({loading:!1,doc:null}):this.setState({loading:!1,doc:t.data})}_renderDocView(){return l.a.createElement("div",{style:Ee.cardStyle},l.a.createElement(ae,{doc:this.state.doc||{}}))}_renderDocNotFound(){return l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"C\xf3 l\u1ed7i x\u1ea3y ra"),"B\xe0i \u0111\u0103ng n\xe0y kh\xf4ng t\u1ed3n t\u1ea1i ho\u1eb7c \u0111\xe3 b\u1ecb xo\xe1",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))}render(){const e=l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(v.a,null)));return this.state.loading?e:this.state.doc?this._renderDocView():this._renderDocNotFound()}}var ve=be,fe=a(62),ke=a.n(fe),we=a(170),ye=a(99);class Ce extends l.a.Component{constructor(e){super(e),this.state={publish_time:new Date(Date.now()+12e5)}}componentDidMount(){this.props.handleDateChange(this.state.publish_time.getTime()/1e3)}handleDateChange(e){this.setState({publish_time:e}),this.props.handleDateChange(e.getTime()/1e3)}render(){const{publish_time:e}=this.state;return l.a.createElement(ye.c,{utils:we.a},l.a.createElement(ye.a,{margin:"normal",id:"mui-pickers-date",label:"Date picker",value:e,onChange:this.handleDateChange.bind(this),KeyboardButtonProps:{"aria-label":"change date"}}),"\xa0\xa0\xa0\xa0\xa0",l.a.createElement(ye.b,{margin:"normal",id:"mui-pickers-time",label:"Time picker",value:e,onChange:this.handleDateChange.bind(this),KeyboardButtonProps:{"aria-label":"change time"}}))}}var xe=Ce;const De=(e,t)=>e.some((a,n)=>t-45e4<a&&a<t+45e4&&(e.splice(n,1),!0)),Se=({stat:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("b",null,"C\xe1c b\xe0i \u0111\u0103ng \u0111\xe3 l\xean l\u1ecbch")),l.a.createElement("ul",null,e.map(e=>l.a.createElement("li",{key:e},P.getTimeStr(e)," ng\xe0y ",P.getDateStr(e))))),_e=({statArr:e,value:t,onChange:a})=>{const[r,i]=Object(n.useState)(!1),o=(()=>{const e=Date.now(),t=864e5*Math.floor(e/864e5),a=[];let n=0;for(;a.length<5;){const l=t+468e5+864e5*n,r=[];for(let t=0;t<9;t++){const a=l+9e5*t;a-e>12e5&&r.push(a)}r.length>2&&a.push({startAt:l,slotsOfDay:r}),n++}return a})(),s=JSON.parse(JSON.stringify(e)),c=1e3*t;return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("b",null,"L\xean l\u1ecbch b\xe0i \u0111\u0103ng"),"   ",l.a.createElement(b.a,{variant:"outlined",size:"small",onClick:()=>i(!r)},r?"Ch\u1ecdn gi\u1edd theo slot":"Ch\u1ecdn gi\u1edd th\u1ee7 c\xf4ng")),!r&&o.map(e=>l.a.createElement("p",{key:e.startAt},P.getDateStr(e.startAt),l.a.createElement("br",null),e.slotsOfDay.map(e=>l.a.createElement(l.a.Fragment,{key:e},l.a.createElement(b.a,{variant:c===e?"contained":"outlined",size:"small",onClick:()=>a(Math.round(e/1e3)),disabled:De(s,e)},P.getTimeStr(e)),"  ")))),r&&l.a.createElement(l.a.Fragment,null,l.a.createElement(xe,{handleDateChange:e=>a(Math.round(e))}),l.a.createElement(Se,{stat:e})))},Te={cardStyle:{marginTop:"20px",marginRight:"1em",marginLeft:"1em",display:"flex",flexWrap:"wrap"}};class Ne extends l.a.Component{constructor(e){super(e),this.getErrorMessage=e=>{var t;return(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.message)?"L\xfd do: "+e.error.message:"H\xe3y b\xe1o l\u1ea1i cho Nui."},this.state={completed:!1,loading:!0,stat:[],inboxData:null},e.data&&(this.state.id=e.data.id,this.state.caption=e.data.caption,this.state.url=e.data.url,this.state.psid=e.data.psid,this.state.scheduled_publish_time=0),window.changeHeader("C\xf4ng c\u1ee5 \u0111\u0103ng b\xe0i - TongHopEvent")}componentDidMount(){this.loadStat(),this.loadInbox()}async loadStat(){const e=P.getLocalStorage("token"),t=await k.a.get(`${M.BACKEND}/publish/stat?token=${e}`);t.data.error?this.setState({loading:!1,stat:[]}):this.setState({loading:!1,stat:t.data})}async loadInbox(){const{data:e}=await P.makeRequest(`${M.BACKEND}/inbox/${this.state.psid}`);e&&Object.keys(e).length>0&&this.setState({inboxData:e})}async doPublish(){const e=P.getLocalStorage("token"),t=this.state.id,a={caption:this.state.caption,url:this.state.url,scheduled_publish_time:this.state.scheduled_publish_time},n=window.toastr.info("\u0110ang \u0111\u0103ng b\xe0i...","Publish tool",{timeOut:6e4});window.location.hash="#/manage";const{data:l}=await k.a.post(`${M.BACKEND}/publish?token=${e}`,a);window.toastr.clear(n),l.id?(window.toastr.success("\u0110\xe3 \u0111\u0103ng b\xe0i th\xe0nh c\xf4ng!","Publish tool"),window.markDocApproved&&window.markDocApproved(t)):window.toastr.error("L\u1ed7i: Kh\xf4ng th\u1ec3 \u0111\u0103ng b\xe0i. "+this.getErrorMessage(l),"Publish tool",{timeOut:2e4})}_renderComposerCard(){const e={height:"300px",maxWidth:"100%"};return l.a.createElement(u.a,null,l.a.createElement(g.a,null,l.a.createElement("p",null,l.a.createElement(b.a,{variant:"outlined",size:"small",onClick:()=>window.location.hash="#/manage"},"Tr\u1edf v\u1ec1"),"\xa0\xa0\xa0",l.a.createElement("b",null,"So\u1ea1n b\xe0i \u0111\u0103ng")),l.a.createElement("center",null,l.a.createElement(ke.a,{alt:"",src:this.state.url,style:e,loader:l.a.createElement("div",{style:e},l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(v.a,null)))})),l.a.createElement(E.a,{label:"N\u1ed9i dung b\xe0i \u0111\u0103ng",multiline:!0,rowsMax:"20",value:this.state.caption,onChange:e=>{this.setState({caption:e.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})))}_renderPublishCard(){const{scheduled_publish_time:e,stat:t}=this.state,a=e-Date.now()/1e3>900,n=1e3*e;return l.a.createElement(u.a,null,l.a.createElement(g.a,null,l.a.createElement(_e,{value:e,statArr:t,onChange:e=>this.setState({scheduled_publish_time:e})}),l.a.createElement("br",null),l.a.createElement("br",null),a&&l.a.createElement(b.a,{variant:"outlined",onClick:()=>{window.showAlert({title:"X\xe1c nh\u1eadn \u0111\u0103ng b\xe0i",text:`\u0110\u0103ng b\xe0i v\xe0o l\xfac ${P.getTimeStr(n)} ng\xe0y ${P.getDateStr(n)} ?`,onClickOK:this.doPublish.bind(this),showCancel:!0})}},"\u0110\u0103ng b\xe0i"),!a&&e>0&&l.a.createElement("p",{style:{color:"red"}},"Gi\u1edd \u0111\u0103ng b\xe0i ph\u1ea3i c\xe1ch hi\u1ec7n t\u1ea1i \xedt nh\u1ea5t 15 ph\xfat")))}_renderCompletedCard(){const{scheduled_publish_time:e}=this.state,t=1e3*e;return l.a.createElement("div",{style:Te.cardStyle},l.a.createElement(u.a,null,l.a.createElement(g.a,null,l.a.createElement("h2",null,"\u0110\u0103ng b\xe0i th\xe0nh c\xf4ng"),l.a.createElement("p",null,"B\xe0i vi\u1ebft \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1eb7t gi\u1edd \u0111\u1ec3 \u0111\u0103ng v\xe0o l\xfac ",P.getTimeStr(t)," ng\xe0y ",P.getDateStr(t)),l.a.createElement(b.a,{variant:"outlined",onClick:()=>window.location.hash="#/"},"Tr\u1edf v\u1ec1 trang ch\u1ee7"))),l.a.createElement("br",null),l.a.createElement("br",null))}_renderInboxCard(){const{inboxData:e}=this.state;return l.a.createElement(u.a,null,l.a.createElement(g.a,null,!e&&l.a.createElement("center",null,l.a.createElement(v.a,null)),e&&l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Tin nh\u1eafn m\u1edbi nh\u1ea5t (\u1edf tr\xean l\xe0 m\u1edbi, d\u01b0\u1edbi l\xe0 c\u0169)"),"   ",l.a.createElement(b.a,{variant:"outlined",size:"small",onClick:()=>P.goToInbox(e)},"M\u1edf inbox"),l.a.createElement("br",null),"------",l.a.createElement("br",null),e.messages.data.map(e=>l.a.createElement("p",{key:e.id},l.a.createElement("b",null,e.from.name),": ",e.message)))))}_renderMain(){return l.a.createElement("div",{style:{margin:"20px"}},l.a.createElement(ue.a,{columnsCountBreakPoints:{350:1,750:2,900:2}},l.a.createElement(ue.b,{gutter:"10px"},this._renderComposerCard(),l.a.createElement("div",null)," ",this._renderPublishCard(),this._renderInboxCard())),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))}_renderError(){return l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"C\xf3 l\u1ed7i x\u1ea3y ra"),"H\xe3y v\xe0o trang ch\u1ee7 v\xe0 th\u1eed l\u1ea1i",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))}render(){const e=l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(v.a,null)));return this.state.loading?e:this.state.completed?this._renderCompletedCard():this.props.data?this._renderMain():this._renderError()}}var Ie=Ne;const Oe={maxHeight:"300px",maxWidth:"100%"},Be={height:"300px",width:"100%"},Ae={cardStyle:{maxWidth:"800px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}};class Pe extends l.a.Component{constructor(e){super(e),this.state={showGetToken:!1,access_token:"",completed:!1,loading:!0,imgs:[]},e.data?(this.state.caption=e.data.caption,this.state.fbusername=e.data.fbusername):this.state.error="H\xe3y v\u1ec1 trang ch\u1ee7 v\xe0 th\u1eed l\u1ea1i",window.changeHeader("Ch\u1ecdn \u1ea3nh b\xe0i \u0111\u0103ng - TongHopEvent")}componentDidMount(){this.fetchFacebookApi()}async fetchFacebookApi(){const e=P.getLocalStorage("fbtoken");try{const t=await k.a.get(`https://graph.facebook.com/${this.state.fbusername}?fields=feed.limit(20)%7Bfull_picture%7D%2Cpicture.width(720)%7Burl%7D&access_token=${e}`);if(t.data.error)this.setState({loading:!1,showGetToken:!0});else{const e=t.data.feed.data.map(e=>e.full_picture);e.unshift(t.data.picture.data.url),this.setState({loading:!1,showGetToken:!1,imgs:e})}}catch(t){404===t.response.status?this.setState({loading:!1,error:"Kh\xf4ng th\u1ec3 m\u1edf trang facebook n\xe0y"}):this.setState({loading:!1,showGetToken:!0})}}onSaveToken(){let e=this.state.access_token;e=e.match(/EA[a-zA-Z0-9]+/);try{P.setLocalStorage("fbtoken",e[0]);const t=window.location.hash;window.location.hash="#/reload",setTimeout(()=>{window.location.hash=t},50)}catch(t){window.alert("token kh\xf4ng h\u1ee3p l\u1ec7")}}_renderTitleCard(){return l.a.createElement(u.a,null,l.a.createElement(g.a,null,l.a.createElement("p",null,l.a.createElement(b.a,{variant:"outlined",size:"small",onClick:()=>window.location.hash="#/"},"Tr\u1edf v\u1ec1"),"\xa0\xa0\xa0",l.a.createElement("b",null,"Ch\u1ecdn \u1ea3nh cho b\xe0i \u0111\u0103ng"))))}_renderImageCard(e){return l.a.createElement(u.a,null,l.a.createElement(g.a,null,l.a.createElement("center",null,l.a.createElement(ke.a,{alt:"",src:e,style:Oe,loader:l.a.createElement("div",{style:Be},l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(v.a,null)))})),l.a.createElement(b.a,{variant:"outlined",size:"small",style:{float:"right",margin:"10px"},onClick:()=>{const t=JSON.parse(JSON.stringify(this.props.data));t.url=e,this.props.gotoPublish(t,"publish")}},"Ch\u1ecdn \u1ea3nh n\xe0y")))}_renderGetTokenCard(){return l.a.createElement(u.a,null,l.a.createElement(g.a,null,l.a.createElement("p",null,l.a.createElement(b.a,{variant:"outlined",size:"small",onClick:()=>window.location.hash="#/"},"Tr\u1edf v\u1ec1"),"\xa0\xa0\xa0",l.a.createElement("b",null,"L\u1ea5y token"),l.a.createElement("br",null),l.a.createElement("br",null),"B\u1ea1n ch\u01b0a c\xf3 token ho\u1eb7c token \u0111\xe3 b\u1ecb h\u1ebft h\u1ea1n. H\xe3y l\xe0m theo h\u01b0\u1edbng d\u1eabn n\xe0y \u0111\u1ec3 l\u1ea5y token: ",l.a.createElement("a",{href:"https://blog.ngxson.com/tonghopevent/#lay-token",target:"_blank",rel:"noopener noreferrer"},"[B\u1ea5m v\xe0o \u0111\xe2y]"),l.a.createElement("br",null),"L\u01b0u \xfd: token s\u1ebd \u0111c l\u01b0u tr\xean m\xe1y n\xe0y. B\u1ea1n c\xf3 th\u1ec3 l\u1ea5y token t\u1eeb m\xe1y t\xednh \u0111\u1ec3 d\xf9ng tr\xean \u0110T.",l.a.createElement("br",null),"\u0110i\u1ec1n token c\u1ee7a b\u1ea1n v\xe0o \xf4 d\u01b0\u1edbi \u0111\xe2y:",l.a.createElement("br",null)),l.a.createElement(E.a,{multiline:!0,rowsMax:"5",value:this.state.access_token,onChange:e=>{this.setState({access_token:e.target.value})},margin:"normal",variant:"outlined",fullWidth:!0}),l.a.createElement("br",null),l.a.createElement(b.a,{variant:"outlined",onClick:this.onSaveToken.bind(this)},"Ti\u1ebfp t\u1ee5c")))}_renderMain(){return l.a.createElement(l.a.Fragment,null,this.state.showGetToken&&l.a.createElement("div",{style:Ae.cardStyle},this._renderGetTokenCard()),!this.state.showGetToken&&l.a.createElement("div",{style:Ae.cardStyle},this._renderTitleCard()),!this.state.showGetToken&&this.state.imgs.map((e,t)=>l.a.createElement("div",{style:Ae.cardStyle,key:t},this._renderImageCard(e))),l.a.createElement("br",null),l.a.createElement("br",null))}_renderError(){return l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"C\xf3 l\u1ed7i x\u1ea3y ra"),this.state.error,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(b.a,{variant:"outlined",size:"small",onClick:()=>window.location.hash="#/"},"Tr\u1edf v\u1ec1"),l.a.createElement("br",null),l.a.createElement("br",null))}render(){const e=l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(v.a,null)));return this.state.loading?e:this.state.error?this._renderError():this._renderMain()}}var $e=Pe,Le=(a(5455),a(5456),a(40)),Me=a(64),Fe=a(169),He=a.n(Fe);class Re extends l.a.Component{constructor(e){super(e),this.handleClickOK=()=>{this.state.onClickOK&&(this.state.onClickOK(),this.setState({onClickOK:null})),this.setState({open:!1})},this.handleCancel=()=>{this.setState({open:!1})},this.state={open:!1,onClickOK:null},window.showAlert=this.show.bind(this)}show(e){this.setState({open:!0,title:e.title,text:e.text,onClickOK:e.onClickOK||null,showCancel:e.showCancel})}render(){return l.a.createElement("div",null,l.a.createElement(Y.a,{open:this.state.open,onClose:this.handleCancel,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(X.a,{id:"alert-dialog-title"},this.state.title),l.a.createElement(J.a,null,l.a.createElement(q.a,{id:"alert-dialog-description"},this.state.text)),l.a.createElement(Q.a,null,l.a.createElement(b.a,{onClick:this.handleClickOK.bind(this),color:"primary",autoFocus:!0},"OK"),this.state.showCancel?l.a.createElement(b.a,{onClick:this.handleCancel.bind(this),color:"primary",autoFocus:!0},"Cancel"):null)))}}var Ke=Re;class Ue extends l.a.Component{constructor(e){super(e),this.onEditPost=async()=>{const{message:e}=this.state,{post:t,onClose:a}=this.props;this.setState({loading:!0});const n=P.getLocalStorage("token");await k.a.patch(`${this.props.editPostEndpoint}/${t.id}?token=${n}`,{message:e}),a(!0)},console.log(e.post),this.state={title:e.post.message.split("\n")[0]||"",message:e.post.message,loading:!1}}render(){const{title:e,message:t,loading:a}=this.state,{post:n,onClose:r}=this.props;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y.a,{fullWidth:!0,open:!0,onClose:()=>r(!1),"aria-labelledby":"form-dialog-title"},a?l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(v.a,null),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null,l.a.createElement(X.a,{id:"form-dialog-title"},"S\u1eeda b\xe0i vi\u1ebft"),l.a.createElement(J.a,null,l.a.createElement(q.a,null,"B\xe0i vi\u1ebft: ",e,l.a.createElement("br",null),"\u0110\u0103ng l\xfac: ",P.getTimeStr(n.time)," ng\xe0y ",P.getDateStr(n.time)),l.a.createElement(E.a,{multiline:!0,rowsMax:"20",value:t,onChange:e=>{this.setState({message:e.target.value})},margin:"normal",variant:"outlined",fullWidth:!0})),l.a.createElement(Q.a,null,l.a.createElement(b.a,{onClick:()=>r(!1),color:"primary"},"Quay l\u1ea1i"),l.a.createElement(b.a,{onClick:this.onEditPost,color:"primary"},"L\u01afU POST")))))}}var Ge=Ue;const We={cardStyle:{maxWidth:"800px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}},Ve={height:"300px",maxWidth:"100%"},je=()=>l.a.createElement("div",{style:Ve},l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(v.a,null)));class ze extends l.a.Component{constructor(e){super(),this.processTimeField=e=>"created_time"===this.props.timeFieldName?e.map(e=>({...e,created_time:new Date(e.created_time).getTime()/1e3})):e,this.deletePost=e=>async()=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn x\xf3a?")){this.setState({loading:!0});const t=P.getLocalStorage("token");await k.a.delete(`${this.props.deletePostEndpoint}/${e.id}?token=${t}`),this.loadData()}},this.openOnFB=e=>()=>{window.open("https://www.facebook.com/"+e.id,"_blank").focus()},this.onEditDialogClose=e=>{e?this.loadData():this.setState({editingPost:null})},this.props=e,this.state={loading:!0,posts:[],editingPost:null},window.changeHeader("B\xe0i \u0111\xe3 l\xean l\u1ecbch - TongHopEvent")}componentDidMount(){this.loadData()}async loadData(){const{newestFirst:e}=this.props;this.setState({loading:!0,editingPost:null});const t=P.getLocalStorage("token"),a=await k.a.get(`${this.props.loadFeedEndpoint}?token=${t}`);if(a.data.error)this.setState({loading:!1,posts:[]});else{const t=e?a.data:a.data.reverse();this.setState({loading:!1,posts:this.processTimeField(t)})}}_renderMainView(){const{timeFieldName:e}=this.props;return this.state.posts.map((t,a)=>{const n=t.from&&t.from.id!==M.SELF_PAGE_ID;return l.a.createElement("div",{style:We.cardStyle,key:t.id},l.a.createElement(u.a,null,l.a.createElement(g.a,null,l.a.createElement("p",null,l.a.createElement("b",null,P.getTimeStr(1e3*t[e])," ng\xe0y ",P.getDateStr(1e3*t[e]))),l.a.createElement(ke.a,{alt:"",src:t.full_picture,style:Ve,loader:l.a.createElement(je,null)}),n&&l.a.createElement("p",{style:{backgroundColor:"#eee",padding:"10px",fontWeight:"bold"},children:"(B\xe0i vi\u1ebft n\xe0y do \u0111\u1ed9c gi\u1ea3 \u0111\u0103ng l\xean page)"}),l.a.createElement("p",null,P.nl2br(t.expanded?t.message:t.message.substring(0,250)),l.a.createElement("br",null),l.a.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),this.setState({posts:this.state.posts.map((e,t)=>{const n=JSON.parse(JSON.stringify(e));return a===t&&(n.expanded=!n.expanded),n})})}},t.expanded?"Thu g\u1ecdn":"... \u0110\u1ecdc th\xeam"),l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement(b.a,{color:"primary",variant:"outlined",onClick:this.deletePost(t)},"X\xf3a"),"\xa0\xa0",l.a.createElement(b.a,{color:"primary",variant:"outlined",onClick:()=>this.setState({editingPost:t}),disabled:n},"S\u1eeda"),"\xa0\xa0",l.a.createElement(b.a,{color:"primary",variant:"outlined",onClick:this.openOnFB(t)},"Xem tr\xean FB")))))})}_renderDocNotFound(){return l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),"(Kh\xf4ng c\xf3 d\u1eef li\u1ec7u)",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))}render(){const{editingPost:e,loading:t,posts:a}=this.state,n=l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(v.a,null)));return l.a.createElement(l.a.Fragment,null,e&&l.a.createElement(Ge,{post:e,onClose:this.onEditDialogClose,editPostEndpoint:this.props.editPostEndpoint}),t?n:a.length>0?this._renderMainView():this._renderDocNotFound())}}var Xe=ze;var Ye=()=>l.a.createElement(Xe,{loadFeedEndpoint:M.BACKEND+"/publish/scheduled",editPostEndpoint:M.BACKEND+"/publish/post",deletePostEndpoint:M.BACKEND+"/publish/post",timeFieldName:"scheduled_publish_time",newestFirst:!1});var Qe=()=>l.a.createElement(Xe,{loadFeedEndpoint:M.BACKEND+"/fbfeed",editPostEndpoint:M.BACKEND+"/fbfeed",deletePostEndpoint:M.BACKEND+"/fbfeed",timeFieldName:"created_time",newestFirst:!0}),Je=a(5533),qe=a(5539);const Ze={cardStyle:{maxWidth:"800px",marginTop:"20px",marginRight:"auto",marginLeft:"auto"}};class et extends l.a.Component{constructor(...e){super(...e),this.state={...P.settings},this.saveSettings=()=>{P.setSettings({...this.state}),window.toastr.success("\u0110\xe3 l\u01b0u c\xe0i \u0111\u1eb7t")}}render(){const{markReadOnOpenInbox:e}=this.state;return l.a.createElement("div",{style:Ze.cardStyle},l.a.createElement(u.a,null,l.a.createElement(g.a,null,l.a.createElement("p",null,l.a.createElement("h2",null,"C\xe0i \u0111\u1eb7t"),l.a.createElement("br",null),"L\u01b0u \xfd: C\xe1c c\xe0i \u0111\u1eb7t sau s\u1ebd \u0111\u01b0\u1ee3c l\u01b0u tr\xean tr\xecnh duy\u1ec7t n\xe0y. N\u1ebfu b\u1ea1n \u0111\u1ed5i thi\u1ebft b\u1ecb kh\xe1c, b\u1ea1n c\u1ea7n ch\u1ec9nh l\u1ea1i cho thi\u1ebft b\u1ecb \u0111\xf3."),l.a.createElement(Je.a,{control:l.a.createElement(qe.a,{checked:e,onChange:()=>this.setState({markReadOnOpenInbox:!e}),color:"primary"}),label:'\u0110\xe1nh d\u1ea5u "\u0111\xe3 \u0111\u1ecdc" khi b\u1ea5m v\xe0o \u0111\u1ecdc inbox'}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(b.a,{variant:"outlined",onClick:this.saveSettings},"L\u01b0u c\xe0i \u0111\u1eb7t"))))}}var tt=et,at=a(11),nt=a(172);class lt{static getSocket(){return M.SOCKETIO?(lt.socket||(lt.socket=Object(nt.a)(M.SOCKETIO,{transports:["websocket"],query:`module=${M.SOCKETIO_MODULE}&token=${P.getToken()}`}),lt.socket.on("connect",()=>console.log("connected"))),lt.socket):null}static subscribeInbox(e){const t=lt.getSocket();t&&t.on("inbox",e)}static unsubscribeInbox(e){const t=lt.getSocket();t&&t.offAny(e)}}lt.socket=null;const rt=(e,t,a={},n={})=>new Promise(l=>{M.PROD||console.log(e,t,a,n);const r=lt.getSocket(),i=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),o=e=>{r.offAny(o),l(e)};r.on(i,o),r.emit(`${e.toLowerCase()} ${t.replace(/\/$/,"")}`,{requestId:i,query:a,body:n})});var it=lt;const ot=l.a.createContext();class st extends l.a.Component{constructor(...e){super(...e),this.state={unreadMark:{}},this.fetchUnread=async()=>{const e=await rt("get","/unread"),t={};for(const{id:a}of e)t[a]=!0;this.setState({unreadMark:t})},this.markUnread=e=>{it.getSocket().emit("mark_unread",e);const t={...this.state.unreadMark};t[e]=!0,this.setState({unreadMark:t})},this.markRead=e=>{it.getSocket().emit("mark_read",e);const t={...this.state.unreadMark};delete t[e],this.setState({unreadMark:t})}}componentDidMount(){M.INBOX_UNREAD_ABILITY&&this.fetchUnread()}render(){return l.a.createElement(ot.Provider,{value:{unreadMark:this.state.unreadMark,markUnread:this.markUnread,markRead:this.markRead}},this.props.children)}}function ct(e){return function(t){return l.a.createElement(ot.Consumer,null,a=>l.a.createElement(e,Object.assign({},t,a)))}}class dt extends l.a.Component{constructor(...e){super(...e),this.state={ready:!1,loading:!1,conversations:[],next:null},this.openConversation=(e,t)=>()=>{const a=I(t.toLowerCase()).replace(/[^a-z0-9]+/g,"-");window.location.hash=`#/msg/${e}/${a}`},this.inboxUpdateHandler=async e=>{const{data:t}=await rt("get","/conversations",{limit:5});this.setState(e=>({conversations:T(e.conversations,t)}))},this.onYReachEnd=()=>{this.state.next&&!this.state.loading&&this.loadMoreConversations()}}componentDidMount(){this.loadMoreConversations(),it.subscribeInbox(this.inboxUpdateHandler)}componentWillUnmount(){it.unsubscribeInbox(this.inboxUpdateHandler)}async loadMoreConversations(){if(!this.state.loading){var e;this.setState({loading:!0});const t={};this.state.next&&(t.after=this.state.next);let{data:a,paging:n}=await rt("get","/conversations",t);M.PROD&&(a=a.filter(e=>e.id!==M.INBOX_IGNORED_CONVERSATION)),a&&this.setState({conversations:[...this.state.conversations,...a],loading:!1,ready:!0,next:(null===n||void 0===n?void 0:n.next)?null===n||void 0===n||null===(e=n.cursors)||void 0===e?void 0:e.after:null})}}render(){const{unreadMark:e}=this.props;return l.a.createElement(at.g,{loading:!this.state.ready,loadingMore:this.state.ready&&this.state.loading,onYReachEnd:this.onYReachEnd},this.state.conversations.map(t=>{const a=t.senders.data[0].name,n=N(t);return l.a.createElement(at.e,{key:t.id,name:`${a} (${t.message_count})`,info:t.snippet,onClick:this.openConversation(t.id,a),active:this.props.tid===t.id,unreadDot:!!e[n]})}))}}var mt=ct(dt),ht=a(5537),ut=a(167),pt=(a(5463),a(12)),gt=a(166),Et=a(165);const bt=ct(({psid:e,unreadMark:t,markRead:a,markUnread:n})=>l.a.createElement(at.c,{className:"cs-button cs-button--info",style:{marginRight:"20px"},icon:l.a.createElement(pt.a,{icon:t[e]?Et.faEnvelopeOpenText:gt.faEnvelope}),onClick:()=>{t[e]?a(e):n(e)}}));var vt=({loading:e,profile:t,openConversationOnFB:a,openMainMenu:n,psid:r})=>e?l.a.createElement(at.f,null,l.a.createElement(at.f.Back,{onClick:n}),l.a.createElement(at.f.Content,{userName:"Loading..."})):l.a.createElement(at.f,null,l.a.createElement(at.f.Back,{onClick:n}),l.a.createElement(at.b,{src:t.profile_pic,name:t.name,onClick:a}),l.a.createElement(at.f.Content,{userName:t.name}),l.a.createElement(at.f.Actions,null,M.INBOX_UNREAD_ABILITY&&l.a.createElement(bt,{as:"InfoButton",psid:r}),l.a.createElement(at.h,{onClick:a}))),ft=a(2),kt=a.n(ft),wt=a(5),yt=a.n(wt),Ct=a(173);const xt=()=>{};const Dt=function(){class e extends n.Component{render(){const{props:{fancyScroll:e,children:t,forwardedRef:a,...n}}=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",Object.assign({ref:a},n),t))}}return l.a.forwardRef((t,a)=>l.a.createElement(e,Object.assign({forwardedRef:a},t)))}(),St=(e,t)=>{const a="undefined"!==typeof e?e:t,[l,r]=Object(n.useState)(a);return["undefined"!==typeof e?e:l,e=>{r(e)}]};function _t({value:e,onSend:t,onChange:a,autoFocus:r,placeholder:i,fancyScroll:o,className:s,activateAfterChange:c,disabled:d,sendDisabled:m,sendOnReturnDisabled:h,attachDisabled:u,sendButton:p,attachButton:g,onAttachClick:E,...b},v){const f=Object(n.useRef)(),k=Object(n.useRef)(),[w,y]=St(e,""),[C,x]=St(m,!0),D=()=>{"undefined"!==typeof k.current&&k.current.focus()};Object(n.useImperativeHandle)(v,()=>({focus:D})),Object(n.useEffect)(()=>{!0===r&&D()},[r]),Object(n.useEffect)(()=>{"function"===typeof f.current.updateScroll&&f.current.updateScroll()});const S=()=>{w.length>0&&t()},_="cs-message-input",T="string"===typeof i?i:"";return l.a.createElement("div",Object.assign({},b,{className:yt()(_,{[_+"--disabled"]:d},s)}),!0===g&&l.a.createElement("div",{className:_+"__tools"},l.a.createElement(at.a,{onClick:E,disabled:!0===d||!0===u})),l.a.createElement("div",{className:_+"__content-editor-wrapper"},l.a.createElement(Dt,{fancyScroll:o,ref:f,className:_+"__content-editor-container"},l.a.createElement(Ct.a,{ref:k,className:_+"__content-editor",disabled:d,placeholder:T,onKeyPress:e=>{"Enter"===e.key&&!1===e.shiftKey&&!1===h&&(e.preventDefault(),S())},onChange:e=>{y(e.target.value),a(e.target.value)},value:w,maxRows:5,minRows:1}))),!0===p&&l.a.createElement("div",{className:_+"__tools"},l.a.createElement(at.l,{onClick:S,disabled:!0===d||!0===C})))}const Tt=Object(n.forwardRef)(_t);Tt.displayName="MessageInput",Tt.propTypes={value:kt.a.string,placeholder:kt.a.string,disabled:kt.a.bool,sendOnReturnDisabled:kt.a.bool,sendDisabled:kt.a.bool,fancyScroll:kt.a.bool,activateAfterChange:kt.a.bool,autoFocus:kt.a.bool,onChange:kt.a.func,onSend:kt.a.func,className:kt.a.string,sendButton:kt.a.bool,attachButton:kt.a.bool,attachDisabled:kt.a.bool,onAttachClick:kt.a.func},Tt.defaultProps={value:void 0,placeholder:"",disabled:!1,sendOnReturnDisabled:!1,fancyScroll:!0,activateAfterChange:!1,autoFocus:!1,sendButton:!0,attachButton:!0,attachDisabled:!1,onAttachClick:xt,onChange:xt,onSend:xt},_t.defaultProps=Tt.defaultProps;var Nt=Tt;ht.a.addLocale(ut);const It=new ht.a("en-US");class Ot extends l.a.Component{constructor(...e){super(...e),this.state={loading:!0,loadingMore:!1,psid:null,profile:{},threadInfo:{},messages:[],messageAfter:null,messagePending:null,messagePendingId:null,input:""},this.originalTitle=document.title,this.inboxUpdateHandler=async e=>{var t;const{psid:a,messagePendingId:n}=this.state,l=this.props.tid;if(N(e)===a){const{data:e}=await rt("get","/thread/messages",{tid:l,limit:5});this.setState(t=>({messages:_(t.messages,e)}))}(null===(t=e.message)||void 0===t?void 0:t.mid)===n&&this.setState({messagePending:null,messagePendingId:null})},this.onYReachStart=async()=>{const{messageAfter:e,loadingMore:t}=this.state;if(e&&!t){this.setState({loadingMore:!0});const t=await rt("get","/thread/messages",{tid:this.props.tid,after:e});this.setState(e=>{var a,n,l;return{messages:t.data.reverse().concat(e.messages),messageAfter:(null===(a=t.paging)||void 0===a?void 0:a.next)?null===(n=t.paging)||void 0===n||null===(l=n.cursors)||void 0===l?void 0:l.after:null,loadingMore:!1}})}},this.openConversationOnFB=()=>{window.open("https://fb.com"+this.state.threadInfo.link,"_blank")},this.openInNewTab=e=>()=>{window.open(e,"_blank")},this.openMainMenu=()=>{const{goBackTo:e}=this.props;window.location.hash=e||"#/msg"},this.handleSendMessage=async()=>{const{psid:e,input:t}=this.state,{markRead:a}=this.props,n=t.trim();this.setState({messagePending:n,input:""});try{const{message_id:t}=await A("post","/inbox/messages",{},{messaging_type:"MESSAGE_TAG",tag:"HUMAN_AGENT",recipient:{id:e},message:{text:n}});a(e),this.setState({messagePendingId:t})}catch(l){this.setState({messagePending:null,input:n}),window.alert(JSON.stringify(l.response.data))}}}componentDidMount(){this.fetchConversation(this.props.tid),it.subscribeInbox(this.inboxUpdateHandler),window.setMessageInput=e=>this.setState({input:e})}componentDidUpdate(e,t){e.tid!==this.props.tid&&this.fetchConversation(this.props.tid),this.state.psid&&this.state.psid!==t.psid&&M.INBOX_MARK_READ_ON_OPEN&&this.props.markRead(this.state.psid)}componentWillUnmount(){document.title=this.originalTitle,it.unsubscribeInbox(this.inboxUpdateHandler)}async fetchConversation(e){var t,a,n;document.title=M.INBOX_TITLE,this.setState({loading:!0});const[l,r]=await Promise.all([rt("get","/thread/info",{tid:e}),rt("get","/thread/messages",{tid:e})]);r.data=r.data.reverse();const i=l.senders.data[0].id,o=await rt("get","/profile",{psid:i});this.setState({threadInfo:l,psid:i,profile:o,messages:r.data,messageAfter:(null===(t=r.paging)||void 0===t?void 0:t.next)?null===(a=r.paging)||void 0===a||null===(n=a.cursors)||void 0===n?void 0:n.after:null,loading:!1}),document.title=`${o.name} - ${M.INBOX_TITLE}`}_renderMessages(){const{loading:e,messages:t,messagePending:a,loadingMore:n}=this.state;if(e)return l.a.createElement(at.k,{loading:!0});let r="";const i=e=>{const t=S(e);return r!==t?(r=t,l.a.createElement(at.j.Footer,{sender:It.format(new Date(e.created_time))})):null},o=(e,t)=>t.map((t,a)=>l.a.createElement(at.j,{key:e.id+a,type:"image",model:{direction:S(e),type:"custom"}},i(e),l.a.createElement(at.j.CustomContent,null,l.a.createElement("img",{src:t.preview_url,alt:"",onClick:this.openInNewTab(t.url),style:{width:"200px"}}))));return l.a.createElement(at.k,{loadingMore:n,onYReachStart:this.onYReachStart},t.map(e=>{const t=(e=>{var t;return((null===(t=e.attachments)||void 0===t?void 0:t.data)||[]).filter(e=>!!e.image_data).map(e=>e.image_data)})(e);return t.length>0?l.a.createElement(l.a.Fragment,null,o(e,t)):(e=>l.a.createElement(at.j,{key:e.id,model:{message:e.message,sentTime:It.format(new Date(e.created_time)),sender:e.from.name,direction:S(e),position:"single"}},i(e)))(e)}),a&&l.a.createElement(at.j,{model:{message:a,sender:M.INBOX_TITLE,direction:"outgoing",position:"single"},className:"pending"}),!M.INBOX_SEND_ABILITY&&l.a.createElement(at.j,{style:{marginBottom:"2em",opacity:"0"}}))}_renderInput(){const{input:e,messagePending:t}=this.state;return l.a.createElement(Nt,{as:"MessageInput",value:e,onChange:e=>this.setState({input:e}),onSend:this.handleSendMessage,disabled:!!t,sendDisabled:!!t&&e.length>0,sendOnReturnDisabled:!0,onAttachClick:window.openTemplateDialog,placeholder:"Type here..."})}render(){const{loading:e,profile:t,psid:a}=this.state;return l.a.createElement(at.d,null,l.a.createElement(vt,{as:"ConversationHeader",loading:e,profile:t,psid:a,openConversationOnFB:this.openConversationOnFB,openMainMenu:this.openMainMenu}),this._renderMessages(),M.INBOX_SEND_ABILITY&&this._renderInput())}}var Bt=ct(Ot);a(5464);class At extends l.a.Component{constructor(...e){super(...e),this.state={tid:null,viewHeight:"100vh"},this.updateHeight=()=>{window.NUI_VIEW_HEIGHT&&this.state.viewHeight!==window.NUI_VIEW_HEIGHT&&this.setState({viewHeight:window.NUI_VIEW_HEIGHT})},this.MessageView=()=>{const{tid:e,viewHeight:t}=this.state,{goBackTo:a}=this.props;return l.a.createElement("div",{style:{position:"relative",height:t},className:e?"chat":"home"},l.a.createElement(at.i,null,l.a.createElement(at.m,{position:"left",scrollable:!0},l.a.createElement(mt,{tid:e})),e?l.a.createElement(Bt,{tid:e,goBackTo:a}):l.a.createElement(at.d,null)),l.a.createElement(M.CustomMessengerWidget,null))},this.MessageTidChanged=({match:e})=>(e.params.tid!==this.state.tid&&this.setState({tid:e.params.tid}),null),this.MessageTidReset=()=>(null!==this.state.tid&&this.setState({tid:null}),null)}componentDidMount(){this.intervalId=setInterval(this.updateHeight,1e3)}componentWillUnmount(){clearInterval(this.intervalId)}render(){return l.a.createElement(Me.a,null,l.a.createElement(st,null,l.a.createElement(Le.a,{path:"/msg",component:this.MessageView}),l.a.createElement(Le.a,{exact:!0,path:"/msg",component:this.MessageTidReset}),l.a.createElement(Le.a,{exact:!0,path:"/msg/:tid/:name",component:this.MessageTidChanged})))}}var Pt=Object(Le.f)(At),$t=a(61),Lt=a(5472);const Mt=Object(Lt.a)(e=>({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - 240px) !important",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0,[e.breakpoints.up("sm")]:{width:e.spacing(9)+1}},toolbar:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),...e.mixins.toolbar},content:{flexGrow:1}}));var Ft=a(5540),Ht=a(5535),Rt=a(5531),Kt=a(5534),Ut=a(5532),Gt=a(83),Wt=a.n(Gt),Vt=a(85),jt=a.n(Vt),zt=a(84),Xt=a.n(zt),Yt=a(5536),Qt=a(43);const Jt=[{list:[{title:"Inbox",href:"#/msg",icon:l.a.createElement(Qt.d,null)},{title:"Qu\u1ea3n l\xfd",href:"#/manage",icon:l.a.createElement(Qt.g,null)},{title:"B\xe0i \u0111\xe3 l\xean l\u1ecbch",href:"#/scheduled",icon:l.a.createElement(Qt.b,null)},{title:"B\xe0i \u0111\xe3 \u0111\u0103ng",href:"#/fbfeed",icon:l.a.createElement(Qt.f,null)}]},{separator:!0},{list:[{title:"H\u01b0\u1edbng d\u1eabn",href:"https://blog.ngxson.com/tonghopevent/",icon:l.a.createElement(Qt.e,null)},{title:"\u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng",href:"https://sites.google.com/view/tonghopevent/",icon:l.a.createElement(Qt.a,null)}]},{separator:!0},{list:[{title:"T\xf9y ch\u1ec9nh",href:"#/settings",icon:l.a.createElement(Qt.h,null)},{title:"\u0110\u0103ng xu\u1ea5t",href:"#/logout",icon:l.a.createElement(Qt.c,null)}]},{list:[{title:"T\u1ed5ng h\u1ee3p c\xe1c d\u1ef1 \xe1n v\xe0 cu\u1ed9c thi",href:"#/",icon:null},{title:"\u0110\u0103ng b\xe0i (L\u1ea5y \u1ea3nh)",href:"#/getimage",icon:null},{title:"\u0110\u0103ng b\xe0i",href:"#/publish",icon:null},{title:"Xem b\xe0i vi\u1ebft",href:"#/view",icon:null}],hidden:!0}];var qt=Object(Le.f)((function({children:e,location:{pathname:t}}){const a=Mt(),n=Object($t.a)(),[r,i]=l.a.useState(!1),o=(e=>{for(const{list:t}of Jt)if(t)for(const a of t)if(e.startsWith(a.href))return a;return null})("#"+t),s=t.match(/\/(view\/|login)/),c=e=>()=>{const{href:t}=e;t.startsWith("http")?window.open(t,"_blank").focus():window.location.href=t};return l.a.createElement("div",{className:a.root},l.a.createElement(Kt.a,null),l.a.createElement(Ht.a,{position:"fixed",style:{zIndex:r?80:100},className:`${a.appBar} ${r?a.appBarShift:""}`},l.a.createElement(Rt.a,null,!s&&l.a.createElement(Ut.a,{color:"inherit","aria-label":"open drawer",onClick:()=>{i(!0)},edge:"start",className:`${a.menuButton} ${r?a.hide:""}`},l.a.createElement(Wt.a,null)),l.a.createElement(p.a,{variant:"h6",noWrap:!0},o.title))),l.a.createElement(Ft.a,{style:{zIndex:90},variant:s?"temporary":"permanent",className:`${a.drawer} ${r?a.drawerOpen:a.drawerClose}`,classes:{paper:r?a.drawerOpen:a.drawerClose}},l.a.createElement("div",{className:a.toolbar},l.a.createElement(Ut.a,{onClick:()=>{i(!1)}},"rtl"===n.direction?l.a.createElement(Xt.a,null):l.a.createElement(jt.a,null))),l.a.createElement(G.a,null),Jt.map((e,t)=>e.list&&!e.hidden?l.a.createElement(ne.a,{key:t},e.list.map((e,t)=>l.a.createElement(le.a,{button:!0,selected:o.href===e.href,onClick:c(e),key:t},l.a.createElement(Yt.a,null,e.icon),l.a.createElement(re.a,{primary:e.title})))):e.separator?l.a.createElement(G.a,{key:t}):null)),l.a.createElement("main",{className:a.content},l.a.createElement("div",{className:a.toolbar}),e))}));var Zt=()=>{const e=Object(n.useRef)(null);return Object(n.useEffect)(()=>{e&&e.current&&setInterval(()=>{var t;(t=e.current)&&(window.NUI_VIEW_HEIGHT=t.clientHeight-64,window.NUI_VIEW_WIDTH=t.clientWidth)},1e3)},[e]),l.a.createElement("div",{ref:e,style:{position:"fixed",top:0,left:0,height:"100%",width:"100%",pointerEvents:"none",zIndex:1e3}})};class ea extends l.a.Component{constructor(){super(),this.Home=()=>l.a.createElement(ge,{gotoPublish:this.gotoPublish.bind(this)}),this.View=({match:e})=>l.a.createElement(ve,{id:e.params.id}),this.Publish=()=>l.a.createElement(Ie,{data:this.state.publishData}),this.GetImage=()=>l.a.createElement($e,{data:this.state.publishData,gotoPublish:this.gotoPublish.bind(this)}),this.Copyright=()=>l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),"Developed by\xa0",l.a.createElement("b",null,l.a.createElement("a",{href:"https://ngxson.com",target:"_blank",rel:"noopener noreferrer"},"Nui")),l.a.createElement("br",null),"Version ",M.VERSION,l.a.createElement("br",null),l.a.createElement("br",null)),this.Logout=()=>(P.removeLocalStorage("token"),window.location.href="#/",window.location.reload(),null),this.state={header:"Home",publishData:null}}changeHeader(e){this.state.header!==e&&this.setState({header:e})}gotoPublish(e,t){this.setState({publishData:e}),window.location.hash="#/"+t}render(){return window.changeHeader=this.changeHeader.bind(this),l.a.createElement(l.a.Fragment,null,l.a.createElement(Le.a,{path:"/manage",component:this.Home}),l.a.createElement(Le.a,{path:"/login",component:H}),l.a.createElement(Le.a,{path:"/view/:id",component:this.View}),l.a.createElement(Le.a,{path:"/publish",component:this.Publish}),l.a.createElement(Le.a,{path:"/getimage",component:this.GetImage}),l.a.createElement(Le.a,{path:"/scheduled",component:Ye}),l.a.createElement(Le.a,{path:"/fbfeed",component:Qe}),l.a.createElement(Le.a,{path:"/settings",component:tt}),l.a.createElement(Le.a,{path:"/logout",component:this.Logout}),l.a.createElement(this.Copyright,null))}}const ta=()=>(window.location.href=P.getLocalStorage("token")?"#/msg":"#/login",null);var aa=function(){return l.a.createElement(Me.a,null,l.a.createElement(He.a,{theme:h},l.a.createElement(qt,null,l.a.createElement("div",{className:"mainView"},l.a.createElement(Le.c,null,l.a.createElement(Le.a,{exact:!0,path:"/",component:ta}),l.a.createElement(Le.a,{path:"/msg",component:Pt}),l.a.createElement(Le.a,{component:ea}))),l.a.createElement(Ke,null)),l.a.createElement(Zt,null)))};class na extends l.a.Component{render(){return l.a.createElement("div",{id:"gtco-features"},l.a.createElement("div",{className:"gtco-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-md-offset-2 text-center gtco-heading"},l.a.createElement("h2",null,"Nh\u1eefng l\u01b0u \xfd d\xe0nh cho b\u1ea1n"),l.a.createElement("p",null,"\u0110\u01b0\u1ee3c l\u1eadp ra nh\u1eb1m m\u1ee5c \u0111\xedch t\u1ed5ng h\u1ee3p, ph\xe2n lo\u1ea1i c\xe1c d\u1ef1 \xe1n, nh\u1eefng cu\u1ed9c thi \u0111ang di\u1ec5n ra trong c\u1ed9ng \u0111\u1ed3ng gi\u1edbi tr\u1ebb, ch\xfang m\xecnh hi v\u1ecdng s\u1ebd gi\xfap \u0111\u1ee1 \u0111\u01b0\u1ee3c c\xe1c b\u1ea1n tr\u1ebb t\xecm ki\u1ebfm th\xe0nh c\xf4ng nh\u1eefng ho\u1ea1t \u0111\u1ed9ng ph\xf9 h\u1ee3p nh\u1ea5t v\u1edbi b\u1ea3n th\xe2n m\xecnh.",l.a.createElement("br",null)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"feature-left animate-box","data-animate-effect":"fadeInLeft"},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"icon-check"})),l.a.createElement("div",{className:"feature-copy"},l.a.createElement("h3",null,"NH\u1eacP TH\xd4NG TIN"),l.a.createElement("p",null,"H\xe3y ch\xfa \xfd nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 c\xe1c th\xf4ng tin c\xf3 trong form."))),l.a.createElement("div",{className:"feature-left animate-box","data-animate-effect":"fadeInLeft"},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"icon-check"})),l.a.createElement("div",{className:"feature-copy"},l.a.createElement("h3",null,"\u0110\u1ee2I DUY\u1ec6T"),l.a.createElement("p",null,"Admin s\u1ebd ph\xea duy\u1ec7t b\xe0i c\u1ee7a b\u1ea1n.",l.a.createElement("br",null),"B\u1ea1n s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c th\xf4ng b\xe1o ngay sau khi b\xe0i \u0111\u0103ng \u0111\u01b0\u1ee3c \u0111\u1eb7t l\u1ecbch \u0111\u1ec3 \u0111\u0103ng l\xean page."))),l.a.createElement("div",{className:"feature-left animate-box","data-animate-effect":"fadeInLeft"},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"icon-check"})),l.a.createElement("div",{className:"feature-copy"},l.a.createElement("h3",null,"\u0110\u0102NG V\xc0O GI\u1edc V\xc0NG"),l.a.createElement("p",null,"B\xe0i c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c h\u1eb9n gi\u1edd \u0111\u1ec3 up v\xe0o khung gi\u1edd v\xe0ng (20h - 21h).",l.a.createElement("br",null),"V\xec v\u1eady n\u1ebfu ch\u01b0a th\u1ea5y b\xe0i c\u1ee7a b\u1ea1n ch\u01b0a \u0111\u01b0\u1ee3c \u0111\u0103ng ngay, ",l.a.createElement("b",null,"\u0111\u1eebng v\u1ed9i")," g\u1eedi l\u1ea1i b\xe0i cho ch\xfang m\xecnh nh\xe9!")))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("center",null,l.a.createElement("p",null,l.a.createElement("br",null),l.a.createElement("br",null),'B\u1eb1ng vi\u1ec7c b\u1ea5m n\xfat "Ti\u1ebfp t\u1ee5c", b\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi c\xe1c ',l.a.createElement("a",{href:"https://sites.google.com/view/tonghopevent",target:"_blank",rel:"noopener noreferrer"},"\u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng")," c\u1ee7a fanpage"),l.a.createElement("a",{className:"btn btn-block btn-primary",href:"#/next"},"TI\u1ebeP T\u1ee4C \u279c"),l.a.createElement("br",null),"N\u1ebfu b\u1ea1n g\u1eb7p l\u1ed7i, h\xe3y th\xf4ng b\xe1o cho admin t\u1ea1i: ",l.a.createElement("a",{href:"https://m.me/tonghopevent",target:"_blank",rel:"noopener noreferrer"},"https://m.me/tonghopevent"),l.a.createElement("br",null))))))}}var la=na;class ra extends l.a.Component{render(){return l.a.createElement("div",{id:"gtco-features"},l.a.createElement("div",{className:"gtco-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-md-offset-2 text-center gtco-heading"},l.a.createElement("h2",null,"H\u01b0\u1edbng d\u1eabn"),l.a.createElement("p",null,"\u0110\u1ec3 \u0111\u0103ng d\u1ef1 \xe1n, cu\u1ed9c thi l\xean fanpage, b\u1ea1n h\xe3y th\u1ef1c hi\u1ec7n theo h\u01b0\u1edbng d\u1eabn sau:",l.a.createElement("br",null),"B\u1ea1n h\xe3y inbox v\xe0o fanpage t\u1ea1i: ",l.a.createElement("a",{href:"https://m.me/tonghopevent",target:"_blank",rel:"noopener noreferrer"},"https://m.me/tonghopevent"),l.a.createElement("br",null),"Sau \u0111\xf3 b\u1ea5m v\xe0o n\xfat ",l.a.createElement("b",null,"\u0110\u0103ng d\u1ef1 \xe1n/cu\u1ed9c thi")," \u1edf menu nh\xe9!",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("small",null,"N\u1ebfu b\u1ea1n g\u1eb7p l\u1ed7i, h\xe3y th\xf4ng b\xe1o cho admin t\u1ea1i th\xf4ng qua inbox fanpage"))))))}}var ia=ra;class oa extends l.a.Component{render(){return l.a.createElement("div",{id:"gtco-features"},l.a.createElement("div",{className:"gtco-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-md-offset-2 text-center gtco-heading"},l.a.createElement("h2",null,"H\u01b0\u1edbng d\u1eabn"),l.a.createElement("p",null,"B\u1ea1n d\xf9ng link t\u1edbi phi\xean b\u1ea3n c\u0169 c\u1ee7a fanpage",l.a.createElement("br",null),"H\xe3y b\u1ea5m n\xfat ",l.a.createElement("b",null,"\u0110\u0103ng d\u1ef1 \xe1n/cu\u1ed9c thi")," \u1edf trong menu inbox \u0111\u1ec3 nh\u1eadn link m\u1edbi nh\xe9!",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("small",null,"N\u1ebfu b\u1ea1n g\u1eb7p l\u1ed7i, h\xe3y th\xf4ng b\xe1o cho admin t\u1ea1i: ",l.a.createElement("a",{href:"https://m.me/tonghopevent",target:"_blank",rel:"noopener noreferrer"},"https://m.me/tonghopevent")))))))}}var sa=oa;class ca extends l.a.Component{constructor(e){super(e),this.psid=P.getPsid()}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{id:"gtco-header",className:"gtco-cover",role:"banner",style:{backgroundImage:"url(theme/images/img_bg_1.jpg"}},l.a.createElement("div",{className:"gtco-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-md-offset-2 text-center"},l.a.createElement("div",{className:"display-t"},l.a.createElement("div",{className:"display-tc animate-box","data-animate-effect":"fadeIn"},l.a.createElement("h1",null,"\u0110\u0103ng d\u1ef1 \xe1n"),l.a.createElement("h2",null,"T\u1ed5ng h\u1ee3p c\xe1c d\u1ef1 \xe1n v\xe0 cu\u1ed9c thi d\xe0nh cho h\u1ecdc sinh, sinh vi\xean"))))))),"none"!==this.psid?l.a.createElement(la,null):P.getParameterByName("psid")?l.a.createElement(sa,null):l.a.createElement(ia,null))}}var da=ca;var ma=[e=>({type:"small",title:"B\u1ea1n mu\u1ed1n \u0111\u0103ng b\xe0i v\u1ec1",options:[{text:"D\u1ef1 \xe1n",subtitle:"Ho\u1ea1t \u0111\u1ed9ng ngo\u1ea1i kh\xf3a",value:"D\u1ef1 \xe1n"},{text:"Cu\u1ed9c thi",subtitle:"D\xe0nh cho HS, SV",value:"Cu\u1ed9c thi"},{text:"S\u1ef1 ki\u1ec7n",subtitle:"D\xe0nh cho HS, SV",value:"S\u1ef1 ki\u1ec7n"}],notice:"L\u01b0u \xfd: Fanpage kh\xf4ng nh\u1eadn \u0111\u0103ng b\xe0i v\u1ec1 tuy\u1ec3n d\u1ee5ng vi\u1ec7c l\xe0m.",next:t=>{const a={screen:1,type:t};"Cu\u1ed9c thi"===t?a.tag="#cu\u1ed9c_thi":"S\u1ef1 ki\u1ec7n"===t&&(a.tag="#s\u1ef1_ki\u1ec7n"),e.setState(a)}}),e=>({type:"long",title:l.a.createElement(l.a.Fragment,null,e.state.type," c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c ",l.a.createElement("b",null,"\u0111i\u1ec1u h\xe0nh b\u1edfi")),options:[{text:"M\u1ed9t nh\xf3m h\u1ecdc sinh, sinh vi\xean",subtitle:"Ho\u1ea1t \u0111\u1ed9ng phi l\u1ee3i nhu\u1eadn",value:"F1"},{text:"M\u1ed9t c\xe2u l\u1ea1c b\u1ed9 trong tr\u01b0\u1eddng h\u1ecdc",subtitle:"Ho\u1ea1t \u0111\u1ed9ng phi l\u1ee3i nhu\u1eadn",value:"F2"},{text:"M\u1ed9t tr\u01b0\u1eddng h\u1ecdc c\xf4ng l\u1eadp",subtitle:"VD: tr\u01b0\u1eddng THCS, THPT, \u0110H, Cao \u0111\u1eb3ng,...",value:"F3"},{text:"M\u1ed9t t\u1ed5 ch\u1ee9c phi l\u1ee3i nhu\u1eadn",subtitle:"VD: AIESEC, VOGE, SOTB,...",value:"F4"},{text:"T\u1ed5 ch\u1ee9c ho\u1ea1t \u0111\u1ed9ng c\xf3 l\u1ee3i nhu\u1eadn",subtitle:"VD: trung t\xe2m ngo\u1ea1i ng\u1eef, c\u1eeda h\xe0ng,...",value:"P1"}],next:t=>{"P1"===t?e.setState({screen:2}):window.location.replace(e.getFormUrl(t))}}),e=>({type:"basic",title:l.a.createElement(l.a.Fragment,null,"D\u1ef1a theo ",l.a.createElement("a",{href:"https://sites.google.com/view/tonghopevent",target:"_blank",rel:"noopener noreferrer"},"\u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng")," c\u1ee7a ch\xfang m\xecnh, ",e.state.type.toLowerCase()," \u0111\u01b0\u1ee3c t\u1ed5 ch\u1ee9c ho\u1eb7c \u0111\u01b0\u1ee3c \u0111i\u1ec1u h\xe0nh b\u1edfi m\u1ed9t ho\u1eb7c nhi\u1ec1u doanh nghi\u1ec7p, t\u1ed5 ch\u1ee9c hay c\xe1 nh\xe2n ",l.a.createElement("b",null,"ho\u1ea1t \u0111\u1ed9ng c\xf3 l\u1ee3i nhu\u1eadn")," ph\u1ea3i tr\u1ea3 ph\xed theo ",l.a.createElement("b",null,"G\xf3i P1"),l.a.createElement("br",null),l.a.createElement("br",null),"G\xf3i P1 c\xf3 gi\xe1 l\xe0 100.000 VN\u0110 / 1 b\xe0i \u0111\u0103ng [",l.a.createElement("a",{href:"https://sites.google.com/view/tonghopevent/g\xf3i-p1",target:"_blank",rel:"noopener noreferrer"},"B\u1ea5m \u0111\xe2y \u0111\u1ec3 xem chi ti\u1ebft"),"]",l.a.createElement("br",null),l.a.createElement("br",null),"\u0110\u1ec3 ti\u1ebfp t\u1ee5c, b\u1ea1n h\xe3y nh\u1eadp th\xf4ng tin v\xe0o form sau: \xa0",l.a.createElement("button",{className:"btn btn-small btn-primary",style:{padding:"4px"},onClick:()=>{window.location.replace(e.getFormUrl("P1"))}},"T\u1edbi Form \u279c"),l.a.createElement("br",null),"Sau \u0111\xf3, h\u01b0\u1edbng d\u1eabn thanh to\xe1n s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi inbox c\u1ee7a b\u1ea1n.")})];class ha extends l.a.Component{constructor(e){super(e);const t=P.getPsid();this.psid="none"!==t?t:null,this.state={screen:0,tag:null}}getFormUrl(e){const t=`${this.psid}${e?";"+e:""}`;return P.getFormUrl(t,this.state.tag)}componentDidMount(){setTimeout(window.scrollToTop,50)}_renderSmallBtn(e){return e.options.map((t,a)=>l.a.createElement("button",{key:t.value+a,className:"btn btn-default btn-proj-cate",onClick:()=>e.next(t.value)},t.text))}_renderLargeBtn(e){return e.options.map((t,a)=>l.a.createElement("button",{key:t.value+a,className:"btn btn-default btn-proj-type",onClick:()=>e.next(t.value)},l.a.createElement("b",null,t.text),l.a.createElement("br",null),l.a.createElement("small",null,t.subtitle)))}render(){const e=ma[this.state.screen](this);return l.a.createElement("div",{id:"gtco-features"},l.a.createElement("div",{className:"gtco-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-md-offset-2 text-center gtco-heading"},l.a.createElement("h2",null,"Th\xf4ng tin chung"),l.a.createElement("p",null,e.title),"basic"!==e.type&&l.a.createElement("p",null,"small"===e.type?this._renderSmallBtn(e):this._renderLargeBtn(e)),e.notice&&l.a.createElement("p",{style:{fontSize:"0.8em"}},e.notice)))))}}var ua=ha;var pa=function(){return l.a.createElement("footer",{id:"gtco-footer",role:"contentinfo"},l.a.createElement("div",{className:"gtco-container"},l.a.createElement("div",{className:"row copyright"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("p",{className:"pull-left"},l.a.createElement("small",{className:"block"},"L\u1eadp tr\xecnh b\u1edfi ",l.a.createElement("a",{rel:"noopener noreferrer",href:"https://ngxson.com",target:"_blank"},"Nui")),l.a.createElement("small",{className:"block"},"Theme by ",l.a.createElement("a",{rel:"noopener noreferrer",href:"http://gettemplates.co/",target:"_blank"},"GetTemplates.co"))),l.a.createElement("div",{className:"pull-right"},l.a.createElement("ul",{className:"gtco-social-icons pull-right"},l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.facebook.com/tonghopevent/"},l.a.createElement("i",{className:"icon-facebook"})))))))))};a(5466);class ga extends l.a.Component{constructor(){super(),this.Home=()=>l.a.createElement(da,null),this.Quiz=()=>l.a.createElement(ua,null),this.state={}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Le.a,{exact:!0,path:"/",component:this.Home}),l.a.createElement(Le.a,{path:"/next",component:this.Quiz}),l.a.createElement(pa,null))}}var Ea=function(){return l.a.createElement(Me.a,null,l.a.createElement(ga,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.location.pathname.match(/\/data/)?(console.log(M.VERSION),P.loadSettings(),i.a.render(l.a.createElement(aa,null),document.getElementById("root"))):i.a.render(l.a.createElement(Ea,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[5392,1,2]]]);
//# sourceMappingURL=main.2977875f.chunk.js.map